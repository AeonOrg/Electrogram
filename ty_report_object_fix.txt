error[unresolved-attribute]: Attribute `groups` is not defined on `None` in union `Match[str] | None`
  --> compiler/errors/compiler.py:38:26
   |
37 |         for i in files:
38 |             code, name = re.search(r"(\d+)_([A-Z_]+)", i).groups()
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
39 |
40 |             f_all.write(f"    {code}: {{\n")
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/connection/connection.py:39:67
   |
37 |     async def connect(self) -> None:
38 |         for _i in range(Connection.MAX_CONNECTION_ATTEMPTS):
39 |             self.protocol = self.protocol_factory(ipv6=self.ipv6, proxy=self.proxy)
   |                                                                   ^^^^^^^^^^^^^^^^ Expected `Proxy`, found `Unknown | dict[Unknown, Unknown]`
40 |
41 |             try:
   |
info: Element `dict[Unknown, Unknown]` of this union is not assignable to `Proxy`
info: Method defined here
  --> pyrogram/connection/transport/tcp/tcp.py:31:9
   |
29 |     TIMEOUT = 10
30 |
31 |     def __init__(self, ipv6: bool, proxy: Proxy) -> None:
   |         ^^^^^^^^                   ------------ Parameter declared here
32 |         self.ipv6 = ipv6
33 |         self.proxy = proxy
   |
info: Union variant `bound method TCP.__init__(ipv6: bool, proxy: Proxy) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | type[TCP]`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `connect` is incorrect
  --> pyrogram/connection/connection.py:43:45
   |
41 |             try:
42 |                 log.info("Connecting...")
43 |                 await self.protocol.connect(self.address)
   |                                             ^^^^^^^^^^^^ Expected `tuple[str, int]`, found `Unknown | DataCenter`
44 |             except OSError as e:
45 |                 log.warning("Unable to connect due to network issues: %s", e)
   |
info: Element `DataCenter` of this union is not assignable to `tuple[str, int]`
info: Method defined here
  --> pyrogram/connection/transport/tcp/tcp.py:95:15
   |
93 |             await self._connect_via_direct(destination)
94 |
95 |     async def connect(self, address: tuple[str, int]) -> None:
   |               ^^^^^^^       ------------------------ Parameter declared here
96 |         try:
97 |             await asyncio.wait_for(self._connect(address), TCP.TIMEOUT)
   |
info: Union variant `bound method TCP.connect(address: tuple[str, int]) -> CoroutineType[Any, Any, None]` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method TCP.connect(address: tuple[str, int]) -> CoroutineType[Any, Any, None])`
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `close` is not defined on `None` in union `TCP | None`
  --> pyrogram/connection/connection.py:62:15
   |
61 |     async def close(self) -> None:
62 |         await self.protocol.close()
   |               ^^^^^^^^^^^^^^^^^^^
63 |         log.info("Disconnected")
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `send` is not defined on `None` in union `TCP | None`
  --> pyrogram/connection/connection.py:66:15
   |
65 |     async def send(self, data: bytes) -> None:
66 |         await self.protocol.send(data)
   |               ^^^^^^^^^^^^^^^^^^
67 |
68 |     async def recv(self) -> bytes | None:
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `recv` is not defined on `None` in union `TCP | None`
  --> pyrogram/connection/connection.py:69:22
   |
68 |     async def recv(self) -> bytes | None:
69 |         return await self.protocol.recv()
   |                      ^^^^^^^^^^^^^^^^^^
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `read` is not defined on `None` in union `StreamReader | None`
   --> pyrogram/connection/transport/tcp/tcp.py:129:21
    |
127 |             try:
128 |                 chunk = await asyncio.wait_for(
129 |                     self.reader.read(length - len(data)),
    |                     ^^^^^^^^^^^^^^^^
130 |                     TCP.TIMEOUT,
131 |                 )
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-assignment]: Object of type `bytes | None` is not assignable to `int`
  --> pyrogram/connection/transport/tcp/tcp_abridged.py:32:9
   |
31 |     async def recv(self, length: int = 0) -> bytes | None:
32 |         length = await super().recv(1)
   |         ------   ^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `bytes | None`
   |         |
   |         Declared type `int`
33 |
34 |         if length is None:
   |
info: rule `invalid-assignment` is enabled by default

error[invalid-assignment]: Object of type `bytes | None` is not assignable to `int`
  --> pyrogram/connection/transport/tcp/tcp_abridged.py:38:13
   |
37 |         if length == b"\x7f":
38 |             length = await super().recv(3)
   |             ------   ^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `bytes | None`
   |             |
   |             Declared type `int`
39 |
40 |             if length is None:
   |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `from_bytes` is incorrect
  --> pyrogram/connection/transport/tcp/tcp_abridged.py:43:50
   |
41 |                 return None
42 |
43 |         return await super().recv(int.from_bytes(length, "little") * 4)
   |                                                  ^^^^^^ Expected `Iterable[SupportsIndex] | SupportsBytes | Buffer`, found `int`
   |
info: Method defined here
   --> stdlib/builtins.pyi:486:13
    |
485 |         @classmethod
486 |         def from_bytes(
    |             ^^^^^^^^^^
487 |             cls,
488 |             bytes: Iterable[SupportsIndex] | SupportsBytes | ReadableBuffer,
    |             --------------------------------------------------------------- Parameter declared here
489 |             byteorder: Literal["little", "big"],
490 |             *,
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `ctr256_encrypt` is incorrect
  --> pyrogram/connection/transport/tcp/tcp_abridged_o.py:43:43
   |
41 |         self.decrypt = (temp[0:32], temp[32:48], bytearray(1))
42 |
43 |         nonce[56:64] = aes.ctr256_encrypt(nonce, *self.encrypt)[56:64]
   |                                           ^^^^^ Expected `bytes`, found `bytearray`
44 |
45 |         await super().send(nonce)
   |
info: Function defined here
  --> pyrogram/crypto/aes.py:18:5
   |
18 | def ctr256_encrypt(
   |     ^^^^^^^^^^^^^^
19 |     data: bytes,
   |     ----------- Parameter declared here
20 |     key: bytes,
21 |     iv: bytearray,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `ctr256_encrypt` is incorrect
  --> pyrogram/connection/transport/tcp/tcp_abridged_o.py:43:50
   |
41 |         self.decrypt = (temp[0:32], temp[32:48], bytearray(1))
42 |
43 |         nonce[56:64] = aes.ctr256_encrypt(nonce, *self.encrypt)[56:64]
   |                                                  ^^^^^^^^^^^^^ Expected `bytes`, found `bytearray`
44 |
45 |         await super().send(nonce)
   |
info: Function defined here
  --> pyrogram/crypto/aes.py:18:5
   |
18 | def ctr256_encrypt(
   |     ^^^^^^^^^^^^^^
19 |     data: bytes,
20 |     key: bytes,
   |     ---------- Parameter declared here
21 |     iv: bytearray,
22 |     state: bytearray | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `send` is incorrect
  --> pyrogram/connection/transport/tcp/tcp_abridged_o.py:45:28
   |
43 |         nonce[56:64] = aes.ctr256_encrypt(nonce, *self.encrypt)[56:64]
44 |
45 |         await super().send(nonce)
   |                            ^^^^^ Expected `bytes`, found `bytearray`
46 |
47 |     async def send(self, data: bytes, *args) -> None:
   |
info: Method defined here
   --> pyrogram/connection/transport/tcp/tcp.py:111:15
    |
109 |             log.info("Close exception: %s %s", type(e).__name__, e)
110 |
111 |     async def send(self, data: bytes) -> None:
    |               ^^^^       ----------- Parameter declared here
112 |         if self.writer is None:
113 |             return
    |
info: rule `invalid-argument-type` is enabled by default

error[not-iterable]: Object of type `Unknown | None | tuple[bytearray, bytearray, bytearray]` may not be iterable
  --> pyrogram/connection/transport/tcp/tcp_abridged_o.py:58:14
   |
56 |             aes.ctr256_encrypt,
57 |             data,
58 |             *self.encrypt,
   |              ^^^^^^^^^^^^
59 |         )
   |
info: It may not have an `__iter__` method or a `__getitem__` method
info: rule `not-iterable` is enabled by default

error[invalid-assignment]: Object of type `bytes | None` is not assignable to `int`
  --> pyrogram/connection/transport/tcp/tcp_abridged_o.py:64:9
   |
63 |     async def recv(self, length: int = 0) -> bytes | None:
64 |         length = await super().recv(1)
   |         ------   ^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `bytes | None`
   |         |
   |         Declared type `int`
65 |
66 |         if length is None:
   |
info: rule `invalid-assignment` is enabled by default

error[invalid-assignment]: Object of type `bytes` is not assignable to `int`
  --> pyrogram/connection/transport/tcp/tcp_abridged_o.py:69:9
   |
67 |             return None
68 |
69 |         length = aes.ctr256_decrypt(length, *self.decrypt)
   |         ------   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `bytes`
   |         |
   |         Declared type `int`
70 |
71 |         if length == b"\x7f":
   |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to function `ctr256_decrypt` is incorrect
  --> pyrogram/connection/transport/tcp/tcp_abridged_o.py:69:37
   |
67 |             return None
68 |
69 |         length = aes.ctr256_decrypt(length, *self.decrypt)
   |                                     ^^^^^^ Expected `bytes`, found `int`
70 |
71 |         if length == b"\x7f":
   |
info: Function defined here
  --> pyrogram/crypto/aes.py:27:5
   |
27 | def ctr256_decrypt(
   |     ^^^^^^^^^^^^^^
28 |     data: bytes,
   |     ----------- Parameter declared here
29 |     key: bytes,
30 |     iv: bytearray,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `ctr256_decrypt` is incorrect
  --> pyrogram/connection/transport/tcp/tcp_abridged_o.py:69:45
   |
67 |             return None
68 |
69 |         length = aes.ctr256_decrypt(length, *self.decrypt)
   |                                             ^^^^^^^^^^^^^ Expected `bytes`, found `Unknown | bytearray`
70 |
71 |         if length == b"\x7f":
   |
info: Element `bytearray` of this union is not assignable to `bytes`
info: Function defined here
  --> pyrogram/crypto/aes.py:27:5
   |
27 | def ctr256_decrypt(
   |     ^^^^^^^^^^^^^^
28 |     data: bytes,
29 |     key: bytes,
   |     ---------- Parameter declared here
30 |     iv: bytearray,
31 |     state: bytearray | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[not-iterable]: Object of type `Unknown | None | tuple[bytearray, bytearray, bytearray]` may not be iterable
  --> pyrogram/connection/transport/tcp/tcp_abridged_o.py:69:46
   |
67 |             return None
68 |
69 |         length = aes.ctr256_decrypt(length, *self.decrypt)
   |                                              ^^^^^^^^^^^^
70 |
71 |         if length == b"\x7f":
   |
info: It may not have an `__iter__` method or a `__getitem__` method
info: rule `not-iterable` is enabled by default

error[invalid-assignment]: Object of type `bytes | None` is not assignable to `int`
  --> pyrogram/connection/transport/tcp/tcp_abridged_o.py:72:13
   |
71 |         if length == b"\x7f":
72 |             length = await super().recv(3)
   |             ------   ^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `bytes | None`
   |             |
   |             Declared type `int`
73 |
74 |             if length is None:
   |
info: rule `invalid-assignment` is enabled by default

error[invalid-assignment]: Object of type `bytes` is not assignable to `int`
  --> pyrogram/connection/transport/tcp/tcp_abridged_o.py:77:13
   |
75 |                 return None
76 |
77 |             length = aes.ctr256_decrypt(length, *self.decrypt)
   |             ------   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `bytes`
   |             |
   |             Declared type `int`
78 |
79 |         data = await super().recv(int.from_bytes(length, "little") * 4)
   |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to function `ctr256_decrypt` is incorrect
  --> pyrogram/connection/transport/tcp/tcp_abridged_o.py:77:41
   |
75 |                 return None
76 |
77 |             length = aes.ctr256_decrypt(length, *self.decrypt)
   |                                         ^^^^^^ Expected `bytes`, found `int`
78 |
79 |         data = await super().recv(int.from_bytes(length, "little") * 4)
   |
info: Function defined here
  --> pyrogram/crypto/aes.py:27:5
   |
27 | def ctr256_decrypt(
   |     ^^^^^^^^^^^^^^
28 |     data: bytes,
   |     ----------- Parameter declared here
29 |     key: bytes,
30 |     iv: bytearray,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `ctr256_decrypt` is incorrect
  --> pyrogram/connection/transport/tcp/tcp_abridged_o.py:77:49
   |
75 |                 return None
76 |
77 |             length = aes.ctr256_decrypt(length, *self.decrypt)
   |                                                 ^^^^^^^^^^^^^ Expected `bytes`, found `Unknown | bytearray`
78 |
79 |         data = await super().recv(int.from_bytes(length, "little") * 4)
   |
info: Element `bytearray` of this union is not assignable to `bytes`
info: Function defined here
  --> pyrogram/crypto/aes.py:27:5
   |
27 | def ctr256_decrypt(
   |     ^^^^^^^^^^^^^^
28 |     data: bytes,
29 |     key: bytes,
   |     ---------- Parameter declared here
30 |     iv: bytearray,
31 |     state: bytearray | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[not-iterable]: Object of type `Unknown | None | tuple[bytearray, bytearray, bytearray]` may not be iterable
  --> pyrogram/connection/transport/tcp/tcp_abridged_o.py:77:50
   |
75 |                 return None
76 |
77 |             length = aes.ctr256_decrypt(length, *self.decrypt)
   |                                                  ^^^^^^^^^^^^
78 |
79 |         data = await super().recv(int.from_bytes(length, "little") * 4)
   |
info: It may not have an `__iter__` method or a `__getitem__` method
info: rule `not-iterable` is enabled by default

error[invalid-argument-type]: Argument to bound method `from_bytes` is incorrect
  --> pyrogram/connection/transport/tcp/tcp_abridged_o.py:79:50
   |
77 |             length = aes.ctr256_decrypt(length, *self.decrypt)
78 |
79 |         data = await super().recv(int.from_bytes(length, "little") * 4)
   |                                                  ^^^^^^ Expected `Iterable[SupportsIndex] | SupportsBytes | Buffer`, found `int`
80 |
81 |         if data is None:
   |
info: Method defined here
   --> stdlib/builtins.pyi:486:13
    |
485 |         @classmethod
486 |         def from_bytes(
    |             ^^^^^^^^^^
487 |             cls,
488 |             bytes: Iterable[SupportsIndex] | SupportsBytes | ReadableBuffer,
    |             --------------------------------------------------------------- Parameter declared here
489 |             byteorder: Literal["little", "big"],
490 |             *,
    |
info: rule `invalid-argument-type` is enabled by default

error[not-iterable]: Object of type `Unknown | None | tuple[bytearray, bytearray, bytearray]` may not be iterable
  --> pyrogram/connection/transport/tcp/tcp_abridged_o.py:88:14
   |
86 |             aes.ctr256_decrypt,
87 |             data,
88 |             *self.decrypt,
   |              ^^^^^^^^^^^^
89 |         )
   |
info: It may not have an `__iter__` method or a `__getitem__` method
info: rule `not-iterable` is enabled by default

error[unsupported-operator]: Unsupported `+=` operation
  --> pyrogram/connection/transport/tcp/tcp_full.py:26:9
   |
24 |         data = pack("<II", len(data) + 12, self.seq_no) + data
25 |         data += pack("<I", crc32(data))
26 |         self.seq_no += 1
   |         -----------^^^^-
   |         |              |
   |         |              Has type `Literal[1]`
   |         Has type `None`
27 |
28 |         await super().send(data)
   |
info: rule `unsupported-operator` is enabled by default

error[invalid-assignment]: Object of type `bytes | None` is not assignable to `int`
  --> pyrogram/connection/transport/tcp/tcp_full.py:31:9
   |
30 |     async def recv(self, length: int = 0) -> bytes | None:
31 |         length = await super().recv(4)
   |         ------   ^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `bytes | None`
   |         |
   |         Declared type `int`
32 |
33 |         if length is None:
   |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to function `unpack` is incorrect
  --> pyrogram/connection/transport/tcp/tcp_full.py:36:50
   |
34 |             return None
35 |
36 |         packet = await super().recv(unpack("<I", length)[0] - 4)
   |                                                  ^^^^^^ Expected `Buffer`, found `int`
37 |
38 |         if packet is None:
   |
info: Function defined here
  --> stdlib/_struct.pyi:52:5
   |
50 |     """
51 |
52 | def unpack(format: str | bytes, buffer: ReadableBuffer, /) -> tuple[Any, ...]:
   |     ^^^^^^                      ---------------------- Parameter declared here
53 |     """Return a tuple containing values unpacked according to the format string.
   |
info: rule `invalid-argument-type` is enabled by default

error[unsupported-operator]: Unsupported `+` operation
  --> pyrogram/connection/transport/tcp/tcp_full.py:41:18
   |
39 |             return None
40 |
41 |         packet = length + packet
   |                  ------^^^------
   |                  |        |
   |                  |        Has type `bytes`
   |                  Has type `int`
42 |         checksum = packet[-4:]
43 |         packet = packet[:-4]
   |
info: rule `unsupported-operator` is enabled by default

error[invalid-assignment]: Object of type `bytes | None` is not assignable to `int`
  --> pyrogram/connection/transport/tcp/tcp_intermediate.py:24:9
   |
23 |     async def recv(self, length: int = 0) -> bytes | None:
24 |         length = await super().recv(4)
   |         ------   ^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `bytes | None`
   |         |
   |         Declared type `int`
25 |
26 |         if length is None:
   |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to function `unpack` is incorrect
  --> pyrogram/connection/transport/tcp/tcp_intermediate.py:29:48
   |
27 |             return None
28 |
29 |         return await super().recv(unpack("<i", length)[0])
   |                                                ^^^^^^ Expected `Buffer`, found `int`
   |
info: Function defined here
  --> stdlib/_struct.pyi:52:5
   |
50 |     """
51 |
52 | def unpack(format: str | bytes, buffer: ReadableBuffer, /) -> tuple[Any, ...]:
   |     ^^^^^^                      ---------------------- Parameter declared here
53 |     """Return a tuple containing values unpacked according to the format string.
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `ctr256_encrypt` is incorrect
  --> pyrogram/connection/transport/tcp/tcp_intermediate_o.py:43:43
   |
41 |         self.decrypt = (temp[0:32], temp[32:48], bytearray(1))
42 |
43 |         nonce[56:64] = aes.ctr256_encrypt(nonce, *self.encrypt)[56:64]
   |                                           ^^^^^ Expected `bytes`, found `bytearray`
44 |
45 |         await super().send(nonce)
   |
info: Function defined here
  --> pyrogram/crypto/aes.py:18:5
   |
18 | def ctr256_encrypt(
   |     ^^^^^^^^^^^^^^
19 |     data: bytes,
   |     ----------- Parameter declared here
20 |     key: bytes,
21 |     iv: bytearray,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `ctr256_encrypt` is incorrect
  --> pyrogram/connection/transport/tcp/tcp_intermediate_o.py:43:50
   |
41 |         self.decrypt = (temp[0:32], temp[32:48], bytearray(1))
42 |
43 |         nonce[56:64] = aes.ctr256_encrypt(nonce, *self.encrypt)[56:64]
   |                                                  ^^^^^^^^^^^^^ Expected `bytes`, found `bytearray`
44 |
45 |         await super().send(nonce)
   |
info: Function defined here
  --> pyrogram/crypto/aes.py:18:5
   |
18 | def ctr256_encrypt(
   |     ^^^^^^^^^^^^^^
19 |     data: bytes,
20 |     key: bytes,
   |     ---------- Parameter declared here
21 |     iv: bytearray,
22 |     state: bytearray | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `send` is incorrect
  --> pyrogram/connection/transport/tcp/tcp_intermediate_o.py:45:28
   |
43 |         nonce[56:64] = aes.ctr256_encrypt(nonce, *self.encrypt)[56:64]
44 |
45 |         await super().send(nonce)
   |                            ^^^^^ Expected `bytes`, found `bytearray`
46 |
47 |     async def send(self, data: bytes, *args) -> None:
   |
info: Method defined here
   --> pyrogram/connection/transport/tcp/tcp.py:111:15
    |
109 |             log.info("Close exception: %s %s", type(e).__name__, e)
110 |
111 |     async def send(self, data: bytes) -> None:
    |               ^^^^       ----------- Parameter declared here
112 |         if self.writer is None:
113 |             return
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `ctr256_encrypt` is incorrect
  --> pyrogram/connection/transport/tcp/tcp_intermediate_o.py:49:62
   |
47 |     async def send(self, data: bytes, *args) -> None:
48 |         await super().send(
49 |             aes.ctr256_encrypt(pack("<i", len(data)) + data, *self.encrypt),
   |                                                              ^^^^^^^^^^^^^ Expected `bytes`, found `Unknown | bytearray`
50 |         )
   |
info: Element `bytearray` of this union is not assignable to `bytes`
info: Function defined here
  --> pyrogram/crypto/aes.py:18:5
   |
18 | def ctr256_encrypt(
   |     ^^^^^^^^^^^^^^
19 |     data: bytes,
20 |     key: bytes,
   |     ---------- Parameter declared here
21 |     iv: bytearray,
22 |     state: bytearray | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[not-iterable]: Object of type `Unknown | None | tuple[bytearray, bytearray, bytearray]` may not be iterable
  --> pyrogram/connection/transport/tcp/tcp_intermediate_o.py:49:63
   |
47 |     async def send(self, data: bytes, *args) -> None:
48 |         await super().send(
49 |             aes.ctr256_encrypt(pack("<i", len(data)) + data, *self.encrypt),
   |                                                               ^^^^^^^^^^^^
50 |         )
   |
info: It may not have an `__iter__` method or a `__getitem__` method
info: rule `not-iterable` is enabled by default

error[invalid-assignment]: Object of type `bytes | None` is not assignable to `int`
  --> pyrogram/connection/transport/tcp/tcp_intermediate_o.py:53:9
   |
52 |     async def recv(self, length: int = 0) -> bytes | None:
53 |         length = await super().recv(4)
   |         ------   ^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `bytes | None`
   |         |
   |         Declared type `int`
54 |
55 |         if length is None:
   |
info: rule `invalid-assignment` is enabled by default

error[invalid-assignment]: Object of type `bytes` is not assignable to `int`
  --> pyrogram/connection/transport/tcp/tcp_intermediate_o.py:58:9
   |
56 |             return None
57 |
58 |         length = aes.ctr256_decrypt(length, *self.decrypt)
   |         ------   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `bytes`
   |         |
   |         Declared type `int`
59 |
60 |         data = await super().recv(unpack("<i", length)[0])
   |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to function `ctr256_decrypt` is incorrect
  --> pyrogram/connection/transport/tcp/tcp_intermediate_o.py:58:37
   |
56 |             return None
57 |
58 |         length = aes.ctr256_decrypt(length, *self.decrypt)
   |                                     ^^^^^^ Expected `bytes`, found `int`
59 |
60 |         data = await super().recv(unpack("<i", length)[0])
   |
info: Function defined here
  --> pyrogram/crypto/aes.py:27:5
   |
27 | def ctr256_decrypt(
   |     ^^^^^^^^^^^^^^
28 |     data: bytes,
   |     ----------- Parameter declared here
29 |     key: bytes,
30 |     iv: bytearray,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `ctr256_decrypt` is incorrect
  --> pyrogram/connection/transport/tcp/tcp_intermediate_o.py:58:45
   |
56 |             return None
57 |
58 |         length = aes.ctr256_decrypt(length, *self.decrypt)
   |                                             ^^^^^^^^^^^^^ Expected `bytes`, found `Unknown | bytearray`
59 |
60 |         data = await super().recv(unpack("<i", length)[0])
   |
info: Element `bytearray` of this union is not assignable to `bytes`
info: Function defined here
  --> pyrogram/crypto/aes.py:27:5
   |
27 | def ctr256_decrypt(
   |     ^^^^^^^^^^^^^^
28 |     data: bytes,
29 |     key: bytes,
   |     ---------- Parameter declared here
30 |     iv: bytearray,
31 |     state: bytearray | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[not-iterable]: Object of type `Unknown | None | tuple[bytearray, bytearray, bytearray]` may not be iterable
  --> pyrogram/connection/transport/tcp/tcp_intermediate_o.py:58:46
   |
56 |             return None
57 |
58 |         length = aes.ctr256_decrypt(length, *self.decrypt)
   |                                              ^^^^^^^^^^^^
59 |
60 |         data = await super().recv(unpack("<i", length)[0])
   |
info: It may not have an `__iter__` method or a `__getitem__` method
info: rule `not-iterable` is enabled by default

error[invalid-argument-type]: Argument to function `unpack` is incorrect
  --> pyrogram/connection/transport/tcp/tcp_intermediate_o.py:60:48
   |
58 |         length = aes.ctr256_decrypt(length, *self.decrypt)
59 |
60 |         data = await super().recv(unpack("<i", length)[0])
   |                                                ^^^^^^ Expected `Buffer`, found `int`
61 |
62 |         if data is None:
   |
info: Function defined here
  --> stdlib/_struct.pyi:52:5
   |
50 |     """
51 |
52 | def unpack(format: str | bytes, buffer: ReadableBuffer, /) -> tuple[Any, ...]:
   |     ^^^^^^                      ---------------------- Parameter declared here
53 |     """Return a tuple containing values unpacked according to the format string.
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `ctr256_decrypt` is incorrect
  --> pyrogram/connection/transport/tcp/tcp_intermediate_o.py:65:41
   |
63 |             return None
64 |
65 |         return aes.ctr256_decrypt(data, *self.decrypt)
   |                                         ^^^^^^^^^^^^^ Expected `bytes`, found `Unknown | bytearray`
   |
info: Element `bytearray` of this union is not assignable to `bytes`
info: Function defined here
  --> pyrogram/crypto/aes.py:27:5
   |
27 | def ctr256_decrypt(
   |     ^^^^^^^^^^^^^^
28 |     data: bytes,
29 |     key: bytes,
   |     ---------- Parameter declared here
30 |     iv: bytearray,
31 |     state: bytearray | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[not-iterable]: Object of type `Unknown | None | tuple[bytearray, bytearray, bytearray]` may not be iterable
  --> pyrogram/connection/transport/tcp/tcp_intermediate_o.py:65:42
   |
63 |             return None
64 |
65 |         return aes.ctr256_decrypt(data, *self.decrypt)
   |                                          ^^^^^^^^^^^^
   |
info: It may not have an `__iter__` method or a `__getitem__` method
info: rule `not-iterable` is enabled by default

error[unresolved-attribute]: Module `tgcrypto` has no member `ige256_encrypt`
  --> pyrogram/crypto/aes.py:11:12
   |
10 | def ige256_encrypt(data: bytes, key: bytes, iv: bytes) -> bytes:
11 |     return tgcrypto.ige256_encrypt(data, key, iv)
   |            ^^^^^^^^^^^^^^^^^^^^^^^
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Module `tgcrypto` has no member `ige256_decrypt`
  --> pyrogram/crypto/aes.py:15:12
   |
14 | def ige256_decrypt(data: bytes, key: bytes, iv: bytes) -> bytes:
15 |     return tgcrypto.ige256_decrypt(data, key, iv)
   |            ^^^^^^^^^^^^^^^^^^^^^^^
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Module `tgcrypto` has no member `ctr256_encrypt`
  --> pyrogram/crypto/aes.py:24:12
   |
22 |     state: bytearray | None = None,
23 | ) -> bytes:
24 |     return tgcrypto.ctr256_encrypt(data, key, iv, state or bytearray(1))
   |            ^^^^^^^^^^^^^^^^^^^^^^^
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Module `tgcrypto` has no member `ctr256_decrypt`
  --> pyrogram/crypto/aes.py:33:12
   |
31 |     state: bytearray | None = None,
32 | ) -> bytes:
33 |     return tgcrypto.ctr256_decrypt(data, key, iv, state or bytearray(1))
   |            ^^^^^^^^^^^^^^^^^^^^^^^
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/dispatcher.py:341:37
    |
339 | …                     diff = await self.client.invoke(
340 | …                         raw.functions.updates.GetChannelDifference(
341 | …                             channel=await self.client.resolve_peer(id),
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputChannel`, found `Unknown | InputPeer | InputUser | InputChannel`
342 | …                             filter=raw.types.ChannelMessagesFilterEmpty(),
343 | …                             pts=local_pts,
    |
info: Union elements `InputPeer` and `InputUser` are not assignable to `InputChannel`
info: Method defined here
  --> pyrogram/raw/functions/updates/get_channel_difference.py:48:9
   |
46 |     QUALNAME = "functions.updates.GetChannelDifference"
47 |
48 |     def __init__(self, *, channel: "raw.base.InputChannel", filter: "raw.base.ChannelMessagesFilter", pts: int, limit: int, force: Opt…
   |         ^^^^^^^^          -------------------------------- Parameter declared here
49 |         self.channel = channel  # InputChannel
50 |         self.filter = filter  # ChannelMessagesFilter
   |
info: Union variant `bound method GetChannelDifference.__init__(*, channel: InputChannel, filter: ChannelMessagesFilter, pts: int, limit: int, force: bool | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetChannelDifference.__init__(*, channel: InputChannel, filter: ChannelMessagesFilter, pts: int, limit: int, force: bool | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | User | None`
   --> pyrogram/dispatcher.py:396:46
    |
394 | …                         pts_count=-1,
395 | …                     )
396 | …                     if id == self.client.me.id
    |                                ^^^^^^^^^^^^^^^^^
397 | …                     else raw.types.UpdateNewChannelMessage(
398 | …                         message=message,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `Self@_generate_next_value_` has no attribute `lower`
  --> pyrogram/enums/auto_name.py:9:16
   |
 7 | class AutoName(Enum):
 8 |     def _generate_next_value_(self, *args):
 9 |         return self.lower()
   |                ^^^^^^^^^^
10 |
11 |     def __repr__(self) -> str:
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `__new__` is incorrect
  --> pyrogram/errors/rpc_error.py:40:30
   |
39 |         try:
40 |             self.value = int(value)
   |                              ^^^^^ Expected `str | Buffer | SupportsInt | SupportsIndex | SupportsTrunc`, found `int | str | RpcError | None`
41 |         except (ValueError, TypeError):
42 |             self.value = value
   |
info: Union elements `RpcError` and `None` are not assignable to `str | Buffer | SupportsInt | SupportsIndex | SupportsTrunc`
info: Matching overload defined here
   --> stdlib/builtins.pyi:366:9
    |
365 |     @overload
366 |     def __new__(cls, x: ConvertibleToInt = 0, /) -> Self: ...
    |         ^^^^^^^      ----------------------- Parameter declared here
367 |     @overload
368 |     def __new__(cls, x: str | bytes | bytearray, /, base: SupportsIndex) -> Self: ...
    |
info: Non-matching overloads for function `__new__`:
info:   [Self](cls, x: str | bytes | bytearray, /, base: SupportsIndex) -> Self
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/file_id.py:277:21
    |
275 |                     volume_id=volume_id,
276 |                     thumbnail_source=thumbnail_source,
277 |                     thumbnail_file_type=thumbnail_file_type,
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `FileType | None`, found `int`
278 |                     thumbnail_size=thumbnail_size,
279 |                     local_id=local_id,
    |
info: Method defined here
   --> pyrogram/file_id.py:145:9
    |
143 |     MINOR = 30
144 |
145 |     def __init__(
    |         ^^^^^^^^
146 |         self,
147 |         *,
    |
   ::: pyrogram/file_id.py:158:9
    |
156 |         volume_id: int | None = None,
157 |         thumbnail_source: ThumbnailSource  | None = None,
158 |         thumbnail_file_type: FileType  | None = None,
    |         -------------------------------------------- Parameter declared here
159 |         thumbnail_size: str = "",
160 |         secret: int | None = None,
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `__new__` is incorrect
   --> pyrogram/file_id.py:476:71
    |
474 |     def encode(self):
475 |         if self.file_unique_type == FileUniqueType.WEB:
476 |             string = struct.pack("<is", self.file_unique_type, String(self.url))
    |                                                                       ^^^^^^^^ Expected `str`, found `Unknown | str | None`
477 |         elif self.file_unique_type == FileUniqueType.PHOTO:
478 |             string = struct.pack(
    |
info: Element `None` of this union is not assignable to `str`
info: Function defined here
  --> pyrogram/raw/core/primitives/string.py:18:9
   |
16 |         )
17 |
18 |     def __new__(cls, value: str) -> bytes:
   |         ^^^^^^^      ---------- Parameter declared here
19 |         return super().__new__(cls, value.encode())
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `(...) -> Unknown` has no attribute `__name__`
   --> pyrogram/filters.py:148:17
    |
146 |     """
147 |     return type(
148 |         name or func.__name__ or CUSTOM_FILTER_NAME,
    |                 ^^^^^^^^^^^^^
149 |         (Filter,),
150 |         {"__call__": func, **kwargs},
    |
help: Function objects have a `__name__` attribute, but not all callable objects are functions
help: See this FAQ for more information: <https://docs.astral.sh/ty/reference/typing-faq/#why-does-ty-say-callable-has-no-attribute-__name__>
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `Message` has no attribute `giveaway_winners`
   --> pyrogram/filters.py:293:17
    |
292 | async def giveaway_result_filter(_, __, m: Message):
293 |     return bool(m.giveaway_winners or m.giveaway_completed)
    |                 ^^^^^^^^^^^^^^^^^^
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `Message` has no attribute `giveaway_completed`
   --> pyrogram/filters.py:293:39
    |
292 | async def giveaway_result_filter(_, __, m: Message):
293 |     return bool(m.giveaway_winners or m.giveaway_completed)
    |                                       ^^^^^^^^^^^^^^^^^^^^
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `Message` has no attribute `web_page`
   --> pyrogram/filters.py:373:17
    |
372 | async def web_page_filter(_, __, m: Message):
373 |     return bool(m.web_page)
    |                 ^^^^^^^^^^
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `username` is not defined on `None` in union `User | None`
   --> pyrogram/filters.py:717:20
    |
716 |     async def func(flt, client: pyrogram.Client, message: Message) -> bool:
717 |         username = client.me.username or ""
    |                    ^^^^^^^^^^^^^^^^^^
718 |         text = message.text or message.caption
719 |         message.command = None
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-assignment]: Object of type `set[Unknown | str]` is not assignable to `str | list[str]`
   --> pyrogram/filters.py:760:5
    |
759 |     commands = commands if isinstance(commands, list) else [commands]
760 |     commands = {c if case_sensitive else c.lower() for c in commands}
    |     --------   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `set[Unknown | str]`
    |     |
    |     Declared type `str | list[str]`
761 |
762 |     prefixes = [] if prefixes is None else prefixes
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-assignment]: Object of type `set[Unknown] | set[Unknown | str]` is not assignable to `str | list[str]`
   --> pyrogram/filters.py:764:5
    |
762 |     prefixes = [] if prefixes is None else prefixes
763 |     prefixes = prefixes if isinstance(prefixes, list) else [prefixes]
764 |     prefixes = set(prefixes) if prefixes else {""}
    |     --------   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `set[Unknown] | set[Unknown | str]`
    |     |
    |     Declared type `str | list[str]`
765 |
766 |     return create(
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-assignment]: Object of type `(list[Unknown] & ~AlwaysFalsy) | None` is not assignable to attribute `matches` on type `PreCheckoutQuery | (InlineQuery & ~PreCheckoutQuery) | (CallbackQuery & ~InlineQuery & ~PreCheckoutQuery) | (Message & ~CallbackQuery & ~InlineQuery & ~PreCheckoutQuery)`
   --> pyrogram/filters.py:809:13
    |
808 |         if value:
809 |             update.matches = list(flt.p.finditer(value)) or None
    |             ^^^^^^^^^^^^^^
810 |
811 |         return bool(update.matches)
    |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Attribute `matches` is not defined on `PreCheckoutQuery` in union `PreCheckoutQuery | (InlineQuery & ~PreCheckoutQuery) | (CallbackQuery & ~InlineQuery & ~PreCheckoutQuery) | (Message & ~CallbackQuery & ~InlineQuery & ~PreCheckoutQuery)`
   --> pyrogram/filters.py:811:21
    |
809 |             update.matches = list(flt.p.finditer(value)) or None
810 |
811 |         return bool(update.matches)
    |                     ^^^^^^^^^^^^^^
812 |
813 |     return create(
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-method-override]: Invalid override of method `__call__`
   --> pyrogram/filters.py:847:15
    |
845 |         )
846 |
847 |     async def __call__(self, _, message: Message):
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Definition is incompatible with `Filter.__call__`
848 |         return message.from_user and (
849 |             message.from_user.id in self
    |
   ::: pyrogram/filters.py:26:15
    |
 25 | class Filter:
 26 |     async def __call__(self, client: pyrogram.Client, update: Update):
    |               ------------------------------------------------------- `Filter.__call__` defined here
 27 |         raise NotImplementedError
    |
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

error[invalid-method-override]: Invalid override of method `__call__`
   --> pyrogram/filters.py:885:15
    |
883 |         )
884 |
885 |     async def __call__(self, _, message: Message | Story):
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Definition is incompatible with `Filter.__call__`
886 |         if isinstance(message, Story):
887 |             return (
    |
   ::: pyrogram/filters.py:26:15
    |
 25 | class Filter:
 26 |     async def __call__(self, client: pyrogram.Client, update: Update):
    |               ------------------------------------------------------- `Filter.__call__` defined here
 27 |         raise NotImplementedError
    |
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

error[invalid-method-override]: Invalid override of method `__call__`
   --> pyrogram/filters.py:941:15
    |
939 |         super().__init__(t for t in topics)
940 |
941 |     async def __call__(self, _, message: Message):
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Definition is incompatible with `Filter.__call__`
942 |         return message.topic and message.topic.id in self
    |
   ::: pyrogram/filters.py:26:15
    |
 25 | class Filter:
 26 |     async def __call__(self, client: pyrogram.Client, update: Update):
    |               ------------------------------------------------------- `Filter.__call__` defined here
 27 |         raise NotImplementedError
    |
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

error[invalid-method-override]: Invalid override of method `check`
  --> pyrogram/handlers/conversation_handler.py:21:15
   |
19 |           self.waiters = {}
20 |
21 |       async def check(
   |  _______________^
22 | |         self,
23 | |         client: pyrogram.Client,
24 | |         update: Message | CallbackQuery,
25 | |     ) -> bool:
   | |_____________^ Definition is incompatible with `Handler.check`
26 |           if isinstance(update, Message) and update.outgoing:
27 |               return False
   |
  ::: pyrogram/handlers/handler.py:19:15
   |
17 |           self.filters = filters
18 |
19 |       async def check(self, client: pyrogram.Client, update: Update):
   |                 ---------------------------------------------------- `Handler.check` defined here
20 |           if callable(self.filters):
21 |               if inspect.iscoroutinefunction(self.filters.__call__):
   |
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
  --> pyrogram/handlers/conversation_handler.py:31:17
   |
29 |         try:
30 |             chat_id = (
31 |                 update.chat.id
   |                 ^^^^^^^^^^^^^^
32 |                 if isinstance(update, Message)
33 |                 else update.message.chat.id
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `chat` is not defined on `None` in union `Unknown | Message | None`
  --> pyrogram/handlers/conversation_handler.py:33:22
   |
31 |                 update.chat.id
32 |                 if isinstance(update, Message)
33 |                 else update.message.chat.id
   |                      ^^^^^^^^^^^^^^^^^^^
34 |             )
35 |         except AttributeError:
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
  --> pyrogram/handlers/conversation_handler.py:33:22
   |
31 |                 update.chat.id
32 |                 if isinstance(update, Message)
33 |                 else update.message.chat.id
   |                      ^^^^^^^^^^^^^^^^^^^^^^
34 |             )
35 |         except AttributeError:
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-method-override]: Invalid override of method `check`
  --> pyrogram/handlers/deleted_bot_business_messages_handler.py:42:15
   |
40 |         super().__init__(callback, filters)
41 |
42 |     async def check(self, client: pyrogram.Client, messages: list[Message]) -> bool:
   |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Definition is incompatible with `Handler.check`
43 |         for message in messages:
44 |             if await super().check(client, message):
   |
  ::: pyrogram/handlers/handler.py:19:15
   |
17 |         self.filters = filters
18 |
19 |     async def check(self, client: pyrogram.Client, update: Update):
   |               ---------------------------------------------------- `Handler.check` defined here
20 |         if callable(self.filters):
21 |             if inspect.iscoroutinefunction(self.filters.__call__):
   |
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

error[invalid-method-override]: Invalid override of method `check`
  --> pyrogram/handlers/deleted_messages_handler.py:42:15
   |
40 |         super().__init__(callback, filters)
41 |
42 |     async def check(self, client: pyrogram.Client, messages: list[Message]) -> bool:
   |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Definition is incompatible with `Handler.check`
43 |         # Every message should be checked, if at least one matches the filter True is returned
44 |         # otherwise, or if the list is empty, False is returned
   |
  ::: pyrogram/handlers/handler.py:19:15
   |
17 |         self.filters = filters
18 |
19 |     async def check(self, client: pyrogram.Client, update: Update):
   |               ---------------------------------------------------- `Handler.check` defined here
20 |         if callable(self.filters):
21 |             if inspect.iscoroutinefunction(self.filters.__call__):
   |
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/account/get_privacy.py:34:16
   |
32 |           chats = {i.id: i for i in r.chats}
33 |
34 |           return types.List(
   |  ________________^
35 | |             types.PrivacyRule._parse(self, rule, users, chats) for rule in r.rules
36 | |         )
   | |_________^ expected `PrivacyRule`, found `List`
   |
  ::: pyrogram/methods/account/get_privacy.py:11:10
   |
 9 |           self: pyrogram.Client,
10 |           key: enums.PrivacyKey,
11 |       ) -> types.PrivacyRule:
   |            ----------------- Expected `PrivacyRule` because of return type
12 |           """Get account privacy rules.
   |
info: rule `invalid-return-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/account/set_privacy.py:55:16
   |
53 |           chats = {i.id: i for i in r.chats}
54 |
55 |           return types.List(
   |  ________________^
56 | |             types.PrivacyRule._parse(self, rule, users, chats) for rule in r.rules
57 | |         )
   | |_________^ expected `PrivacyRule`, found `List`
   |
  ::: pyrogram/methods/account/set_privacy.py:22:10
   |
20 |               | types.InputPrivacyRuleDisallowChats
21 |           ],
22 |       ) -> types.PrivacyRule:
   |            ----------------- Expected `PrivacyRule` because of return type
23 |           """Set account privacy rules.
   |
info: rule `invalid-return-type` is enabled by default

error[unresolved-attribute]: Attribute `invoke` is not defined on `None` in union `Unknown | None | Session`
  --> pyrogram/methods/advanced/invoke.py:69:19
   |
67 |             )
68 |
69 |         r = await self.session.invoke(
   |                   ^^^^^^^^^^^^^^^^^^^
70 |             query,
71 |             retries,
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `get_peer_by_id` is incorrect
  --> pyrogram/methods/advanced/resolve_peer.py:46:54
   |
44 |             return raw.types.InputPeerSelf()
45 |         try:
46 |             return await self.storage.get_peer_by_id(peer_id)
   |                                                      ^^^^^^^ Expected `int`, found `int | str`
47 |         except KeyError:
48 |             if isinstance(peer_id, str):
   |
info: Element `str` of this union is not assignable to `int`
info: Method defined here
   --> pyrogram/storage/sqlite_storage.py:178:15
    |
176 |         return None
177 |
178 |     async def get_peer_by_id(self, peer_id: int):
    |               ^^^^^^^^^^^^^^       ------------ Parameter declared here
179 |         q = await self.conn.execute(
180 |             "SELECT id, access_hash, type FROM peers WHERE id = ?",
    |
info: Union variant `bound method MemoryStorage.get_peer_by_id(peer_id: int) -> CoroutineType[Any, Any, Unknown]` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method Storage.get_peer_by_id(peer_id: int | str) -> CoroutineType[Any, Any, Any]) | (bound method MemoryStorage.get_peer_by_id(peer_id: int) -> CoroutineType[Any, Any, Unknown]) | (bound method FileStorage.get_peer_by_id(peer_id: int) -> CoroutineType[Any, Any, Unknown])`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `get_peer_by_id` is incorrect
  --> pyrogram/methods/advanced/resolve_peer.py:46:54
   |
44 |             return raw.types.InputPeerSelf()
45 |         try:
46 |             return await self.storage.get_peer_by_id(peer_id)
   |                                                      ^^^^^^^ Expected `int`, found `int | str`
47 |         except KeyError:
48 |             if isinstance(peer_id, str):
   |
info: Element `str` of this union is not assignable to `int`
info: Method defined here
   --> pyrogram/storage/sqlite_storage.py:178:15
    |
176 |         return None
177 |
178 |     async def get_peer_by_id(self, peer_id: int):
    |               ^^^^^^^^^^^^^^       ------------ Parameter declared here
179 |         q = await self.conn.execute(
180 |             "SELECT id, access_hash, type FROM peers WHERE id = ?",
    |
info: Union variant `bound method FileStorage.get_peer_by_id(peer_id: int) -> CoroutineType[Any, Any, Unknown]` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method Storage.get_peer_by_id(peer_id: int | str) -> CoroutineType[Any, Any, Any]) | (bound method MemoryStorage.get_peer_by_id(peer_id: int) -> CoroutineType[Any, Any, Unknown]) | (bound method FileStorage.get_peer_by_id(peer_id: int) -> CoroutineType[Any, Any, Unknown])`
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `is_premium` is not defined on `None` in union `User | None`
   --> pyrogram/methods/advanced/save_file.py:128:43
    |
126 |                 raise ValueError("File size equals to 0 B")
127 |
128 |             file_size_limit_mib = 4000 if self.me.is_premium else 2000
    |                                           ^^^^^^^^^^^^^^^^^^
129 |
130 |             if file_size > file_size_limit_mib * 1024 * 1024:
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-assignment]: Object of type `(int & ~AlwaysFalsy) | Unknown | MsgId` is not assignable to `int | None`
   --> pyrogram/methods/advanced/save_file.py:140:13
    |
138 |             workers_count = 4 if is_big else 1
139 |             is_missing_part = file_id is not None
140 |             file_id = file_id or self.rnd_id()
    |             -------   ^^^^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `(int & ~AlwaysFalsy) | Unknown | MsgId`
    |             |
    |             Declared type `int | None`
141 |             md5_sum = md5() if not is_big and not is_missing_part else None
    |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Attribute `hexdigest` is not defined on `None` in union `HASH | None`
   --> pyrogram/methods/advanced/save_file.py:175:39
    |
173 |                     if not chunk:
174 |                         if not is_big and not is_missing_part:
175 |                             md5_sum = md5_sum.hexdigest()
    |                                       ^^^^^^^^^^^^^^^^^
176 |                         break
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `update` is not defined on `None` in union `HASH | None`
   --> pyrogram/methods/advanced/save_file.py:192:25
    |
191 |                     if not is_big and not is_missing_part:
192 |                         md5_sum.update(chunk)
    |                         ^^^^^^^^^^^^^^
193 |
194 |                     file_part += 1
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/advanced/save_file.py:219:25
    |
217 |                 if is_big:
218 |                     return raw.types.InputFileBig(
219 |                         id=file_id,
    |                         ^^^^^^^^^^ Expected `int`, found `int | None`
220 |                         parts=file_total_parts,
221 |                         name=file_name,
    |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/types/input_file_big.py:41:9
   |
39 |     QUALNAME = "types.InputFileBig"
40 |
41 |     def __init__(self, *, id: int, parts: int, name: str) -> None:
   |         ^^^^^^^^          ------- Parameter declared here
42 |         self.id = id  # long
43 |         self.parts = parts  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/advanced/save_file.py:224:21
    |
222 |                     )
223 |                 return raw.types.InputFile(
224 |                     id=file_id,
    |                     ^^^^^^^^^^ Expected `int`, found `int | None`
225 |                     parts=file_total_parts,
226 |                     name=file_name,
    |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/types/input_file.py:44:9
   |
42 |     QUALNAME = "types.InputFile"
43 |
44 |     def __init__(self, *, id: int, parts: int, name: str, md5_checksum: str) -> None:
   |         ^^^^^^^^          ------- Parameter declared here
45 |         self.id = id  # long
46 |         self.parts = parts  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/advanced/save_file.py:227:21
    |
225 |                     parts=file_total_parts,
226 |                     name=file_name,
227 |                     md5_checksum=md5_sum,
    |                     ^^^^^^^^^^^^^^^^^^^^ Expected `str`, found `HASH | None | str`
228 |                 )
229 |             finally:
    |
info: Union elements `HASH` and `None` are not assignable to `str`
info: Method defined here
  --> pyrogram/raw/types/input_file.py:44:9
   |
42 |     QUALNAME = "types.InputFile"
43 |
44 |     def __init__(self, *, id: int, parts: int, name: str, md5_checksum: str) -> None:
   |         ^^^^^^^^                                          ----------------- Parameter declared here
45 |         self.id = id  # long
46 |         self.parts = parts  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/auth/check_password.py:40:16
   |
38 |         await self.storage.is_bot(False)
39 |
40 |         return types.User._parse(self, r.user)
   |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `User`, found `User | None`
   |
  ::: pyrogram/methods/auth/check_password.py:13:71
   |
12 | class CheckPassword:
13 |     async def check_password(self: pyrogram.Client, password: str) -> types.User:
   |                                                                       ---------- Expected `User` because of return type
14 |         """Check your Two-Step Verification password and log in.
   |
info: rule `invalid-return-type` is enabled by default

error[unresolved-attribute]: Attribute `stop` is not defined on `None` in union `Unknown | None | Session`
  --> pyrogram/methods/auth/disconnect.py:25:15
   |
23 |             raise ConnectionError("Can't disconnect an initialized client")
24 |
25 |         await self.session.stop()
   |               ^^^^^^^^^^^^^^^^^
26 |         await self.storage.close()
27 |         self.is_connected = False
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/auth/recover_password.py:36:16
   |
34 |         await self.storage.is_bot(False)
35 |
36 |         return types.User._parse(self, r.user)
   |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `User`, found `User | None`
   |
  ::: pyrogram/methods/auth/recover_password.py:15:10
   |
13 |         self: pyrogram.Client,
14 |         recovery_code: str,
15 |     ) -> types.User:
   |          ---------- Expected `User` because of return type
16 |         """Recover your password with a recovery code and log in.
   |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/auth/send_code.py:37:25
   |
35 |                     raw.functions.auth.SendCode(
36 |                         phone_number=phone_number,
37 |                         api_id=self.api_id,
   |                         ^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | int | None`
38 |                         api_hash=self.api_hash,
39 |                         settings=raw.types.CodeSettings(),
   |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/auth/send_code.py:45:9
   |
43 |     QUALNAME = "functions.auth.SendCode"
44 |
45 |     def __init__(self, *, phone_number: str, api_id: int, api_hash: str, settings: "raw.base.CodeSettings") -> None:
   |         ^^^^^^^^                             ----------- Parameter declared here
46 |         self.phone_number = phone_number  # string
47 |         self.api_id = api_id  # int
   |
info: Union variant `bound method SendCode.__init__(*, phone_number: str, api_id: int, api_hash: str, settings: CodeSettings) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method SendCode.__init__(*, phone_number: str, api_id: int, api_hash: str, settings: CodeSettings) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/auth/send_code.py:38:25
   |
36 |                         phone_number=phone_number,
37 |                         api_id=self.api_id,
38 |                         api_hash=self.api_hash,
   |                         ^^^^^^^^^^^^^^^^^^^^^^ Expected `str`, found `Unknown | str | None`
39 |                         settings=raw.types.CodeSettings(),
40 |                     ),
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/raw/functions/auth/send_code.py:45:9
   |
43 |     QUALNAME = "functions.auth.SendCode"
44 |
45 |     def __init__(self, *, phone_number: str, api_id: int, api_hash: str, settings: "raw.base.CodeSettings") -> None:
   |         ^^^^^^^^                                          ------------- Parameter declared here
46 |         self.phone_number = phone_number  # string
47 |         self.api_id = api_id  # int
   |
info: Union variant `bound method SendCode.__init__(*, phone_number: str, api_id: int, api_hash: str, settings: CodeSettings) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method SendCode.__init__(*, phone_number: str, api_id: int, api_hash: str, settings: CodeSettings) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `stop` is not defined on `None` in union `Unknown | None | Session`
  --> pyrogram/methods/auth/send_code.py:43:23
   |
41 |                 )
42 |             except (PhoneMigrate, NetworkMigrate) as e:
43 |                 await self.session.stop()
   |                       ^^^^^^^^^^^^^^^^^
44 |
45 |                 await self.storage.dc_id(e.value)
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/auth/sign_in.py:63:16
   |
61 |         await self.storage.is_bot(False)
62 |
63 |         return types.User._parse(self, r.user)
   |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `User | TermsOfService | bool`, found `User | None`
   |
  ::: pyrogram/methods/auth/sign_in.py:17:10
   |
15 |         phone_code_hash: str,
16 |         phone_code: str,
17 |     ) -> types.User | types.TermsOfService | bool:
   |          ---------------------------------------- Expected `User | TermsOfService | bool` because of return type
18 |         """Authorize a user in Telegram with a valid confirmation code.
   |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/auth/sign_in_bot.py:34:25
   |
32 |                     raw.functions.auth.ImportBotAuthorization(
33 |                         flags=0,
34 |                         api_id=self.api_id,
   |                         ^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | int | None`
35 |                         api_hash=self.api_hash,
36 |                         bot_auth_token=bot_token,
   |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/auth/import_bot_authorization.py:45:9
   |
43 |     QUALNAME = "functions.auth.ImportBotAuthorization"
44 |
45 |     def __init__(self, *, flags: int, api_id: int, api_hash: str, bot_auth_token: str) -> None:
   |         ^^^^^^^^                      ----------- Parameter declared here
46 |         self.flags = flags  # int
47 |         self.api_id = api_id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/auth/sign_in_bot.py:35:25
   |
33 |                         flags=0,
34 |                         api_id=self.api_id,
35 |                         api_hash=self.api_hash,
   |                         ^^^^^^^^^^^^^^^^^^^^^^ Expected `str`, found `Unknown | str | None`
36 |                         bot_auth_token=bot_token,
37 |                     ),
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/raw/functions/auth/import_bot_authorization.py:45:9
   |
43 |     QUALNAME = "functions.auth.ImportBotAuthorization"
44 |
45 |     def __init__(self, *, flags: int, api_id: int, api_hash: str, bot_auth_token: str) -> None:
   |         ^^^^^^^^                                   ------------- Parameter declared here
46 |         self.flags = flags  # int
47 |         self.api_id = api_id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `stop` is not defined on `None` in union `Unknown | None | Session`
  --> pyrogram/methods/auth/sign_in_bot.py:40:23
   |
38 |                 )
39 |             except UserMigrate as e:
40 |                 await self.session.stop()
   |                       ^^^^^^^^^^^^^^^^^
41 |
42 |                 await self.storage.dc_id(e.value)
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/auth/sign_in_bot.py:62:24
   |
60 |                 await self.storage.is_bot(True)
61 |
62 |                 return types.User._parse(self, r.user)
   |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `User`, found `User | None`
   |
  ::: pyrogram/methods/auth/sign_in_bot.py:14:69
   |
13 | class SignInBot:
14 |     async def sign_in_bot(self: pyrogram.Client, bot_token: str) -> types.User:
   |                                                                     ---------- Expected `User` because of return type
15 |         """Authorize a bot using its bot token generated by BotFather.
   |
info: rule `invalid-return-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/auth/sign_up.py:56:16
   |
54 |         await self.storage.is_bot(False)
55 |
56 |         return types.User._parse(self, r.user)
   |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `User`, found `User | None`
   |
  ::: pyrogram/methods/auth/sign_up.py:18:10
   |
16 |         first_name: str,
17 |         last_name: str = "",
18 |     ) -> types.User:
   |          ---------- Expected `User` because of return type
19 |         """Register a new user in Telegram.
   |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/bots/answer_inline_query.py:88:17
   |
86 |             raw.functions.messages.SetInlineBotResults(
87 |                 query_id=int(inline_query_id),
88 |                 results=[await r.write(self) for r in results],
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `list[InputBotInlineResult]`, found `list[Unknown | None]`
89 |                 cache_time=cache_time,
90 |                 gallery=is_gallery or None,
   |
info: Method defined here
  --> pyrogram/raw/functions/messages/set_inline_bot_results.py:57:9
   |
55 |     QUALNAME = "functions.messages.SetInlineBotResults"
56 |
57 |     def __init__(self, *, query_id: int, results: List["raw.base.InputBotInlineResult"], cache_time: int, gallery: Optional[bool] = No…
   |         ^^^^^^^^                         ---------------------------------------------- Parameter declared here
58 |         self.query_id = query_id  # long
59 |         self.results = results  # Vector<InputBotInlineResult>
   |
info: Union variant `bound method SetInlineBotResults.__init__(*, query_id: int, results: list[InputBotInlineResult], cache_time: int, gallery: bool | None = None, private: bool | None = None, next_offset: str | None = None, switch_pm: InlineBotSwitchPM = None, switch_webview: InlineBotWebView = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method SetInlineBotResults.__init__(*, query_id: int, results: list[InputBotInlineResult], cache_time: int, gallery: bool | None = None, private: bool | None = None, next_offset: str | None = None, switch_pm: InlineBotSwitchPM = None, switch_webview: InlineBotWebView = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/bots/answer_inline_query.py:93:17
    |
 91 |                   private=is_personal or None,
 92 |                   next_offset=next_offset or None,
 93 | /                 switch_pm=raw.types.InlineBotSwitchPM(
 94 | |                     text=switch_pm_text,
 95 | |                     start_param=switch_pm_parameter,
 96 | |                 )
 97 | |                 if switch_pm_text
 98 | |                 else None,
    | |_________________________^ Expected `pyrogram.raw.base.inline_bot_switch_pm.InlineBotSwitchPM`, found `pyrogram.raw.types.inline_bot_switch_pm.InlineBotSwitchPM | None`
 99 |               ),
100 |           )
    |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.inline_bot_switch_pm.InlineBotSwitchPM`
info: Method defined here
  --> pyrogram/raw/functions/messages/set_inline_bot_results.py:57:9
   |
55 | … QUALNAME = "functions.messages.SetInlineBotResults"
56 | …
57 | … def __init__(self, *, query_id: int, results: List["raw.base.InputBotInlineResult"], cache_time: int, gallery: Optional[bool] = None, private: Optional[bool] = None, next_offset: Optional[str] = None, switch_pm: "raw.base.InlineBotSwitchPM" = None, swi…
   |       ^^^^^^^^                                                                                                                                                                                             ---------------------------------------------- Parameter declared here
58 | …     self.query_id = query_id  # long
59 | …     self.results = results  # Vector<InputBotInlineResult>
   |
info: Union variant `bound method SetInlineBotResults.__init__(*, query_id: int, results: list[InputBotInlineResult], cache_time: int, gallery: bool | None = None, private: bool | None = None, next_offset: str | None = None, switch_pm: InlineBotSwitchPM = None, switch_webview: InlineBotWebView = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method SetInlineBotResults.__init__(*, query_id: int, results: list[InputBotInlineResult], cache_time: int, gallery: bool | None = None, private: bool | None = None, next_offset: str | None = None, switch_pm: InlineBotSwitchPM = None, switch_webview: InlineBotWebView = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/bots/answer_web_app_query.py:32:17
   |
30 |             raw.functions.messages.SendWebViewResultMessage(
31 |                 bot_query_id=web_app_query_id,
32 |                 result=await result.write(self),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputBotInlineResult`, found `None`
33 |             ),
34 |         )
   |
info: Method defined here
  --> pyrogram/raw/functions/messages/send_web_view_result_message.py:39:9
   |
37 |     QUALNAME = "functions.messages.SendWebViewResultMessage"
38 |
39 |     def __init__(self, *, bot_query_id: str, result: "raw.base.InputBotInlineResult") -> None:
   |         ^^^^^^^^                             --------------------------------------- Parameter declared here
40 |         self.bot_query_id = bot_query_id  # string
41 |         self.result = result  # InputBotInlineResult
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/bots/get_bot_info.py:31:64
   |
29 |             peer = await self.resolve_peer(bot)
30 |         r = await self.invoke(
31 |             raw.functions.bots.GetBotInfo(lang_code=lang_code, bot=peer),
   |                                                                ^^^^^^^^ Expected `InputUser`, found `None | InputPeer | InputUser | InputChannel`
32 |         )
33 |         return pyrogram.types.BotInfo._parse(r)
   |
info: Union element `None`, and 2 more union elements, are not assignable to `InputUser`
info: Method defined here
  --> pyrogram/raw/functions/bots/get_bot_info.py:39:9
   |
37 |     QUALNAME = "functions.bots.GetBotInfo"
38 |
39 |     def __init__(self, *, lang_code: str, bot: "raw.base.InputUser" = None) -> None:
   |         ^^^^^^^^                          -------------------------------- Parameter declared here
40 |         self.lang_code = lang_code  # string
41 |         self.bot = bot  # flags.0?InputUser
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/bots/get_chat_menu_button.py:26:21
   |
24 |             r = await self.invoke(
25 |                 raw.functions.bots.GetBotMenuButton(
26 |                     user_id=await self.resolve_peer(chat_id),
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputUser`, found `InputPeer | InputUser | InputChannel`
27 |                 ),
28 |             )
   |
info: Union elements `InputPeer` and `InputChannel` are not assignable to `InputUser`
info: Method defined here
  --> pyrogram/raw/functions/bots/get_bot_menu_button.py:36:9
   |
34 |     QUALNAME = "functions.bots.GetBotMenuButton"
35 |
36 |     def __init__(self, *, user_id: "raw.base.InputUser") -> None:
   |         ^^^^^^^^          ----------------------------- Parameter declared here
37 |         self.user_id = user_id  # InputUser
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/bots/get_chat_menu_button.py:47:16
   |
45 |                 web_app=types.WebAppInfo(url=r.url),
46 |             )
47 |         return None
   |                ^^^^ expected `MenuButton`, found `None`
   |
  ::: pyrogram/methods/bots/get_chat_menu_button.py:11:10
   |
 9 |         self: pyrogram.Client,
10 |         chat_id: int | str | None = None,
11 |     ) -> types.MenuButton:
   |          ---------------- Expected `MenuButton` because of return type
12 |         """Get the current value of the bot's menu button in a private chat, or the default menu button.
   |
info: rule `invalid-return-type` is enabled by default

error[unresolved-attribute]: Module `pyrogram.types` has no member `CollectibleInfo`
  --> pyrogram/methods/bots/get_collectible_item_info.py:12:10
   |
10 |         username: str | None = None,
11 |         phone_number: str | None = None,
12 |     ) -> types.CollectibleInfo:
   |          ^^^^^^^^^^^^^^^^^^^^^
13 |         """Returns information about a given collectible item that was purchased at https://fragment.com
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/bots/get_game_high_scores.py:47:17
   |
45 |         r = await self.invoke(
46 |             raw.functions.messages.GetGameHighScores(
47 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
48 |                 id=message_id,
49 |                 user_id=await self.resolve_peer(user_id),
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_game_high_scores.py:42:9
   |
40 |     QUALNAME = "functions.messages.GetGameHighScores"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", id: int, user_id: "raw.base.InputUser") -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.id = id  # int
   |
info: Union variant `bound method GetGameHighScores.__init__(*, peer: InputPeer, id: int, user_id: InputUser) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetGameHighScores.__init__(*, peer: InputPeer, id: int, user_id: InputUser) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/bots/get_game_high_scores.py:48:17
   |
46 |             raw.functions.messages.GetGameHighScores(
47 |                 peer=await self.resolve_peer(chat_id),
48 |                 id=message_id,
   |                 ^^^^^^^^^^^^^ Expected `int`, found `int | None`
49 |                 user_id=await self.resolve_peer(user_id),
50 |             ),
   |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_game_high_scores.py:42:9
   |
40 |     QUALNAME = "functions.messages.GetGameHighScores"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", id: int, user_id: "raw.base.InputUser") -> None:
   |         ^^^^^^^^                                      ------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.id = id  # int
   |
info: Union variant `bound method GetGameHighScores.__init__(*, peer: InputPeer, id: int, user_id: InputUser) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetGameHighScores.__init__(*, peer: InputPeer, id: int, user_id: InputUser) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/bots/get_game_high_scores.py:49:17
   |
47 |                 peer=await self.resolve_peer(chat_id),
48 |                 id=message_id,
49 |                 user_id=await self.resolve_peer(user_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputUser`, found `InputPeer | InputUser | InputChannel`
50 |             ),
51 |         )
   |
info: Union elements `InputPeer` and `InputChannel` are not assignable to `InputUser`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_game_high_scores.py:42:9
   |
40 |     QUALNAME = "functions.messages.GetGameHighScores"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", id: int, user_id: "raw.base.InputUser") -> None:
   |         ^^^^^^^^                                               ----------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.id = id  # int
   |
info: Union variant `bound method GetGameHighScores.__init__(*, peer: InputPeer, id: int, user_id: InputUser) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetGameHighScores.__init__(*, peer: InputPeer, id: int, user_id: InputUser) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/bots/get_inline_bot_results.py:59:21
   |
57 |             return await self.invoke(
58 |                 raw.functions.messages.GetInlineBotResults(
59 |                     bot=await self.resolve_peer(bot),
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputUser`, found `InputPeer | InputUser | InputChannel`
60 |                     peer=raw.types.InputPeerSelf(),
61 |                     query=query,
   |
info: Union elements `InputPeer` and `InputChannel` are not assignable to `InputUser`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_inline_bot_results.py:48:9
   |
46 |     QUALNAME = "functions.messages.GetInlineBotResults"
47 |
48 |     def __init__(self, *, bot: "raw.base.InputUser", peer: "raw.base.InputPeer", query: str, offset: str, geo_point: "raw.base.InputGe…
   |         ^^^^^^^^          ------------------------- Parameter declared here
49 |         self.bot = bot  # InputUser
50 |         self.peer = peer  # InputPeer
   |
info: Union variant `bound method GetInlineBotResults.__init__(*, bot: InputUser, peer: InputPeer, query: str, offset: str, geo_point: InputGeoPoint = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetInlineBotResults.__init__(*, bot: InputUser, peer: InputPeer, query: str, offset: str, geo_point: InputGeoPoint = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/bots/get_inline_bot_results.py:63:21
   |
61 |                       query=query,
62 |                       offset=offset,
63 | /                     geo_point=raw.types.InputGeoPoint(lat=latitude, long=longitude)
64 | |                     if (latitude is not None and longitude is not None)
65 | |                     else None,
   | |_____________________________^ Expected `pyrogram.raw.base.input_geo_point.InputGeoPoint`, found `pyrogram.raw.types.input_geo_point.InputGeoPoint | None`
66 |                   ),
67 |               )
   |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.input_geo_point.InputGeoPoint`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_inline_bot_results.py:48:9
   |
46 | … QUALNAME = "functions.messages.GetInlineBotResults"
47 | …
48 | … def __init__(self, *, bot: "raw.base.InputUser", peer: "raw.base.InputPeer", query: str, offset: str, geo_point: "raw.base.InputGeoPoint" = None) -> …
   |       ^^^^^^^^                                                                                          ------------------------------------------ Parameter declared here
49 | …     self.bot = bot  # InputUser
50 | …     self.peer = peer  # InputPeer
   |
info: Union variant `bound method GetInlineBotResults.__init__(*, bot: InputUser, peer: InputPeer, query: str, offset: str, geo_point: InputGeoPoint = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetInlineBotResults.__init__(*, bot: InputUser, peer: InputPeer, query: str, offset: str, geo_point: InputGeoPoint = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `error_code` is not defined on `int`, `str`, `None` in union `Unknown | int | str | RpcError | None`
  --> pyrogram/methods/bots/get_inline_bot_results.py:69:16
   |
67 |             )
68 |         except UnknownError as e:
69 |             if e.value.error_code == -503 and e.value.error_message == "Timeout":
   |                ^^^^^^^^^^^^^^^^^^
70 |                 raise TimeoutError("The inline bot didn't answer in time") from None
71 |             raise e
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `error_message` is not defined on `int`, `str`, `None` in union `Unknown | int | str | RpcError | None`
  --> pyrogram/methods/bots/get_inline_bot_results.py:69:47
   |
67 |             )
68 |         except UnknownError as e:
69 |             if e.value.error_code == -503 and e.value.error_message == "Timeout":
   |                                               ^^^^^^^^^^^^^^^^^^^^^
70 |                 raise TimeoutError("The inline bot didn't answer in time") from None
71 |             raise e
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-assignment]: Object of type `InputCheckPasswordSRP` is not assignable to `str | None`
  --> pyrogram/methods/bots/request_callback_answer.py:64:13
   |
62 |         if password:
63 |             r = await self.invoke(raw.functions.account.GetPassword())
64 |             password = utils.compute_password_check(r, password)
   |             --------   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `InputCheckPasswordSRP`
   |             |
   |             Declared type `str | None`
65 |
66 |         return await self.invoke(
   |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/bots/request_callback_answer.py:68:17
   |
66 |         return await self.invoke(
67 |             raw.functions.messages.GetBotCallbackAnswer(
68 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
69 |                 msg_id=message_id,
70 |                 data=data,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_bot_callback_answer.py:48:9
   |
46 |     QUALNAME = "functions.messages.GetBotCallbackAnswer"
47 |
48 |     def __init__(self, *, peer: "raw.base.InputPeer", msg_id: int, game: Optional[bool] = None, data: Optional[bytes] = None, password…
   |         ^^^^^^^^          -------------------------- Parameter declared here
49 |         self.peer = peer  # InputPeer
50 |         self.msg_id = msg_id  # int
   |
info: Union variant `bound method GetBotCallbackAnswer.__init__(*, peer: InputPeer, msg_id: int, game: bool | None = None, data: bytes | None = None, password: InputCheckPasswordSRP = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetBotCallbackAnswer.__init__(*, peer: InputPeer, msg_id: int, game: bool | None = None, data: bytes | None = None, password: InputCheckPasswordSRP = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/bots/request_callback_answer.py:71:17
   |
69 |                 msg_id=message_id,
70 |                 data=data,
71 |                 password=password,
   |                 ^^^^^^^^^^^^^^^^^ Expected `InputCheckPasswordSRP`, found `str | None`
72 |             ),
73 |             retries=0,
   |
info: Method defined here
  --> pyrogram/raw/functions/messages/get_bot_callback_answer.py:48:9
   |
46 | … QUALNAME = "functions.messages.GetBotCallbackAnswer"
47 | …
48 | … def __init__(self, *, peer: "raw.base.InputPeer", msg_id: int, game: Optional[bool] = None, data: Optional[bytes] = None, password: "raw.base.InputCheckPasswordSRP" = None) -> …
   |       ^^^^^^^^                                                                                                              ------------------------------------------------- Parameter declared here
49 | …     self.peer = peer  # InputPeer
50 | …     self.msg_id = msg_id  # int
   |
info: Union variant `bound method GetBotCallbackAnswer.__init__(*, peer: InputPeer, msg_id: int, game: bool | None = None, data: bytes | None = None, password: InputCheckPasswordSRP = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetBotCallbackAnswer.__init__(*, peer: InputPeer, msg_id: int, game: bool | None = None, data: bytes | None = None, password: InputCheckPasswordSRP = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
  --> pyrogram/methods/bots/send_game.py:19:9
   |
17 |           allow_paid_broadcast: bool | None = None,
18 |           message_effect_id: int | None = None,
19 | /         reply_markup: types.InlineKeyboardMarkup
20 | |         | types.ReplyKeyboardMarkup
21 | |         | types.ReplyKeyboardRemove
22 | |         | types.ForceReply = None,
   | |_________________________________^
23 |       ) -> types.Message:
24 |           """Send a game.
   |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/bots/send_game.py:82:13
   |
81 |         rpc = raw.functions.messages.SendMedia(
82 |             peer=await self.resolve_peer(chat_id),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
83 |             media=raw.types.InputMediaGame(
84 |                 id=raw.types.InputGameShortName(
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^          -------------------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/bots/send_game.py:92:13
   |
90 |             silent=disable_notification or None,
91 |             reply_to=reply_to,
92 |             random_id=self.rnd_id(),
   |             ^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | MsgId`
93 |             noforwards=protect_content,
94 |             allow_paid_floodskip=allow_paid_broadcast,
   |
info: Element `MsgId` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^                                                                                  -------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/bots/send_game.py:96:13
   |
94 |             allow_paid_floodskip=allow_paid_broadcast,
95 |             effect=message_effect_id,
96 |             reply_markup=await reply_markup.write(self) if reply_markup else None,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `ReplyMarkup`, found `Unknown | None`
97 |         )
98 |         if business_connection_id is not None:
   |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMedia"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, ent…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                        ------------------------------------------- Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
   --> pyrogram/methods/bots/send_game.py:122:16
    |
120 |                     business_connection_id=business_connection_id,
121 |                 )
122 |         return None
    |                ^^^^ expected `Message`, found `None`
    |
   ::: pyrogram/methods/bots/send_game.py:23:10
    |
 21 |         | types.ReplyKeyboardRemove
 22 |         | types.ForceReply = None,
 23 |     ) -> types.Message:
    |          ------------- Expected `Message` because of return type
 24 |         """Send a game.
    |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/bots/send_inline_bot_result.py:88:17
   |
86 |         r = await self.invoke(
87 |             raw.functions.messages.SendInlineBotResult(
88 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
89 |                 query_id=query_id,
90 |                 id=result_id,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_inline_bot_result.py:72:9
   |
70 |     QUALNAME = "functions.messages.SendInlineBotResult"
71 |
72 |     def __init__(self, *, peer: "raw.base.InputPeer", random_id: int, query_id: int, id: str, silent: Optional[bool] = None, backgroun…
   |         ^^^^^^^^          -------------------------- Parameter declared here
73 |         self.peer = peer  # InputPeer
74 |         self.random_id = random_id  # long
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/bots/send_inline_bot_result.py:91:17
   |
89 |                 query_id=query_id,
90 |                 id=result_id,
91 |                 random_id=self.rnd_id(),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | MsgId`
92 |                 silent=disable_notification or None,
93 |                 reply_to=reply_to,
   |
info: Element `MsgId` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_inline_bot_result.py:72:9
   |
70 |     QUALNAME = "functions.messages.SendInlineBotResult"
71 |
72 |     def __init__(self, *, peer: "raw.base.InputPeer", random_id: int, query_id: int, id: str, silent: Optional[bool] = None, backgroun…
   |         ^^^^^^^^                                      -------------- Parameter declared here
73 |         self.peer = peer  # InputPeer
74 |         self.random_id = random_id  # long
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
   --> pyrogram/methods/bots/send_inline_bot_result.py:108:16
    |
106 |                     {i.id: i for i in r.chats},
107 |                 )
108 |         return None
    |                ^^^^ expected `Message`, found `None`
    |
   ::: pyrogram/methods/bots/send_inline_bot_result.py:20:10
    |
 18 |         quote_entities: list[types.MessageEntity] | None = None,
 19 |         parse_mode: enums.ParseMode | None = None,
 20 |     ) -> types.Message:
    |          ------------- Expected `Message` because of return type
 21 |         """Send an inline bot result.
 22 |         Bot results can be retrieved using :meth:`~pyrogram.Client.get_inline_bot_results`
    |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/bots/set_bot_info.py:45:17
   |
43 |             raw.functions.bots.SetBotInfo(
44 |                 lang_code=lang_code,
45 |                 bot=peer,
   |                 ^^^^^^^^ Expected `InputUser`, found `None | InputPeer | InputUser | InputChannel`
46 |                 name=name,
47 |                 about=about,
   |
info: Union element `None`, and 2 more union elements, are not assignable to `InputUser`
info: Method defined here
  --> pyrogram/raw/functions/bots/set_bot_info.py:48:9
   |
46 |     QUALNAME = "functions.bots.SetBotInfo"
47 |
48 |     def __init__(self, *, lang_code: str, bot: "raw.base.InputUser" = None, name: Optional[str] = None, about: Optional[str] = None, d…
   |         ^^^^^^^^                          -------------------------------- Parameter declared here
49 |         self.lang_code = lang_code  # string
50 |         self.bot = bot  # flags.2?InputUser
   |
info: Union variant `bound method SetBotInfo.__init__(*, lang_code: str, bot: InputUser = None, name: str | None = None, about: str | None = None, description: str | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method SetBotInfo.__init__(*, lang_code: str, bot: InputUser = None, name: str | None = None, about: str | None = None, description: str | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/bots/set_chat_menu_button.py:29:17
   |
27 |         await self.invoke(
28 |             raw.functions.bots.SetBotMenuButton(
29 |                 user_id=await self.resolve_peer(chat_id or "me"),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputUser`, found `InputPeer | InputUser | InputChannel`
30 |                 button=(
31 |                     (await menu_button.write(self))
   |
info: Union elements `InputPeer` and `InputChannel` are not assignable to `InputUser`
info: Method defined here
  --> pyrogram/raw/functions/bots/set_bot_menu_button.py:39:9
   |
37 |     QUALNAME = "functions.bots.SetBotMenuButton"
38 |
39 |     def __init__(self, *, user_id: "raw.base.InputUser", button: "raw.base.BotMenuButton") -> None:
   |         ^^^^^^^^          ----------------------------- Parameter declared here
40 |         self.user_id = user_id  # InputUser
41 |         self.button = button  # BotMenuButton
   |
info: Union variant `bound method SetBotMenuButton.__init__(*, user_id: InputUser, button: BotMenuButton) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method SetBotMenuButton.__init__(*, user_id: InputUser, button: BotMenuButton) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/bots/set_game_score.py:63:17
   |
61 |         r = await self.invoke(
62 |             raw.functions.messages.SetGameScore(
63 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
64 |                 score=score,
65 |                 id=message_id,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/set_game_score.py:51:9
   |
49 |     QUALNAME = "functions.messages.SetGameScore"
50 |
51 |     def __init__(self, *, peer: "raw.base.InputPeer", id: int, user_id: "raw.base.InputUser", score: int, edit_message: Optional[bool]…
   |         ^^^^^^^^          -------------------------- Parameter declared here
52 |         self.peer = peer  # InputPeer
53 |         self.id = id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `resolve_peer` is incorrect
  --> pyrogram/methods/bots/set_game_score.py:63:46
   |
61 |         r = await self.invoke(
62 |             raw.functions.messages.SetGameScore(
63 |                 peer=await self.resolve_peer(chat_id),
   |                                              ^^^^^^^ Expected `int | str`, found `int | str | None`
64 |                 score=score,
65 |                 id=message_id,
   |
info: Element `None` of this union is not assignable to `int | str`
info: Method defined here
  --> pyrogram/methods/advanced/resolve_peer.py:14:15
   |
13 | class ResolvePeer:
14 |     async def resolve_peer(
   |               ^^^^^^^^^^^^
15 |         self: pyrogram.Client,
16 |         peer_id: int | str,
   |         ------------------ Parameter declared here
17 |     ) -> raw.base.InputPeer | raw.base.InputUser | raw.base.InputChannel:
18 |         """Get the InputPeer of a known peer id.
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/bots/set_game_score.py:65:17
   |
63 |                 peer=await self.resolve_peer(chat_id),
64 |                 score=score,
65 |                 id=message_id,
   |                 ^^^^^^^^^^^^^ Expected `int`, found `int | None`
66 |                 user_id=await self.resolve_peer(user_id),
67 |                 force=force or None,
   |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/messages/set_game_score.py:51:9
   |
49 |     QUALNAME = "functions.messages.SetGameScore"
50 |
51 |     def __init__(self, *, peer: "raw.base.InputPeer", id: int, user_id: "raw.base.InputUser", score: int, edit_message: Optional[bool]…
   |         ^^^^^^^^                                      ------- Parameter declared here
52 |         self.peer = peer  # InputPeer
53 |         self.id = id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/bots/set_game_score.py:66:17
   |
64 |                 score=score,
65 |                 id=message_id,
66 |                 user_id=await self.resolve_peer(user_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputUser`, found `InputPeer | InputUser | InputChannel`
67 |                 force=force or None,
68 |                 edit_message=not disable_edit_message or None,
   |
info: Union elements `InputPeer` and `InputChannel` are not assignable to `InputUser`
info: Method defined here
  --> pyrogram/raw/functions/messages/set_game_score.py:51:9
   |
49 |     QUALNAME = "functions.messages.SetGameScore"
50 |
51 |     def __init__(self, *, peer: "raw.base.InputPeer", id: int, user_id: "raw.base.InputUser", score: int, edit_message: Optional[bool]…
   |         ^^^^^^^^                                               ----------------------------- Parameter declared here
52 |         self.peer = peer  # InputPeer
53 |         self.id = id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Module `pyrogram.types` has no member `ShippingOptions`
  --> pyrogram/methods/business/answer_shipping_query.py:12:32
   |
10 |         shipping_query_id: str,
11 |         ok: bool,
12 |         shipping_options: list[types.ShippingOptions] | None = None,
   |                                ^^^^^^^^^^^^^^^^^^^^^
13 |         error_message: str | None = None,
14 |     ):
   |
info: rule `unresolved-attribute` is enabled by default

error[not-iterable]: Object of type `list[Unknown] | None` may not be iterable
  --> pyrogram/methods/business/answer_shipping_query.py:52:60
   |
50 |                 raw.functions.messages.SetBotShippingResults(
51 |                     query_id=int(shipping_query_id),
52 |                     shipping_options=[so.write() for so in shipping_options],
   |                                                            ^^^^^^^^^^^^^^^^
53 |                 ),
54 |             )
   |
info: It may not have an `__iter__` method or a `__getitem__` method
info: rule `not-iterable` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/business/create_invoice_link.py:113:17
    |
111 |                   title=title,
112 |                   description=description,
113 | /                 photo=raw.types.InputWebDocument(
114 | |                     url=photo_url,
115 | |                     mime_type="image/jpg",
116 | |                     size=photo_size,
117 | |                     attributes=[
118 | |                         raw.types.DocumentAttributeImageSize(
119 | |                             w=photo_width,
120 | |                             h=photo_height,
121 | |                         ),
122 | |                     ],
123 | |                 )
124 | |                 if photo_url
125 | |                 else None,
    | |_________________________^ Expected `pyrogram.raw.base.input_web_document.InputWebDocument`, found `pyrogram.raw.types.input_web_document.InputWebDocument | None`
126 |                   invoice=raw.types.Invoice(
127 |                       currency=currency,
    |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.input_web_document.InputWebDocument`
info: Method defined here
  --> pyrogram/raw/types/input_media_invoice.py:59:9
   |
57 | … QUALNAME = "types.InputMediaInvoice"
58 | …
59 | … def __init__(self, *, title: str, description: str, invoice: "raw.base.Invoice", payload: bytes, provider_data: "raw.base.DataJSON", photo: "raw.base.InputWebDocument" = None, pro…
   |       ^^^^^^^^                                                                                                                         ----------------------------------------- Parameter declared here
60 | …     self.title = title  # string
61 | …     self.description = description  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/business/create_invoice_link.py:116:21
    |
114 |                     url=photo_url,
115 |                     mime_type="image/jpg",
116 |                     size=photo_size,
    |                     ^^^^^^^^^^^^^^^ Expected `int`, found `int | None`
117 |                     attributes=[
118 |                         raw.types.DocumentAttributeImageSize(
    |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/types/input_web_document.py:44:9
   |
42 |     QUALNAME = "types.InputWebDocument"
43 |
44 |     def __init__(self, *, url: str, size: int, mime_type: str, attributes: List["raw.base.DocumentAttribute"]) -> None:
   |         ^^^^^^^^                    --------- Parameter declared here
45 |         self.url = url  # string
46 |         self.size = size  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/business/create_invoice_link.py:119:29
    |
117 |                     attributes=[
118 |                         raw.types.DocumentAttributeImageSize(
119 |                             w=photo_width,
    |                             ^^^^^^^^^^^^^ Expected `int`, found `int | None`
120 |                             h=photo_height,
121 |                         ),
    |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/types/document_attribute_image_size.py:38:9
   |
36 |     QUALNAME = "types.DocumentAttributeImageSize"
37 |
38 |     def __init__(self, *, w: int, h: int) -> None:
   |         ^^^^^^^^          ------ Parameter declared here
39 |         self.w = w  # int
40 |         self.h = h  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/business/create_invoice_link.py:120:29
    |
118 |                         raw.types.DocumentAttributeImageSize(
119 |                             w=photo_width,
120 |                             h=photo_height,
    |                             ^^^^^^^^^^^^^^ Expected `int`, found `int | None`
121 |                         ),
122 |                     ],
    |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/types/document_attribute_image_size.py:38:9
   |
36 |     QUALNAME = "types.DocumentAttributeImageSize"
37 |
38 |     def __init__(self, *, w: int, h: int) -> None:
   |         ^^^^^^^^                  ------ Parameter declared here
39 |         self.w = w  # int
40 |         self.h = h  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/business/get_business_connection.py:31:24
   |
29 |           for i in r.updates:
30 |               if isinstance(i, (raw.types.UpdateBotBusinessConnect)):
31 |                   return await types.BotBusinessConnection._parse(
   |  ________________________^
32 | |                     client=self,
33 | |                     bot_connection=i.connection,
34 | |                 )
   | |_________________^ expected `Message`, found `BotBusinessConnection`
35 |           return None
   |
  ::: pyrogram/methods/business/get_business_connection.py:11:10
   |
 9 |           self: pyrogram.Client,
10 |           business_connection_id: str,
11 |       ) -> types.Message:
   |            ------------- Expected `Message` because of return type
12 |           """Use this method to get information about the connection of the bot with a business account.
   |
info: rule `invalid-return-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/business/get_business_connection.py:35:16
   |
33 |                     bot_connection=i.connection,
34 |                 )
35 |         return None
   |                ^^^^ expected `Message`, found `None`
   |
  ::: pyrogram/methods/business/get_business_connection.py:11:10
   |
 9 |         self: pyrogram.Client,
10 |         business_connection_id: str,
11 |     ) -> types.Message:
   |          ------------- Expected `Message` because of return type
12 |         """Use this method to get information about the connection of the bot with a business account.
   |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/business/get_payment_form.py:43:17
   |
41 |         if isinstance(message_id, int):
42 |             invoice = raw.types.InputInvoiceMessage(
43 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
44 |                 msg_id=message_id,
45 |             )
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/types/input_invoice_message.py:38:9
   |
36 |     QUALNAME = "types.InputInvoiceMessage"
37 |
38 |     def __init__(self, *, peer: "raw.base.InputPeer", msg_id: int) -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
39 |         self.peer = peer  # InputPeer
40 |         self.msg_id = msg_id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/business/get_stars_transactions.py:65:17
   |
63 |         r = await self.invoke(
64 |             raw.functions.payments.GetStarsTransactions(
65 |                 peer=peer,
   |                 ^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
66 |                 limit=limit,
67 |                 offset=offset,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/payments/get_stars_transactions.py:57:9
   |
55 |     QUALNAME = "functions.payments.GetStarsTransactions"
56 |
57 |     def __init__(self, *, peer: "raw.base.InputPeer", offset: str, limit: int, inbound: Optional[bool] = None, outbound: Optional[bool…
   |         ^^^^^^^^          -------------------------- Parameter declared here
58 |         self.peer = peer  # InputPeer
59 |         self.offset = offset  # string
   |
info: Union variant `bound method GetStarsTransactions.__init__(*, peer: InputPeer, offset: str, limit: int, inbound: bool | None = None, outbound: bool | None = None, ascending: bool | None = None, ton: bool | None = None, subscription_id: str | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetStarsTransactions.__init__(*, peer: InputPeer, offset: str, limit: int, inbound: bool | None = None, outbound: bool | None = None, ascending: bool | None = None, ton: bool | None = None, subscription_id: str | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `write` is not defined on `list[InputStarsTransaction]` in union `InputStarsTransaction | list[InputStarsTransaction]`
  --> pyrogram/methods/business/get_stars_transactions_by_id.py:60:20
   |
58 |         is_iterable = not isinstance(transaction_ids, types.InputStarsTransaction)
59 |         ids = (
60 |             [await transaction_ids.write()]
   |                    ^^^^^^^^^^^^^^^^^^^^^
61 |             if not is_iterable
62 |             else [await x.write() for x in transaction_ids]
   |
info: rule `unresolved-attribute` is enabled by default

error[not-iterable]: Object of type `InputStarsTransaction | list[InputStarsTransaction]` may not be iterable
  --> pyrogram/methods/business/get_stars_transactions_by_id.py:62:44
   |
60 |             [await transaction_ids.write()]
61 |             if not is_iterable
62 |             else [await x.write() for x in transaction_ids]
   |                                            ^^^^^^^^^^^^^^^
63 |         )
   |
info: It may not have an `__iter__` method or a `__getitem__` method
info: rule `not-iterable` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/business/get_stars_transactions_by_id.py:66:61
   |
65 |         r = await self.invoke(
66 |             raw.functions.payments.GetStarsTransactionsByID(peer=peer, id=ids),
   |                                                             ^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
67 |         )
68 |         return types.StarsStatus._parse(self, r)
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/payments/get_stars_transactions_by_id.py:42:9
   |
40 |     QUALNAME = "functions.payments.GetStarsTransactionsByID"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", id: List["raw.base.InputStarsTransaction"], ton: Optional[bool] = None) -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.id = id  # Vector<InputStarsTransaction>
   |
info: Union variant `bound method GetStarsTransactionsByID.__init__(*, peer: InputPeer, id: list[InputStarsTransaction], ton: bool | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetStarsTransactionsByID.__init__(*, peer: InputPeer, id: list[InputStarsTransaction], ton: bool | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Module `pyrogram.raw.functions.payments` has no member `GetUserStarGifts`
  --> pyrogram/methods/business/get_user_gifts.py:55:17
   |
53 |         while True:
54 |             r = await self.invoke(
55 |                 raw.functions.payments.GetUserStarGifts(
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
56 |                     user_id=peer,
57 |                     offset=offset,
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/business/refund_stars_payment.py:32:17
   |
30 |         await self.invoke(
31 |             raw.functions.payments.RefundStarsCharge(
32 |                 user_id=await self.resolve_peer(user_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputUser`, found `InputPeer | InputUser | InputChannel`
33 |                 charge_id=telegram_payment_charge_id,
34 |             ),
   |
info: Union elements `InputPeer` and `InputChannel` are not assignable to `InputUser`
info: Method defined here
  --> pyrogram/raw/functions/payments/refund_stars_charge.py:39:9
   |
37 |     QUALNAME = "functions.payments.RefundStarsCharge"
38 |
39 |     def __init__(self, *, user_id: "raw.base.InputUser", charge_id: str) -> None:
   |         ^^^^^^^^          ----------------------------- Parameter declared here
40 |         self.user_id = user_id  # InputUser
41 |         self.charge_id = charge_id  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[missing-argument]: No argument provided for required parameter `stargift` of bound method `__init__`
  --> pyrogram/methods/business/sell_gift.py:42:13
   |
41 |         return await self.invoke(
42 |             raw.functions.payments.ConvertStarGift(user_id=peer, msg_id=message_id),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
43 |         )
   |
info: Union variant `bound method ConvertStarGift.__init__(*, stargift: InputSavedStarGift) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method ConvertStarGift.__init__(*, stargift: InputSavedStarGift) -> None)`
info: rule `missing-argument` is enabled by default

error[unknown-argument]: Argument `user_id` does not match any known parameter of bound method `__init__`
  --> pyrogram/methods/business/sell_gift.py:42:52
   |
41 |         return await self.invoke(
42 |             raw.functions.payments.ConvertStarGift(user_id=peer, msg_id=message_id),
   |                                                    ^^^^^^^^^^^^
43 |         )
   |
info: Union variant `bound method ConvertStarGift.__init__(*, stargift: InputSavedStarGift) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method ConvertStarGift.__init__(*, stargift: InputSavedStarGift) -> None)`
info: rule `unknown-argument` is enabled by default

error[unknown-argument]: Argument `msg_id` does not match any known parameter of bound method `__init__`
  --> pyrogram/methods/business/sell_gift.py:42:66
   |
41 |         return await self.invoke(
42 |             raw.functions.payments.ConvertStarGift(user_id=peer, msg_id=message_id),
   |                                                                  ^^^^^^^^^^^^^^^^^
43 |         )
   |
info: Union variant `bound method ConvertStarGift.__init__(*, stargift: InputSavedStarGift) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method ConvertStarGift.__init__(*, stargift: InputSavedStarGift) -> None)`
info: rule `unknown-argument` is enabled by default

error[missing-argument]: No argument provided for required parameter `peer` of bound method `__init__`
  --> pyrogram/methods/business/send_gift.py:66:19
   |
64 |           ).values()
65 |
66 |           invoice = raw.types.InputInvoiceStarGift(
   |  ___________________^
67 | |             user_id=peer,
68 | |             gift_id=gift_id,
69 | |             hide_name=is_private,
70 | |             message=raw.types.TextWithEntities(text=text, entities=entities or [])
71 | |             if text
72 | |             else None,
73 | |         )
   | |_________^
74 |
75 |           form = await self.invoke(
   |
info: Parameter declared here
  --> pyrogram/raw/types/input_invoice_star_gift.py:47:27
   |
45 |     QUALNAME = "types.InputInvoiceStarGift"
46 |
47 |     def __init__(self, *, peer: "raw.base.InputPeer", gift_id: int, hide_name: Optional[bool] = None, include_upgrade: Optional[bool] …
   |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
48 |         self.peer = peer  # InputPeer
49 |         self.gift_id = gift_id  # long
   |
info: rule `missing-argument` is enabled by default

error[unknown-argument]: Argument `user_id` does not match any known parameter of bound method `__init__`
  --> pyrogram/methods/business/send_gift.py:67:13
   |
66 |         invoice = raw.types.InputInvoiceStarGift(
67 |             user_id=peer,
   |             ^^^^^^^^^^^^
68 |             gift_id=gift_id,
69 |             hide_name=is_private,
   |
info: Method signature here
  --> pyrogram/raw/types/input_invoice_star_gift.py:47:9
   |
45 | … QUALNAME = "types.InputInvoiceStarGift"
46 | …
47 | … def __init__(self, *, peer: "raw.base.InputPeer", gift_id: int, hide_name: Optional[bool] = None, include_upgrade: Optional[bool] = None, message: "raw.base.TextWithEntities" = None) -> None:
   |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
48 | …     self.peer = peer  # InputPeer
49 | …     self.gift_id = gift_id  # long
   |
info: rule `unknown-argument` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/business/send_gift.py:70:13
   |
68 |               gift_id=gift_id,
69 |               hide_name=is_private,
70 | /             message=raw.types.TextWithEntities(text=text, entities=entities or [])
71 | |             if text
72 | |             else None,
   | |_____________________^ Expected `pyrogram.raw.base.text_with_entities.TextWithEntities`, found `pyrogram.raw.types.text_with_entities.TextWithEntities | None`
73 |           )
   |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.text_with_entities.TextWithEntities`
info: Method defined here
  --> pyrogram/raw/types/input_invoice_star_gift.py:47:9
   |
45 | … QUALNAME = "types.InputInvoiceStarGift"
46 | …
47 | … def __init__(self, *, peer: "raw.base.InputPeer", gift_id: int, hide_name: Optional[bool] = None, include_upgrade: Optional[bool] = None, message: "raw.base.TextWithEntities" = None) -> …
   |       ^^^^^^^^                                                                                                                              ------------------------------------------- Parameter declared here
48 | …     self.peer = peer  # InputPeer
49 | …     self.gift_id = gift_id  # long
   |
info: rule `invalid-argument-type` is enabled by default

error[not-iterable]: Object of type `LabeledPrice | list[LabeledPrice]` may not be iterable
   --> pyrogram/methods/business/send_invoice.py:153:34
    |
151 |                 if currency == "XTR":
152 |                     prices_total = 0
153 |                     for price in prices:
    |                                  ^^^^^^
154 |                         prices_total += price.amount
155 |                     text = f"Pay ⭐️{prices_total}"
    |
info: It may not have an `__iter__` method or a `__getitem__` method
info: rule `not-iterable` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/business/send_invoice.py:176:17
    |
174 |         r = await self.invoke(
175 |             raw.functions.messages.SendMedia(
176 |                 peer=await self.resolve_peer(chat_id),
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
177 |                 media=raw.types.InputMediaInvoice(
178 |                     title=title,
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^          -------------------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[not-iterable]: Object of type `LabeledPrice | list[LabeledPrice]` may not be iterable
   --> pyrogram/methods/business/send_invoice.py:182:60
    |
180 |                     invoice=raw.types.Invoice(
181 |                         currency=currency,
182 |                         prices=[price.write() for price in prices]
    |                                                            ^^^^^^
183 |                         if is_iterable
184 |                         else [prices.write()],
    |
info: It may not have an `__iter__` method or a `__getitem__` method
info: rule `not-iterable` is enabled by default

error[unresolved-attribute]: Attribute `write` is not defined on `list[LabeledPrice]` in union `LabeledPrice | list[LabeledPrice]`
   --> pyrogram/methods/business/send_invoice.py:184:31
    |
182 |                         prices=[price.write() for price in prices]
183 |                         if is_iterable
184 |                         else [prices.write()],
    |                               ^^^^^^^^^^^^
185 |                     ),
186 |                     payload=encoded_payload,
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/business/send_invoice.py:191:21
    |
189 |                           data=provider_data or "{}",
190 |                       ),
191 | /                     photo=raw.types.InputWebDocument(
192 | |                         url=photo_url,
193 | |                         size=photo_size or 0,
194 | |                         mime_type=photo_mime_type or "image/jpeg",
195 | |                         attributes=[],
196 | |                     )
197 | |                     if photo_url
198 | |                     else None,
    | |_____________________________^ Expected `pyrogram.raw.base.input_web_document.InputWebDocument`, found `pyrogram.raw.types.input_web_document.InputWebDocument | None`
199 |                       start_param=start_parameter,
200 |                       extended_media=extended_media,
    |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.input_web_document.InputWebDocument`
info: Method defined here
  --> pyrogram/raw/types/input_media_invoice.py:59:9
   |
57 | … QUALNAME = "types.InputMediaInvoice"
58 | …
59 | … def __init__(self, *, title: str, description: str, invoice: "raw.base.Invoice", payload: bytes, provider_data: "raw.base.DataJSON", photo: "raw.base.InputWebDocument" = None, pro…
   |       ^^^^^^^^                                                                                                                         ----------------------------------------- Parameter declared here
60 | …     self.title = title  # string
61 | …     self.description = description  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/business/send_invoice.py:200:21
    |
198 |                     else None,
199 |                     start_param=start_parameter,
200 |                     extended_media=extended_media,
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `pyrogram.raw.base.input_media.InputMedia`, found `pyrogram.types.input_media.input_media.InputMedia | None`
201 |                 ),
202 |                 allow_paid_floodskip=allow_paid_broadcast,
    |
info: Method defined here
  --> pyrogram/raw/types/input_media_invoice.py:59:9
   |
57 | … QUALNAME = "types.InputMediaInvoice"
58 | …
59 | … def __init__(self, *, title: str, description: str, invoice: "raw.base.Invoice", payload: bytes, provider_data: "raw.base.DataJSON", photo: "raw.base.InputWebDocument" = None, provider: Optional[str] = None, start_param: Optional[str] = None, extended_media: "raw.base.InputMedia" = None) -> …
   |       ^^^^^^^^                                                                                                                                                                                                                                       -------------------------------------------- Parameter declared here
60 | …     self.title = title  # string
61 | …     self.description = description  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/business/send_invoice.py:203:17
    |
201 |                 ),
202 |                 allow_paid_floodskip=allow_paid_broadcast,
203 |                 random_id=self.rnd_id(),
    |                 ^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | MsgId`
204 |                 reply_to=reply_to,
205 |                 message="",
    |
info: Element `MsgId` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^                                                                                  -------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/business/send_invoice.py:206:17
    |
204 |                   reply_to=reply_to,
205 |                   message="",
206 | /                 reply_markup=await reply_markup.write(self)
207 | |                 if reply_markup is not None
208 | |                 else None,
    | |_________________________^ Expected `ReplyMarkup`, found `Unknown | None`
209 |               ),
210 |           )
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMedia"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, ent…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                        ------------------------------------------- Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/business/send_payment_form.py:50:17
   |
48 |         if isinstance(message_id, int):
49 |             invoice = raw.types.InputInvoiceMessage(
50 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
51 |                 msg_id=message_id,
52 |             )
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/types/input_invoice_message.py:38:9
   |
36 |     QUALNAME = "types.InputInvoiceMessage"
37 |
38 |     def __init__(self, *, peer: "raw.base.InputPeer", msg_id: int) -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
39 |         self.peer = peer  # InputPeer
40 |         self.msg_id = msg_id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[missing-argument]: No argument provided for required parameter `stargift` of bound method `__init__`
  --> pyrogram/methods/business/toggle_gift_is_saved.py:45:13
   |
44 |           return await self.invoke(
45 | /             raw.functions.payments.SaveStarGift(
46 | |                 user_id=peer,
47 | |                 msg_id=message_id,
48 | |                 unsave=not is_saved,
49 | |             ),
   | |_____________^
50 |           )
   |
info: Union variant `bound method SaveStarGift.__init__(*, stargift: InputSavedStarGift, unsave: bool | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method SaveStarGift.__init__(*, stargift: InputSavedStarGift, unsave: bool | None = None) -> None)`
info: rule `missing-argument` is enabled by default

error[unknown-argument]: Argument `user_id` does not match any known parameter of bound method `__init__`
  --> pyrogram/methods/business/toggle_gift_is_saved.py:46:17
   |
44 |         return await self.invoke(
45 |             raw.functions.payments.SaveStarGift(
46 |                 user_id=peer,
   |                 ^^^^^^^^^^^^
47 |                 msg_id=message_id,
48 |                 unsave=not is_saved,
   |
info: Union variant `bound method SaveStarGift.__init__(*, stargift: InputSavedStarGift, unsave: bool | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method SaveStarGift.__init__(*, stargift: InputSavedStarGift, unsave: bool | None = None) -> None)`
info: rule `unknown-argument` is enabled by default

error[unknown-argument]: Argument `msg_id` does not match any known parameter of bound method `__init__`
  --> pyrogram/methods/business/toggle_gift_is_saved.py:47:17
   |
45 |             raw.functions.payments.SaveStarGift(
46 |                 user_id=peer,
47 |                 msg_id=message_id,
   |                 ^^^^^^^^^^^^^^^^^
48 |                 unsave=not is_saved,
49 |             ),
   |
info: Union variant `bound method SaveStarGift.__init__(*, stargift: InputSavedStarGift, unsave: bool | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method SaveStarGift.__init__(*, stargift: InputSavedStarGift, unsave: bool | None = None) -> None)`
info: rule `unknown-argument` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/add_chat_members.py:58:25
   |
56 |                     raw.functions.messages.AddChatUser(
57 |                         chat_id=peer.chat_id,
58 |                         user_id=await self.resolve_peer(user_id),
   |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputUser`, found `InputPeer | InputUser | InputChannel`
59 |                         fwd_limit=forward_limit,
60 |                     ),
   |
info: Union elements `InputPeer` and `InputChannel` are not assignable to `InputUser`
info: Method defined here
  --> pyrogram/raw/functions/messages/add_chat_user.py:42:9
   |
40 |     QUALNAME = "functions.messages.AddChatUser"
41 |
42 |     def __init__(self, *, chat_id: int, user_id: "raw.base.InputUser", fwd_limit: int) -> None:
   |         ^^^^^^^^                        ----------------------------- Parameter declared here
43 |         self.chat_id = chat_id  # long
44 |         self.user_id = user_id  # InputUser
   |
info: Union variant `bound method AddChatUser.__init__(*, chat_id: int, user_id: InputUser, fwd_limit: int) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method AddChatUser.__init__(*, chat_id: int, user_id: InputUser, fwd_limit: int) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/add_chat_members.py:65:21
   |
63 |             await self.invoke(
64 |                 raw.functions.channels.InviteToChannel(
65 |                     channel=peer,
   |                     ^^^^^^^^^^^^ Expected `InputChannel`, found `(InputPeer & ~InputPeerChat) | (InputUser & ~InputPeerChat) | (InputChannel & ~InputPeerChat)`
66 |                     users=[await self.resolve_peer(user_id) for user_id in user_ids],
67 |                 ),
   |
info: Union elements `InputPeer & ~InputPeerChat` and `InputUser & ~InputPeerChat` are not assignable to `InputChannel`
info: Method defined here
  --> pyrogram/raw/functions/channels/invite_to_channel.py:39:9
   |
37 |     QUALNAME = "functions.channels.InviteToChannel"
38 |
39 |     def __init__(self, *, channel: "raw.base.InputChannel", users: List["raw.base.InputUser"]) -> None:
   |         ^^^^^^^^          -------------------------------- Parameter declared here
40 |         self.channel = channel  # InputChannel
41 |         self.users = users  # Vector<InputUser>
   |
info: Union variant `bound method InviteToChannel.__init__(*, channel: InputChannel, users: list[InputUser]) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method InviteToChannel.__init__(*, channel: InputChannel, users: list[InputUser]) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/add_chat_members.py:66:21
   |
64 |                 raw.functions.channels.InviteToChannel(
65 |                     channel=peer,
66 |                     users=[await self.resolve_peer(user_id) for user_id in user_ids],
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `list[InputUser]`, found `list[Unknown | InputPeer | InputUser | InputChannel]`
67 |                 ),
68 |             )
   |
info: Method defined here
  --> pyrogram/raw/functions/channels/invite_to_channel.py:39:9
   |
37 |     QUALNAME = "functions.channels.InviteToChannel"
38 |
39 |     def __init__(self, *, channel: "raw.base.InputChannel", users: List["raw.base.InputUser"]) -> None:
   |         ^^^^^^^^                                            --------------------------------- Parameter declared here
40 |         self.channel = channel  # InputChannel
41 |         self.users = users  # Vector<InputUser>
   |
info: Union variant `bound method InviteToChannel.__init__(*, channel: InputChannel, users: list[InputUser]) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method InviteToChannel.__init__(*, channel: InputChannel, users: list[InputUser]) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/archive_chats.py:40:17
   |
38 |         folder_peers = [
39 |             raw.types.InputFolderPeer(
40 |                 peer=await self.resolve_peer(chat),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
41 |                 folder_id=1,
42 |             )
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/types/input_folder_peer.py:38:9
   |
36 |     QUALNAME = "types.InputFolderPeer"
37 |
38 |     def __init__(self, *, peer: "raw.base.InputPeer", folder_id: int) -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
39 |         self.peer = peer  # InputPeer
40 |         self.folder_id = folder_id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/ban_chat_member.py:74:21
   |
72 |             r = await self.invoke(
73 |                 raw.functions.channels.EditBanned(
74 |                     channel=chat_peer,
   |                     ^^^^^^^^^^^^^^^^^ Expected `InputChannel`, found `InputPeerChannel`
75 |                     participant=user_peer,
76 |                     banned_rights=raw.types.ChatBannedRights(
   |
info: Method defined here
  --> pyrogram/raw/functions/channels/edit_banned.py:42:9
   |
40 |     QUALNAME = "functions.channels.EditBanned"
41 |
42 |     def __init__(self, *, channel: "raw.base.InputChannel", participant: "raw.base.InputPeer", banned_rights: "raw.base.ChatBannedRigh…
   |         ^^^^^^^^          -------------------------------- Parameter declared here
43 |         self.channel = channel  # InputChannel
44 |         self.participant = participant  # InputPeer
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/ban_chat_member.py:75:21
   |
73 |                 raw.functions.channels.EditBanned(
74 |                     channel=chat_peer,
75 |                     participant=user_peer,
   |                     ^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
76 |                     banned_rights=raw.types.ChatBannedRights(
77 |                         until_date=utils.datetime_to_timestamp(until_date),
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/channels/edit_banned.py:42:9
   |
40 |     QUALNAME = "functions.channels.EditBanned"
41 |
42 |     def __init__(self, *, channel: "raw.base.InputChannel", participant: "raw.base.InputPeer", banned_rights: "raw.base.ChatBannedRigh…
   |         ^^^^^^^^                                            --------------------------------- Parameter declared here
43 |         self.channel = channel  # InputChannel
44 |         self.participant = participant  # InputPeer
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/ban_chat_member.py:77:25
   |
75 |                     participant=user_peer,
76 |                     banned_rights=raw.types.ChatBannedRights(
77 |                         until_date=utils.datetime_to_timestamp(until_date),
   |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `int | None`
78 |                         view_messages=True,
79 |                         send_messages=True,
   |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/types/chat_banned_rights.py:95:9
   |
93 |     QUALNAME = "types.ChatBannedRights"
94 |
95 |     def __init__(self, *, until_date: int, view_messages: Optional[bool] = None, send_messages: Optional[bool] = None, send_media: Opt…
   |         ^^^^^^^^          --------------- Parameter declared here
96 |         self.until_date = until_date  # int
97 |         self.view_messages = view_messages  # flags.0?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `abs` is incorrect
  --> pyrogram/methods/chats/ban_chat_member.py:93:33
   |
91 |             r = await self.invoke(
92 |                 raw.functions.messages.DeleteChatUser(
93 |                     chat_id=abs(chat_id),
   |                                 ^^^^^^^ Expected `SupportsAbs[Unknown]`, found `int | str`
94 |                     user_id=user_peer,
95 |                     revoke_history=revoke_messages,
   |
info: Element `str` of this union is not assignable to `SupportsAbs[Unknown]`
info: Function defined here
    --> stdlib/builtins.pyi:3388:5
     |
3386 |         """Delete an attribute of instance."""
3387 |
3388 | def abs(x: SupportsAbs[_T], /) -> _T:
     |     ^^^ ------------------ Parameter declared here
3389 |     """Return the absolute value of the argument."""
     |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/ban_chat_member.py:94:21
   |
92 |                 raw.functions.messages.DeleteChatUser(
93 |                     chat_id=abs(chat_id),
94 |                     user_id=user_peer,
   |                     ^^^^^^^^^^^^^^^^^ Expected `InputUser`, found `InputPeer | InputUser | InputChannel`
95 |                     revoke_history=revoke_messages,
96 |                 ),
   |
info: Union elements `InputPeer` and `InputChannel` are not assignable to `InputUser`
info: Method defined here
  --> pyrogram/raw/functions/messages/delete_chat_user.py:42:9
   |
40 |     QUALNAME = "functions.messages.DeleteChatUser"
41 |
42 |     def __init__(self, *, chat_id: int, user_id: "raw.base.InputUser", revoke_history: Optional[bool] = None) -> None:
   |         ^^^^^^^^                        ----------------------------- Parameter declared here
43 |         self.chat_id = chat_id  # long
44 |         self.user_id = user_id  # InputUser
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Module `pyrogram.raw.functions.channels` has no member `EditForumTopic`
  --> pyrogram/methods/chats/close_forum_topic.py:34:13
   |
32 |         """
33 |         await self.invoke(
34 |             raw.functions.channels.EditForumTopic(
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
35 |                 channel=await self.resolve_peer(chat_id),
36 |                 topic_id=topic_id,
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Module `pyrogram.raw.functions.channels` has no member `EditForumTopic`
  --> pyrogram/methods/chats/close_general_topic.py:27:13
   |
25 |         """
26 |         await self.invoke(
27 |             raw.functions.channels.EditForumTopic(
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
28 |                 channel=await self.resolve_peer(chat_id),
29 |                 topic_id=1,
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Module `pyrogram.raw.functions.channels` has no member `CreateForumTopic`
  --> pyrogram/methods/chats/create_forum_topic.py:42:13
   |
40 |         """
41 |         r = await self.invoke(
42 |             raw.functions.channels.CreateForumTopic(
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
43 |                 channel=await self.resolve_peer(chat_id),
44 |                 title=title,
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/create_group.py:44:17
   |
42 |             raw.functions.messages.CreateChat(
43 |                 title=title,
44 |                 users=[await self.resolve_peer(u) for u in users],
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `list[InputUser]`, found `list[Unknown | InputPeer | InputUser | InputChannel]`
45 |             ),
46 |         )
   |
info: Method defined here
  --> pyrogram/raw/functions/messages/create_chat.py:42:9
   |
40 |     QUALNAME = "functions.messages.CreateChat"
41 |
42 |     def __init__(self, *, users: List["raw.base.InputUser"], title: str, ttl_period: Optional[int] = None) -> None:
   |         ^^^^^^^^          --------------------------------- Parameter declared here
43 |         self.users = users  # Vector<InputUser>
44 |         self.title = title  # string
   |
info: Union variant `bound method CreateChat.__init__(*, users: list[InputUser], title: str, ttl_period: int | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method CreateChat.__init__(*, users: list[InputUser], title: str, ttl_period: int | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/delete_channel.py:28:17
   |
26 |         await self.invoke(
27 |             raw.functions.channels.DeleteChannel(
28 |                 channel=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputChannel`, found `InputPeer | InputUser | InputChannel`
29 |             ),
30 |         )
   |
info: Union elements `InputPeer` and `InputUser` are not assignable to `InputChannel`
info: Method defined here
  --> pyrogram/raw/functions/channels/delete_channel.py:36:9
   |
34 |     QUALNAME = "functions.channels.DeleteChannel"
35 |
36 |     def __init__(self, *, channel: "raw.base.InputChannel") -> None:
   |         ^^^^^^^^          -------------------------------- Parameter declared here
37 |         self.channel = channel  # InputChannel
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/delete_chat_photo.py:43:21
   |
41 |             await self.invoke(
42 |                 raw.functions.channels.EditPhoto(
43 |                     channel=peer,
   |                     ^^^^^^^^^^^^ Expected `InputChannel`, found `InputPeerChannel & ~InputPeerChat`
44 |                     photo=raw.types.InputChatPhotoEmpty(),
45 |                 ),
   |
info: Method defined here
  --> pyrogram/raw/functions/channels/edit_photo.py:39:9
   |
37 |     QUALNAME = "functions.channels.EditPhoto"
38 |
39 |     def __init__(self, *, channel: "raw.base.InputChannel", photo: "raw.base.InputChatPhoto") -> None:
   |         ^^^^^^^^          -------------------------------- Parameter declared here
40 |         self.channel = channel  # InputChannel
41 |         self.photo = photo  # InputChatPhoto
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Module `pyrogram.raw.functions.channels` has no member `DeleteTopicHistory`
  --> pyrogram/methods/chats/delete_forum_topic.py:35:17
   |
33 |         try:
34 |             await self.invoke(
35 |                 raw.functions.channels.DeleteTopicHistory(
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
36 |                     channel=await self.resolve_peer(chat_id),
37 |                     top_msg_id=topic_id,
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/delete_supergroup.py:28:17
   |
26 |         await self.invoke(
27 |             raw.functions.channels.DeleteChannel(
28 |                 channel=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputChannel`, found `InputPeer | InputUser | InputChannel`
29 |             ),
30 |         )
   |
info: Union elements `InputPeer` and `InputUser` are not assignable to `InputChannel`
info: Method defined here
  --> pyrogram/raw/functions/channels/delete_channel.py:36:9
   |
34 |     QUALNAME = "functions.channels.DeleteChannel"
35 |
36 |     def __init__(self, *, channel: "raw.base.InputChannel") -> None:
   |         ^^^^^^^^          -------------------------------- Parameter declared here
37 |         self.channel = channel  # InputChannel
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/delete_user_history.py:32:17
   |
30 |         r = await self.invoke(
31 |             raw.functions.channels.DeleteParticipantHistory(
32 |                 channel=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputChannel`, found `InputPeer | InputUser | InputChannel`
33 |                 participant=await self.resolve_peer(user_id),
34 |             ),
   |
info: Union elements `InputPeer` and `InputUser` are not assignable to `InputChannel`
info: Method defined here
  --> pyrogram/raw/functions/channels/delete_participant_history.py:39:9
   |
37 |     QUALNAME = "functions.channels.DeleteParticipantHistory"
38 |
39 |     def __init__(self, *, channel: "raw.base.InputChannel", participant: "raw.base.InputPeer") -> None:
   |         ^^^^^^^^          -------------------------------- Parameter declared here
40 |         self.channel = channel  # InputChannel
41 |         self.participant = participant  # InputPeer
   |
info: Union variant `bound method DeleteParticipantHistory.__init__(*, channel: InputChannel, participant: InputPeer) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method DeleteParticipantHistory.__init__(*, channel: InputChannel, participant: InputPeer) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/delete_user_history.py:33:17
   |
31 |             raw.functions.channels.DeleteParticipantHistory(
32 |                 channel=await self.resolve_peer(chat_id),
33 |                 participant=await self.resolve_peer(user_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
34 |             ),
35 |         )
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/channels/delete_participant_history.py:39:9
   |
37 |     QUALNAME = "functions.channels.DeleteParticipantHistory"
38 |
39 |     def __init__(self, *, channel: "raw.base.InputChannel", participant: "raw.base.InputPeer") -> None:
   |         ^^^^^^^^                                            --------------------------------- Parameter declared here
40 |         self.channel = channel  # InputChannel
41 |         self.participant = participant  # InputPeer
   |
info: Union variant `bound method DeleteParticipantHistory.__init__(*, channel: InputChannel, participant: InputPeer) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method DeleteParticipantHistory.__init__(*, channel: InputChannel, participant: InputPeer) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Module `pyrogram.raw.functions.channels` has no member `EditForumTopic`
  --> pyrogram/methods/chats/edit_forum_topic.py:42:13
   |
40 |         """
41 |         await self.invoke(
42 |             raw.functions.channels.EditForumTopic(
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
43 |                 channel=await self.resolve_peer(chat_id),
44 |                 topic_id=topic_id,
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Module `pyrogram.raw.functions.channels` has no member `EditForumTopic`
  --> pyrogram/methods/chats/edit_general_topic.py:34:13
   |
32 |         """
33 |         await self.invoke(
34 |             raw.functions.channels.EditForumTopic(
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
35 |                 channel=await self.resolve_peer(chat_id),
36 |                 topic_id=1,
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/chats/export_folder_link.py:29:20
   |
28 |         if not folder:
29 |             return None
   |                    ^^^^ expected `str`, found `None`
30 |
31 |         peers = []
   |
  ::: pyrogram/methods/chats/export_folder_link.py:8:76
   |
 7 | class ExportFolderLink:
 8 |     async def export_folder_link(self: pyrogram.Client, folder_id: int) -> str:
   |                                                                            --- Expected `str` because of return type
 9 |         """Export link to a user's folder.
   |
info: rule `invalid-return-type` is enabled by default

error[unresolved-attribute]: Attribute `included_chats` is not defined on `list[Folder] & ~AlwaysFalsy` in union `(Folder & ~AlwaysFalsy) | (list[Folder] & ~AlwaysFalsy)`
  --> pyrogram/methods/chats/export_folder_link.py:33:12
   |
31 |         peers = []
32 |
33 |         if folder.included_chats:
   |            ^^^^^^^^^^^^^^^^^^^^^
34 |             peers.extend(iter(folder.included_chats))
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `included_chats` is not defined on `list[Folder] & ~AlwaysFalsy` in union `(Folder & ~AlwaysFalsy) | (list[Folder] & ~AlwaysFalsy)`
  --> pyrogram/methods/chats/export_folder_link.py:34:31
   |
33 |         if folder.included_chats:
34 |             peers.extend(iter(folder.included_chats))
   |                               ^^^^^^^^^^^^^^^^^^^^^
35 |
36 |         if folder.excluded_chats:
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `excluded_chats` is not defined on `list[Folder] & ~AlwaysFalsy` in union `(Folder & ~AlwaysFalsy) | (list[Folder] & ~AlwaysFalsy)`
  --> pyrogram/methods/chats/export_folder_link.py:36:12
   |
34 |             peers.extend(iter(folder.included_chats))
35 |
36 |         if folder.excluded_chats:
   |            ^^^^^^^^^^^^^^^^^^^^^
37 |             peers.extend(iter(folder.included_chats))
   |
info: rule `unresolved-attribute` is enabled by default

error[no-matching-overload]: No overload of function `iter` matches arguments
  --> pyrogram/methods/chats/export_folder_link.py:37:26
   |
36 |         if folder.excluded_chats:
37 |             peers.extend(iter(folder.included_chats))
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
38 |
39 |         if folder.pinned_chats:
   |
info: First overload defined here
    --> stdlib/builtins.pyi:3747:5
     |
3746 | @overload
3747 | def iter(object: SupportsIter[_SupportsNextT_co], /) -> _SupportsNextT_co:
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
3748 |     """iter(iterable) -> iterator
3749 |     iter(callable, sentinel) -> iterator
     |
info: Possible overloads for function `iter`:
info:   [_SupportsNextT_co](object: SupportsIter[_SupportsNextT_co], /) -> _SupportsNextT_co
info:   [_T](object: _GetItemIterable[_T], /) -> Iterator[_T]
info:   [_T](object: () -> _T | None, sentinel: None, /) -> Iterator[_T]
info:   [_T](object: () -> _T, sentinel: object, /) -> Iterator[_T]
info: rule `no-matching-overload` is enabled by default

error[unresolved-attribute]: Attribute `included_chats` is not defined on `list[Folder] & ~AlwaysFalsy` in union `(Folder & ~AlwaysFalsy) | (list[Folder] & ~AlwaysFalsy)`
  --> pyrogram/methods/chats/export_folder_link.py:37:31
   |
36 |         if folder.excluded_chats:
37 |             peers.extend(iter(folder.included_chats))
   |                               ^^^^^^^^^^^^^^^^^^^^^
38 |
39 |         if folder.pinned_chats:
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `pinned_chats` is not defined on `list[Folder] & ~AlwaysFalsy` in union `(Folder & ~AlwaysFalsy) | (list[Folder] & ~AlwaysFalsy)`
  --> pyrogram/methods/chats/export_folder_link.py:39:12
   |
37 |             peers.extend(iter(folder.included_chats))
38 |
39 |         if folder.pinned_chats:
   |            ^^^^^^^^^^^^^^^^^^^
40 |             peers.extend(iter(folder.included_chats))
   |
info: rule `unresolved-attribute` is enabled by default

error[no-matching-overload]: No overload of function `iter` matches arguments
  --> pyrogram/methods/chats/export_folder_link.py:40:26
   |
39 |         if folder.pinned_chats:
40 |             peers.extend(iter(folder.included_chats))
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
41 |
42 |         r = await self.invoke(
   |
info: First overload defined here
    --> stdlib/builtins.pyi:3747:5
     |
3746 | @overload
3747 | def iter(object: SupportsIter[_SupportsNextT_co], /) -> _SupportsNextT_co:
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
3748 |     """iter(iterable) -> iterator
3749 |     iter(callable, sentinel) -> iterator
     |
info: Possible overloads for function `iter`:
info:   [_SupportsNextT_co](object: SupportsIter[_SupportsNextT_co], /) -> _SupportsNextT_co
info:   [_T](object: _GetItemIterable[_T], /) -> Iterator[_T]
info:   [_T](object: () -> _T | None, sentinel: None, /) -> Iterator[_T]
info:   [_T](object: () -> _T, sentinel: object, /) -> Iterator[_T]
info: rule `no-matching-overload` is enabled by default

error[unresolved-attribute]: Attribute `included_chats` is not defined on `list[Folder] & ~AlwaysFalsy` in union `(Folder & ~AlwaysFalsy) | (list[Folder] & ~AlwaysFalsy)`
  --> pyrogram/methods/chats/export_folder_link.py:40:31
   |
39 |         if folder.pinned_chats:
40 |             peers.extend(iter(folder.included_chats))
   |                               ^^^^^^^^^^^^^^^^^^^^^
41 |
42 |         r = await self.invoke(
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `title` is not defined on `list[Folder] & ~AlwaysFalsy` in union `(Folder & ~AlwaysFalsy) | (list[Folder] & ~AlwaysFalsy)`
  --> pyrogram/methods/chats/export_folder_link.py:45:23
   |
43 |             raw.functions.chatlists.ExportChatlistInvite(
44 |                 chatlist=raw.types.InputChatlistDialogFilter(filter_id=folder_id),
45 |                 title=folder.title,
   |                       ^^^^^^^^^^^^
46 |                 peers=[await self.resolve_peer(i.id) for i in peers],
47 |             ),
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/export_folder_link.py:46:17
   |
44 |                 chatlist=raw.types.InputChatlistDialogFilter(filter_id=folder_id),
45 |                 title=folder.title,
46 |                 peers=[await self.resolve_peer(i.id) for i in peers],
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `list[InputPeer]`, found `list[InputPeer | InputUser | InputChannel]`
47 |             ),
48 |         )
   |
info: Method defined here
  --> pyrogram/raw/functions/chatlists/export_chatlist_invite.py:42:9
   |
40 |     QUALNAME = "functions.chatlists.ExportChatlistInvite"
41 |
42 |     def __init__(self, *, chatlist: "raw.base.InputChatlist", title: str, peers: List["raw.base.InputPeer"]) -> None:
   |         ^^^^^^^^                                                          --------------------------------- Parameter declared here
43 |         self.chatlist = chatlist  # InputChatlist
44 |         self.title = title  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/get_chat.py:61:55
   |
59 |         if isinstance(peer, raw.types.InputPeerChannel):
60 |             r = await self.invoke(
61 |                 raw.functions.channels.GetFullChannel(channel=peer),
   |                                                       ^^^^^^^^^^^^ Expected `InputChannel`, found `InputPeerChannel`
62 |             )
63 |         elif isinstance(peer, raw.types.InputPeerUser | raw.types.InputPeerSelf):
   |
info: Method defined here
  --> pyrogram/raw/functions/channels/get_full_channel.py:36:9
   |
34 |     QUALNAME = "functions.channels.GetFullChannel"
35 |
36 |     def __init__(self, *, channel: "raw.base.InputChannel") -> None:
   |         ^^^^^^^^          -------------------------------- Parameter declared here
37 |         self.channel = channel  # InputChannel
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/get_chat.py:64:67
   |
62 |             )
63 |         elif isinstance(peer, raw.types.InputPeerUser | raw.types.InputPeerSelf):
64 |             r = await self.invoke(raw.functions.users.GetFullUser(id=peer))
   |                                                                   ^^^^^^^ Expected `InputUser`, found `(InputPeerUser & ~InputPeerChannel) | (InputPeerSelf & ~InputPeerChannel)`
65 |         else:
66 |             r = await self.invoke(
   |
info: Method defined here
  --> pyrogram/raw/functions/users/get_full_user.py:36:9
   |
34 |     QUALNAME = "functions.users.GetFullUser"
35 |
36 |     def __init__(self, *, id: "raw.base.InputUser") -> None:
   |         ^^^^^^^^          ------------------------ Parameter declared here
37 |         self.id = id  # InputUser
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `(InputPeer & ~InputPeerChannel & ~InputPeerUser & ~InputPeerSelf) | (InputUser & ~InputPeerChannel & ~InputPeerUser & ~InputPeerSelf) | (InputChannel & ~InputPeerChannel & ~InputPeerUser & ~InputPeerSelf)` has no attribute `chat_id`
  --> pyrogram/methods/chats/get_chat.py:67:60
   |
65 |         else:
66 |             r = await self.invoke(
67 |                 raw.functions.messages.GetFullChat(chat_id=peer.chat_id),
   |                                                            ^^^^^^^^^^^^
68 |             )
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/get_chat_event_log.py:70:21
   |
68 |             r: raw.base.channels.AdminLogResults = await self.invoke(
69 |                 raw.functions.channels.GetAdminLog(
70 |                     channel=await self.resolve_peer(chat_id),
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputChannel`, found `InputPeer | InputUser | InputChannel`
71 |                     q=query,
72 |                     min_id=0,
   |
info: Union elements `InputPeer` and `InputUser` are not assignable to `InputChannel`
info: Method defined here
  --> pyrogram/raw/functions/channels/get_admin_log.py:54:9
   |
52 |     QUALNAME = "functions.channels.GetAdminLog"
53 |
54 |     def __init__(self, *, channel: "raw.base.InputChannel", q: str, max_id: int, min_id: int, limit: int, events_filter: "raw.base.Cha…
   |         ^^^^^^^^          -------------------------------- Parameter declared here
55 |         self.channel = channel  # InputChannel
56 |         self.q = q  # string
   |
info: Union variant `bound method GetAdminLog.__init__(*, channel: InputChannel, q: str, max_id: int, min_id: int, limit: int, events_filter: ChannelAdminLogEventsFilter = None, admins: list[InputUser] | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetAdminLog.__init__(*, channel: InputChannel, q: str, max_id: int, min_id: int, limit: int, events_filter: ChannelAdminLogEventsFilter = None, admins: list[InputUser] | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/get_chat_event_log.py:75:21
   |
73 |                     max_id=offset_id,
74 |                     limit=limit,
75 |                     events_filter=filters.write() if filters else None,
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `ChannelAdminLogEventsFilter`, found `ChannelAdminLogEventsFilter | None`
76 |                     admins=(
77 |                         [await self.resolve_peer(i) for i in user_ids]
   |
info: Element `None` of this union is not assignable to `ChannelAdminLogEventsFilter`
info: Method defined here
  --> pyrogram/raw/functions/channels/get_admin_log.py:54:9
   |
52 | … QUALNAME = "functions.channels.GetAdminLog"
53 | …
54 | … def __init__(self, *, channel: "raw.base.InputChannel", q: str, max_id: int, min_id: int, limit: int, events_filter: "raw.base.ChannelAdminLogEventsFilter" = None, adm…
   |       ^^^^^^^^                                                                                          ------------------------------------------------------------ Parameter declared here
55 | …     self.channel = channel  # InputChannel
56 | …     self.q = q  # string
   |
info: Union variant `bound method GetAdminLog.__init__(*, channel: InputChannel, q: str, max_id: int, min_id: int, limit: int, events_filter: ChannelAdminLogEventsFilter = None, admins: list[InputUser] | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetAdminLog.__init__(*, channel: InputChannel, q: str, max_id: int, min_id: int, limit: int, events_filter: ChannelAdminLogEventsFilter = None, admins: list[InputUser] | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/get_chat_event_log.py:76:21
   |
74 |                       limit=limit,
75 |                       events_filter=filters.write() if filters else None,
76 | /                     admins=(
77 | |                         [await self.resolve_peer(i) for i in user_ids]
78 | |                         if user_ids is not None
79 | |                         else user_ids
80 | |                     ),
   | |_____________________^ Expected `list[InputUser] | None`, found `list[Unknown | InputPeer | InputUser | InputChannel] | None`
81 |                   ),
82 |               )
   |
info: Element `list[Unknown | InputPeer | InputUser | InputChannel]` of this union is not assignable to `list[InputUser] | None`
info: Method defined here
  --> pyrogram/raw/functions/channels/get_admin_log.py:54:9
   |
52 | … QUALNAME = "functions.channels.GetAdminLog"
53 | …
54 | … def __init__(self, *, channel: "raw.base.InputChannel", q: str, max_id: int, min_id: int, limit: int, events_filter: "raw.base.ChannelAdminLogEventsFilter" = None, admins: Optional[List["raw.base.InputUser"]] = None) -> …
   |       ^^^^^^^^                                                                                                                                                        --------------------------------------------------- Parameter declared here
55 | …     self.channel = channel  # InputChannel
56 | …     self.q = q  # string
   |
info: Union variant `bound method GetAdminLog.__init__(*, channel: InputChannel, q: str, max_id: int, min_id: int, limit: int, events_filter: ChannelAdminLogEventsFilter = None, admins: list[InputUser] | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetAdminLog.__init__(*, channel: InputChannel, q: str, max_id: int, min_id: int, limit: int, events_filter: ChannelAdminLogEventsFilter = None, admins: list[InputUser] | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `is_self` is not defined on `None` in union `Unknown | User | None`
  --> pyrogram/methods/chats/get_chat_member.py:53:24
   |
52 |                 if isinstance(user, raw.types.InputPeerSelf):
53 |                     if member.user.is_self:
   |                        ^^^^^^^^^^^^^^^^^^^
54 |                         return member
55 |                 elif member.user.id == user.user_id:
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | User | None`
  --> pyrogram/methods/chats/get_chat_member.py:55:22
   |
53 |                     if member.user.is_self:
54 |                         return member
55 |                 elif member.user.id == user.user_id:
   |                      ^^^^^^^^^^^^^^
56 |                     return member
57 |             raise UserNotParticipant
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `(InputPeer & ~InputPeerSelf) | (InputUser & ~InputPeerSelf) | (InputChannel & ~InputPeerSelf)` has no attribute `user_id`
  --> pyrogram/methods/chats/get_chat_member.py:55:40
   |
53 |                     if member.user.is_self:
54 |                         return member
55 |                 elif member.user.id == user.user_id:
   |                                        ^^^^^^^^^^^^
56 |                     return member
57 |             raise UserNotParticipant
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/get_chat_member.py:61:21
   |
59 |             r = await self.invoke(
60 |                 raw.functions.channels.GetParticipant(
61 |                     channel=chat,
   |                     ^^^^^^^^^^^^ Expected `InputChannel`, found `InputPeerChannel & ~InputPeerChat`
62 |                     participant=user,
63 |                 ),
   |
info: Method defined here
  --> pyrogram/raw/functions/channels/get_participant.py:39:9
   |
37 |     QUALNAME = "functions.channels.GetParticipant"
38 |
39 |     def __init__(self, *, channel: "raw.base.InputChannel", participant: "raw.base.InputPeer") -> None:
   |         ^^^^^^^^          -------------------------------- Parameter declared here
40 |         self.channel = channel  # InputChannel
41 |         self.participant = participant  # InputPeer
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/get_chat_member.py:62:21
   |
60 |                 raw.functions.channels.GetParticipant(
61 |                     channel=chat,
62 |                     participant=user,
   |                     ^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
63 |                 ),
64 |             )
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/channels/get_participant.py:39:9
   |
37 |     QUALNAME = "functions.channels.GetParticipant"
38 |
39 |     def __init__(self, *, channel: "raw.base.InputChannel", participant: "raw.base.InputPeer") -> None:
   |         ^^^^^^^^                                            --------------------------------- Parameter declared here
40 |         self.channel = channel  # InputChannel
41 |         self.participant = participant  # InputPeer
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/get_chat_members.py:33:13
   |
31 |     r = await client.invoke(
32 |         raw.functions.channels.GetParticipants(
33 |             channel=await client.resolve_peer(chat_id),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputChannel`, found `InputPeer | InputUser | InputChannel`
34 |             filter=filter,
35 |             offset=offset,
   |
info: Union elements `InputPeer` and `InputUser` are not assignable to `InputChannel`
info: Method defined here
  --> pyrogram/raw/functions/channels/get_participants.py:48:9
   |
46 |     QUALNAME = "functions.channels.GetParticipants"
47 |
48 |     def __init__(self, *, channel: "raw.base.InputChannel", filter: "raw.base.ChannelParticipantsFilter", offset: int, limit: int, has…
   |         ^^^^^^^^          -------------------------------- Parameter declared here
49 |         self.channel = channel  # InputChannel
50 |         self.filter = filter  # ChannelParticipantsFilter
   |
info: Union variant `bound method GetParticipants.__init__(*, channel: InputChannel, filter: ChannelParticipantsFilter, offset: int, limit: int, hash: int) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetParticipants.__init__(*, channel: InputChannel, filter: ChannelParticipantsFilter, offset: int, limit: int, hash: int) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/get_chat_members_count.py:47:55
   |
45 |         if isinstance(peer, raw.types.InputPeerChannel):
46 |             r = await self.invoke(
47 |                 raw.functions.channels.GetFullChannel(channel=peer),
   |                                                       ^^^^^^^^^^^^ Expected `InputChannel`, found `InputPeerChannel & ~InputPeerChat`
48 |             )
   |
info: Method defined here
  --> pyrogram/raw/functions/channels/get_full_channel.py:36:9
   |
34 |     QUALNAME = "functions.channels.GetFullChannel"
35 |
36 |     def __init__(self, *, channel: "raw.base.InputChannel") -> None:
   |         ^^^^^^^^          -------------------------------- Parameter declared here
37 |         self.channel = channel  # InputChannel
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/get_chat_online_count.py:33:21
   |
31 |             await self.invoke(
32 |                 raw.functions.messages.GetOnlines(
33 |                     peer=await self.resolve_peer(chat_id),
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
34 |                 ),
35 |             )
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_onlines.py:36:9
   |
34 |     QUALNAME = "functions.messages.GetOnlines"
35 |
36 |     def __init__(self, *, peer: "raw.base.InputPeer") -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
37 |         self.peer = peer  # InputPeer
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/get_dialogs.py:56:21
   |
54 |             r = await self.invoke(
55 |                 raw.functions.messages.GetDialogs(
56 |                     offset_date=offset_date,
   |                     ^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `int | None`
57 |                     offset_id=offset_id,
58 |                     offset_peer=offset_peer,
   |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_dialogs.py:54:9
   |
52 |     QUALNAME = "functions.messages.GetDialogs"
53 |
54 |     def __init__(self, *, offset_date: int, offset_id: int, offset_peer: "raw.base.InputPeer", limit: int, hash: int, exclude_pinned: …
   |         ^^^^^^^^          ---------------- Parameter declared here
55 |         self.offset_date = offset_date  # int
56 |         self.offset_id = offset_id  # int
   |
info: Union variant `bound method GetDialogs.__init__(*, offset_date: int, offset_id: int, offset_peer: InputPeer, limit: int, hash: int, exclude_pinned: bool | None = None, folder_id: int | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetDialogs.__init__(*, offset_date: int, offset_id: int, offset_peer: InputPeer, limit: int, hash: int, exclude_pinned: bool | None = None, folder_id: int | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/get_dialogs.py:58:21
   |
56 |                     offset_date=offset_date,
57 |                     offset_id=offset_id,
58 |                     offset_peer=offset_peer,
   |                     ^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
59 |                     limit=limit,
60 |                     hash=0,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_dialogs.py:54:9
   |
52 |     QUALNAME = "functions.messages.GetDialogs"
53 |
54 |     def __init__(self, *, offset_date: int, offset_id: int, offset_peer: "raw.base.InputPeer", limit: int, hash: int, exclude_pinned: …
   |         ^^^^^^^^                                            --------------------------------- Parameter declared here
55 |         self.offset_date = offset_date  # int
56 |         self.offset_id = offset_id  # int
   |
info: Union variant `bound method GetDialogs.__init__(*, offset_date: int, offset_id: int, offset_peer: InputPeer, limit: int, hash: int, exclude_pinned: bool | None = None, folder_id: int | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetDialogs.__init__(*, offset_date: int, offset_id: int, offset_peer: InputPeer, limit: int, hash: int, exclude_pinned: bool | None = None, folder_id: int | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/get_folders.py:44:19
   |
42 |         """
43 |         is_iterable = hasattr(folder_ids, "__iter__")
44 |         ids = set(folder_ids) if is_iterable else {folder_ids}
   |                   ^^^^^^^^^^ Expected `Iterable[Unknown]`, found `int | Iterable[int] | None`
45 |
46 |         dialog_filters = await self.invoke(raw.functions.messages.GetDialogFilters())
   |
info: Union elements `int` and `None` are not assignable to `Iterable[Unknown]`
info: Matching overload defined here
    --> stdlib/builtins.pyi:3083:9
     |
3081 |     def __init__(self) -> None: ...
3082 |     @overload
3083 |     def __init__(self, iterable: Iterable[_T], /) -> None: ...
     |         ^^^^^^^^       ---------------------- Parameter declared here
3084 |     def add(self, element: _T, /) -> None:
3085 |         """Add an element to a set.
     |
info: Non-matching overloads for bound method `__init__`:
info:   (self) -> None
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/chats/get_folders.py:81:20
   |
80 |         if not folders:
81 |             return None
   |                    ^^^^ expected `Folder | list[Folder]`, found `None`
82 |
83 |         if folder_ids:
   |
  ::: pyrogram/methods/chats/get_folders.py:16:10
   |
14 |         self: pyrogram.Client,
15 |         folder_ids: int | Iterable[int] | None = None,
16 |     ) -> types.Folder | list[types.Folder]:
   |          --------------------------------- Expected `Folder | list[Folder]` because of return type
17 |         """Get one or more folders by using folder identifiers.
   |
info: rule `invalid-return-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/chats/get_folders.py:89:20
   |
87 |                 if folder.id == folder_ids:
88 |                     return folder
89 |             return None
   |                    ^^^^ expected `Folder | list[Folder]`, found `None`
90 |
91 |         return folders
   |
  ::: pyrogram/methods/chats/get_folders.py:16:10
   |
14 |         self: pyrogram.Client,
15 |         folder_ids: int | Iterable[int] | None = None,
16 |     ) -> types.Folder | list[types.Folder]:
   |          --------------------------------- Expected `Folder | list[Folder]` because of return type
17 |         """Get one or more folders by using folder identifiers.
   |
info: rule `invalid-return-type` is enabled by default

error[unresolved-attribute]: Module `pyrogram.raw.functions.channels` has no member `GetForumTopics`
  --> pyrogram/methods/chats/get_forum_topics.py:49:15
   |
47 |         peer = await self.resolve_peer(chat_id)
48 |
49 |         rpc = raw.functions.channels.GetForumTopics(
   |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
50 |             channel=peer,
51 |             offset_date=0,
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/get_forum_topics_by_id.py:58:20
   |
57 |         is_iterable = not isinstance(ids, int)
58 |         ids = list(ids) if is_iterable else [ids]
   |                    ^^^ Expected `Iterable[Unknown]`, found `(int & ~AlwaysFalsy) | (Iterable[int] & ~AlwaysFalsy)`
59 |         ids = list(ids)
   |
info: Element `int & ~AlwaysFalsy` of this union is not assignable to `Iterable[Unknown]`
info: Matching overload defined here
    --> stdlib/builtins.pyi:2839:9
     |
2837 |     def __init__(self) -> None: ...
2838 |     @overload
2839 |     def __init__(self, iterable: Iterable[_T], /) -> None: ...
     |         ^^^^^^^^       ---------------------- Parameter declared here
2840 |     def copy(self) -> list[_T]:
2841 |         """Return a shallow copy of the list."""
     |
info: Non-matching overloads for bound method `__init__`:
info:   (self) -> None
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Module `pyrogram.raw.functions.channels` has no member `GetForumTopicsByID`
  --> pyrogram/methods/chats/get_forum_topics_by_id.py:61:15
   |
59 |         ids = list(ids)
60 |
61 |         rpc = raw.functions.channels.GetForumTopicsByID(channel=peer, topics=ids)
   |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
62 |
63 |         r = await self.invoke(rpc, sleep_threshold=-1)
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/get_send_as_chats.py:31:46
   |
29 |         """
30 |         r = await self.invoke(
31 |             raw.functions.channels.GetSendAs(peer=await self.resolve_peer(chat_id)),
   |                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
32 |         )
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/channels/get_send_as.py:42:9
   |
40 |     QUALNAME = "functions.channels.GetSendAs"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", for_paid_reactions: Optional[bool] = None, for_live_stories: Optional[bool] = No…
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.for_paid_reactions = for_paid_reactions  # flags.0?true
   |
info: Union variant `bound method GetSendAs.__init__(*, peer: InputPeer, for_paid_reactions: bool | None = None, for_live_stories: bool | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetSendAs.__init__(*, peer: InputPeer, for_paid_reactions: bool | None = None, for_live_stories: bool | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Module `pyrogram.raw.functions.channels` has no member `EditForumTopic`
  --> pyrogram/methods/chats/hide_general_topic.py:27:13
   |
25 |         """
26 |         await self.invoke(
27 |             raw.functions.channels.EditForumTopic(
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
28 |                 channel=await self.resolve_peer(chat_id),
29 |                 topic_id=1,
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/chats/join_chat.py:43:20
   |
41 |             if isinstance(chat.chats[0], raw.types.Channel):
42 |                 return types.Chat._parse_channel_chat(self, chat.chats[0])
43 |             return None
   |                    ^^^^ expected `Chat`, found `None`
44 |         chat = await self.invoke(
45 |             raw.functions.channels.JoinChannel(
   |
  ::: pyrogram/methods/chats/join_chat.py:8:71
   |
 7 | class JoinChat:
 8 |     async def join_chat(self: pyrogram.Client, chat_id: int | str) -> types.Chat:
   |                                                                       ---------- Expected `Chat` because of return type
 9 |         """Join a group chat or channel.
   |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/join_chat.py:46:17
   |
44 |         chat = await self.invoke(
45 |             raw.functions.channels.JoinChannel(
46 |                 channel=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputChannel`, found `InputPeer | InputUser | InputChannel`
47 |             ),
48 |         )
   |
info: Union elements `InputPeer` and `InputUser` are not assignable to `InputChannel`
info: Method defined here
  --> pyrogram/raw/functions/channels/join_channel.py:36:9
   |
34 |     QUALNAME = "functions.channels.JoinChannel"
35 |
36 |     def __init__(self, *, channel: "raw.base.InputChannel") -> None:
   |         ^^^^^^^^          -------------------------------- Parameter declared here
37 |         self.channel = channel  # InputChannel
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `remove_state` is not defined on `Storage & ~AlwaysFalsy`, `MemoryStorage`, `FileStorage` in union `Unknown | (Storage & ~AlwaysFalsy) | MemoryStorage | FileStorage`
  --> pyrogram/methods/chats/leave_chat.py:38:19
   |
36 |         peer = await self.resolve_peer(chat_id)
37 |         if not self.skip_updates:
38 |             await self.storage.remove_state(chat_id)
   |                   ^^^^^^^^^^^^^^^^^^^^^^^^^
39 |
40 |         if isinstance(peer, raw.types.InputPeerChannel):
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/leave_chat.py:43:21
   |
41 |             return await self.invoke(
42 |                 raw.functions.channels.LeaveChannel(
43 |                     channel=await self.resolve_peer(chat_id),
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputChannel`, found `InputPeer | InputUser | InputChannel`
44 |                 ),
45 |             )
   |
info: Union elements `InputPeer` and `InputUser` are not assignable to `InputChannel`
info: Method defined here
  --> pyrogram/raw/functions/channels/leave_channel.py:36:9
   |
34 |     QUALNAME = "functions.channels.LeaveChannel"
35 |
36 |     def __init__(self, *, channel: "raw.base.InputChannel") -> None:
   |         ^^^^^^^^          -------------------------------- Parameter declared here
37 |         self.channel = channel  # InputChannel
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/mark_chat_unread.py:27:17
   |
25 |         return await self.invoke(
26 |             raw.functions.messages.MarkDialogUnread(
27 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputDialogPeer`, found `InputPeer | InputUser | InputChannel`
28 |                 unread=True,
29 |             ),
   |
info: Method defined here
  --> pyrogram/raw/functions/messages/mark_dialog_unread.py:42:9
   |
40 |     QUALNAME = "functions.messages.MarkDialogUnread"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputDialogPeer", unread: Optional[bool] = None, parent_peer: "raw.base.InputPeer" = None) -…
   |         ^^^^^^^^          -------------------------------- Parameter declared here
43 |         self.peer = peer  # InputDialogPeer
44 |         self.unread = unread  # flags.0?true
   |
info: Union variant `bound method MarkDialogUnread.__init__(*, peer: InputDialogPeer, unread: bool | None = None, parent_peer: InputPeer = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method MarkDialogUnread.__init__(*, peer: InputDialogPeer, unread: bool | None = None, parent_peer: InputPeer = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/pin_chat_message.py:51:17
   |
49 |         r = await self.invoke(
50 |             raw.functions.messages.UpdatePinnedMessage(
51 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
52 |                 id=message_id,
53 |                 silent=disable_notification or None,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/update_pinned_message.py:48:9
   |
46 |     QUALNAME = "functions.messages.UpdatePinnedMessage"
47 |
48 |     def __init__(self, *, peer: "raw.base.InputPeer", id: int, silent: Optional[bool] = None, unpin: Optional[bool] = None, pm_oneside…
   |         ^^^^^^^^          -------------------------- Parameter declared here
49 |         self.peer = peer  # InputPeer
50 |         self.id = id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/chats/pin_chat_message.py:67:16
   |
65 |             ):
66 |                 return await types.Message._parse(self, i.message, users, chats)
67 |         return None
   |                ^^^^ expected `Message`, found `None`
   |
  ::: pyrogram/methods/chats/pin_chat_message.py:14:10
   |
12 |         disable_notification: bool = False,
13 |         both_sides: bool = False,
14 |     ) -> types.Message:
   |          ------------- Expected `Message` because of return type
15 |         """Pin a message in a group, channel or your own chat.
16 |         You must be an administrator in the chat for this to work and must have the "can_pin_messages" admin right in
   |
info: rule `invalid-return-type` is enabled by default

error[invalid-assignment]: Object of type `InputPeer | InputUser | InputChannel` is not assignable to `int | str`
  --> pyrogram/methods/chats/promote_chat_member.py:49:9
   |
47 |                 await app.promote_chat_member(chat_id, user_id)
48 |         """
49 |         chat_id = await self.resolve_peer(chat_id)
   |         -------   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `InputPeer | InputUser | InputChannel`
   |         |
   |         Declared type `int | str`
50 |         user_id = await self.resolve_peer(user_id)
   |
info: rule `invalid-assignment` is enabled by default

error[invalid-assignment]: Object of type `InputPeer | InputUser | InputChannel` is not assignable to `int | str`
  --> pyrogram/methods/chats/promote_chat_member.py:50:9
   |
48 |         """
49 |         chat_id = await self.resolve_peer(chat_id)
50 |         user_id = await self.resolve_peer(user_id)
   |         -------   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `InputPeer | InputUser | InputChannel`
   |         |
   |         Declared type `int | str`
51 |
52 |         # See Chat.promote_member for the reason of this (instead of setting types.ChatPrivileges() as default arg).
   |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/promote_chat_member.py:60:25
   |
58 |                 await self.invoke(
59 |                     raw.functions.channels.GetParticipant(
60 |                         channel=chat_id,
   |                         ^^^^^^^^^^^^^^^ Expected `InputChannel`, found `int | str`
61 |                         participant=user_id,
62 |                     ),
   |
info: Method defined here
  --> pyrogram/raw/functions/channels/get_participant.py:39:9
   |
37 |     QUALNAME = "functions.channels.GetParticipant"
38 |
39 |     def __init__(self, *, channel: "raw.base.InputChannel", participant: "raw.base.InputPeer") -> None:
   |         ^^^^^^^^          -------------------------------- Parameter declared here
40 |         self.channel = channel  # InputChannel
41 |         self.participant = participant  # InputPeer
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/promote_chat_member.py:61:25
   |
59 |                     raw.functions.channels.GetParticipant(
60 |                         channel=chat_id,
61 |                         participant=user_id,
   |                         ^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `int | str`
62 |                     ),
63 |                 )
   |
info: Method defined here
  --> pyrogram/raw/functions/channels/get_participant.py:39:9
   |
37 |     QUALNAME = "functions.channels.GetParticipant"
38 |
39 |     def __init__(self, *, channel: "raw.base.InputChannel", participant: "raw.base.InputPeer") -> None:
   |         ^^^^^^^^                                            --------------------------------- Parameter declared here
40 |         self.channel = channel  # InputChannel
41 |         self.participant = participant  # InputPeer
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/promote_chat_member.py:78:17
   |
76 |         await self.invoke(
77 |             raw.functions.channels.EditAdmin(
78 |                 channel=chat_id,
   |                 ^^^^^^^^^^^^^^^ Expected `InputChannel`, found `int | str`
79 |                 user_id=user_id,
80 |                 admin_rights=raw.types.ChatAdminRights(
   |
info: Method defined here
  --> pyrogram/raw/functions/channels/edit_admin.py:45:9
   |
43 |     QUALNAME = "functions.channels.EditAdmin"
44 |
45 |     def __init__(self, *, channel: "raw.base.InputChannel", user_id: "raw.base.InputUser", admin_rights: "raw.base.ChatAdminRights", r…
   |         ^^^^^^^^          -------------------------------- Parameter declared here
46 |         self.channel = channel  # InputChannel
47 |         self.user_id = user_id  # InputUser
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/promote_chat_member.py:79:17
   |
77 |             raw.functions.channels.EditAdmin(
78 |                 channel=chat_id,
79 |                 user_id=user_id,
   |                 ^^^^^^^^^^^^^^^ Expected `InputUser`, found `int | str`
80 |                 admin_rights=raw.types.ChatAdminRights(
81 |                     anonymous=privileges.is_anonymous,
   |
info: Method defined here
  --> pyrogram/raw/functions/channels/edit_admin.py:45:9
   |
43 |     QUALNAME = "functions.channels.EditAdmin"
44 |
45 |     def __init__(self, *, channel: "raw.base.InputChannel", user_id: "raw.base.InputUser", admin_rights: "raw.base.ChatAdminRights", r…
   |         ^^^^^^^^                                            ----------------------------- Parameter declared here
46 |         self.channel = channel  # InputChannel
47 |         self.user_id = user_id  # InputUser
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Module `pyrogram.raw.functions.channels` has no member `EditForumTopic`
  --> pyrogram/methods/chats/reopen_forum_topic.py:34:13
   |
32 |         """
33 |         await self.invoke(
34 |             raw.functions.channels.EditForumTopic(
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
35 |                 channel=await self.resolve_peer(chat_id),
36 |                 topic_id=topic_id,
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Module `pyrogram.raw.functions.channels` has no member `EditForumTopic`
  --> pyrogram/methods/chats/reopen_general_topic.py:30:13
   |
28 |         """
29 |         await self.invoke(
30 |             raw.functions.channels.EditForumTopic(
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
31 |                 channel=await self.resolve_peer(chat_id),
32 |                 topic_id=1,
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `permissions` is not defined on `ChatPreview` in union `Chat | ChatPreview`
   --> pyrogram/methods/chats/restrict_chat_member.py:100:31
    |
 98 |                 send_inline = True
 99 |         else:
100 |             old_permissions = (await self.get_chat(chat_id)).permissions
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
101 |             send_messages = None
102 |             send_media = None
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_add_web_page_previews` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/restrict_chat_member.py:106:26
    |
104 |                 not permissions.can_add_web_page_previews
105 |                 if permissions.can_add_web_page_previews is not None
106 |                 else not old_permissions.can_add_web_page_previews
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
107 |             )
108 |             send_polls = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_send_polls` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/restrict_chat_member.py:111:26
    |
109 |                 not permissions.can_send_polls
110 |                 if permissions.can_send_polls is not None
111 |                 else not old_permissions.can_send_polls
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
112 |             )
113 |             change_info = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_change_info` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/restrict_chat_member.py:116:26
    |
114 |                 not permissions.can_change_info
115 |                 if permissions.can_change_info is not None
116 |                 else not old_permissions.can_change_info
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
117 |             )
118 |             invite_users = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_invite_users` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/restrict_chat_member.py:121:26
    |
119 |                 not permissions.can_invite_users
120 |                 if permissions.can_invite_users is not None
121 |                 else not old_permissions.can_invite_users
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
122 |             )
123 |             pin_messages = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_pin_messages` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/restrict_chat_member.py:126:26
    |
124 |                 not permissions.can_pin_messages
125 |                 if permissions.can_pin_messages is not None
126 |                 else not old_permissions.can_pin_messages
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
127 |             )
128 |             manage_topics = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_manage_topics` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/restrict_chat_member.py:131:26
    |
129 |                 not permissions.can_manage_topics
130 |                 if permissions.can_manage_topics is not None
131 |                 else not old_permissions.can_manage_topics
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
132 |             )
133 |             send_audios = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_send_audios` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/restrict_chat_member.py:136:26
    |
134 |                 not permissions.can_send_audios
135 |                 if permissions.can_send_audios is not None
136 |                 else not old_permissions.can_send_audios
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
137 |             )
138 |             send_docs = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_send_docs` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/restrict_chat_member.py:141:26
    |
139 |                 not permissions.can_send_docs
140 |                 if permissions.can_send_docs is not None
141 |                 else not old_permissions.can_send_docs
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
142 |             )
143 |             send_games = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_send_games` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/restrict_chat_member.py:146:26
    |
144 |                 not permissions.can_send_games
145 |                 if permissions.can_send_games is not None
146 |                 else not old_permissions.can_send_games
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
147 |             )
148 |             send_gifs = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_send_gifs` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/restrict_chat_member.py:151:26
    |
149 |                 not permissions.can_send_gifs
150 |                 if permissions.can_send_gifs is not None
151 |                 else not old_permissions.can_send_gifs
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
152 |             )
153 |             send_inline = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_send_inline` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/restrict_chat_member.py:156:26
    |
154 |                 not permissions.can_send_inline
155 |                 if permissions.can_send_inline is not None
156 |                 else not old_permissions.can_send_inline
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
157 |             )
158 |             send_photos = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_send_photos` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/restrict_chat_member.py:161:26
    |
159 |                 not permissions.can_send_photos
160 |                 if permissions.can_send_photos is not None
161 |                 else not old_permissions.can_send_photos
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
162 |             )
163 |             send_plain = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_send_plain` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/restrict_chat_member.py:166:26
    |
164 |                 not permissions.can_send_plain
165 |                 if permissions.can_send_plain is not None
166 |                 else not old_permissions.can_send_plain
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
167 |             )
168 |             send_roundvideos = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_send_roundvideos` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/restrict_chat_member.py:171:26
    |
169 |                 not permissions.can_send_roundvideos
170 |                 if permissions.can_send_roundvideos is not None
171 |                 else not old_permissions.can_send_roundvideos
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
172 |             )
173 |             send_stickers = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_send_stickers` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/restrict_chat_member.py:176:26
    |
174 |                 not permissions.can_send_stickers
175 |                 if permissions.can_send_stickers is not None
176 |                 else not old_permissions.can_send_stickers
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
177 |             )
178 |             send_videos = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_send_videos` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/restrict_chat_member.py:181:26
    |
179 |                 not permissions.can_send_videos
180 |                 if permissions.can_send_videos is not None
181 |                 else not old_permissions.can_send_videos
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
182 |             )
183 |             send_voices = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_send_voices` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/restrict_chat_member.py:186:26
    |
184 |                 not permissions.can_send_voices
185 |                 if permissions.can_send_voices is not None
186 |                 else not old_permissions.can_send_voices
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
187 |             )
188 |             if permissions.can_send_messages is not None:
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_send_media_messages` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/restrict_chat_member.py:192:25
    |
190 |                 if permissions.can_send_media_messages is None:
191 |                     permissions.can_send_media_messages = (
192 |                         old_permissions.can_send_media_messages
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
193 |                     )
194 |             if permissions.can_send_media_messages is not None:
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/chats/restrict_chat_member.py:223:17
    |
221 |         r = await self.invoke(
222 |             raw.functions.channels.EditBanned(
223 |                 channel=await self.resolve_peer(chat_id),
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputChannel`, found `InputPeer | InputUser | InputChannel`
224 |                 participant=await self.resolve_peer(user_id),
225 |                 banned_rights=raw.types.ChatBannedRights(
    |
info: Union elements `InputPeer` and `InputUser` are not assignable to `InputChannel`
info: Method defined here
  --> pyrogram/raw/functions/channels/edit_banned.py:42:9
   |
40 |     QUALNAME = "functions.channels.EditBanned"
41 |
42 |     def __init__(self, *, channel: "raw.base.InputChannel", participant: "raw.base.InputPeer", banned_rights: "raw.base.ChatBannedRigh…
   |         ^^^^^^^^          -------------------------------- Parameter declared here
43 |         self.channel = channel  # InputChannel
44 |         self.participant = participant  # InputPeer
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/chats/restrict_chat_member.py:224:17
    |
222 |             raw.functions.channels.EditBanned(
223 |                 channel=await self.resolve_peer(chat_id),
224 |                 participant=await self.resolve_peer(user_id),
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
225 |                 banned_rights=raw.types.ChatBannedRights(
226 |                     until_date=utils.datetime_to_timestamp(until_date),
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/channels/edit_banned.py:42:9
   |
40 |     QUALNAME = "functions.channels.EditBanned"
41 |
42 |     def __init__(self, *, channel: "raw.base.InputChannel", participant: "raw.base.InputPeer", banned_rights: "raw.base.ChatBannedRigh…
   |         ^^^^^^^^                                            --------------------------------- Parameter declared here
43 |         self.channel = channel  # InputChannel
44 |         self.participant = participant  # InputPeer
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/chats/restrict_chat_member.py:226:21
    |
224 |                 participant=await self.resolve_peer(user_id),
225 |                 banned_rights=raw.types.ChatBannedRights(
226 |                     until_date=utils.datetime_to_timestamp(until_date),
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `int | None`
227 |                     send_messages=send_messages,
228 |                     send_media=send_media,
    |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/types/chat_banned_rights.py:95:9
   |
93 |     QUALNAME = "types.ChatBannedRights"
94 |
95 |     def __init__(self, *, until_date: int, view_messages: Optional[bool] = None, send_messages: Optional[bool] = None, send_media: Opt…
   |         ^^^^^^^^          --------------- Parameter declared here
96 |         self.until_date = until_date  # int
97 |         self.view_messages = view_messages  # flags.0?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `InputPeer | InputUser | InputChannel` is not assignable to `int | str`
  --> pyrogram/methods/chats/set_administrator_title.py:43:9
   |
41 |                 await app.set_administrator_title(chat_id, user_id, "Admin Title")
42 |         """
43 |         chat_id = await self.resolve_peer(chat_id)
   |         -------   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `InputPeer | InputUser | InputChannel`
   |         |
   |         Declared type `int | str`
44 |         user_id = await self.resolve_peer(user_id)
   |
info: rule `invalid-assignment` is enabled by default

error[invalid-assignment]: Object of type `InputPeer | InputUser | InputChannel` is not assignable to `int | str`
  --> pyrogram/methods/chats/set_administrator_title.py:44:9
   |
42 |         """
43 |         chat_id = await self.resolve_peer(chat_id)
44 |         user_id = await self.resolve_peer(user_id)
   |         -------   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `InputPeer | InputUser | InputChannel`
   |         |
   |         Declared type `int | str`
45 |
46 |         r = (
   |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/set_administrator_title.py:49:21
   |
47 |             await self.invoke(
48 |                 raw.functions.channels.GetParticipant(
49 |                     channel=chat_id,
   |                     ^^^^^^^^^^^^^^^ Expected `InputChannel`, found `int | str`
50 |                     participant=user_id,
51 |                 ),
   |
info: Method defined here
  --> pyrogram/raw/functions/channels/get_participant.py:39:9
   |
37 |     QUALNAME = "functions.channels.GetParticipant"
38 |
39 |     def __init__(self, *, channel: "raw.base.InputChannel", participant: "raw.base.InputPeer") -> None:
   |         ^^^^^^^^          -------------------------------- Parameter declared here
40 |         self.channel = channel  # InputChannel
41 |         self.participant = participant  # InputPeer
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/set_administrator_title.py:50:21
   |
48 |                 raw.functions.channels.GetParticipant(
49 |                     channel=chat_id,
50 |                     participant=user_id,
   |                     ^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `int | str`
51 |                 ),
52 |             )
   |
info: Method defined here
  --> pyrogram/raw/functions/channels/get_participant.py:39:9
   |
37 |     QUALNAME = "functions.channels.GetParticipant"
38 |
39 |     def __init__(self, *, channel: "raw.base.InputChannel", participant: "raw.base.InputPeer") -> None:
   |         ^^^^^^^^                                            --------------------------------- Parameter declared here
40 |         self.channel = channel  # InputChannel
41 |         self.participant = participant  # InputPeer
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/set_administrator_title.py:66:17
   |
64 |         await self.invoke(
65 |             raw.functions.channels.EditAdmin(
66 |                 channel=chat_id,
   |                 ^^^^^^^^^^^^^^^ Expected `InputChannel`, found `int | str`
67 |                 user_id=user_id,
68 |                 admin_rights=admin_rights,
   |
info: Method defined here
  --> pyrogram/raw/functions/channels/edit_admin.py:45:9
   |
43 |     QUALNAME = "functions.channels.EditAdmin"
44 |
45 |     def __init__(self, *, channel: "raw.base.InputChannel", user_id: "raw.base.InputUser", admin_rights: "raw.base.ChatAdminRights", r…
   |         ^^^^^^^^          -------------------------------- Parameter declared here
46 |         self.channel = channel  # InputChannel
47 |         self.user_id = user_id  # InputUser
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/set_administrator_title.py:67:17
   |
65 |             raw.functions.channels.EditAdmin(
66 |                 channel=chat_id,
67 |                 user_id=user_id,
   |                 ^^^^^^^^^^^^^^^ Expected `InputUser`, found `int | str`
68 |                 admin_rights=admin_rights,
69 |                 rank=title,
   |
info: Method defined here
  --> pyrogram/raw/functions/channels/edit_admin.py:45:9
   |
43 |     QUALNAME = "functions.channels.EditAdmin"
44 |
45 |     def __init__(self, *, channel: "raw.base.InputChannel", user_id: "raw.base.InputUser", admin_rights: "raw.base.ChatAdminRights", r…
   |         ^^^^^^^^                                            ----------------------------- Parameter declared here
46 |         self.channel = channel  # InputChannel
47 |         self.user_id = user_id  # InputUser
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `permissions` is not defined on `ChatPreview` in union `Chat | ChatPreview`
  --> pyrogram/methods/chats/set_chat_permissions.py:81:31
   |
79 |                 send_inline = True
80 |         else:
81 |             old_permissions = (await self.get_chat(chat_id)).permissions
   |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
82 |             send_messages = None
83 |             send_media = None
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_add_web_page_previews` is not defined on `None` in union `Unknown | ChatPermissions | None`
  --> pyrogram/methods/chats/set_chat_permissions.py:87:26
   |
85 |                 not permissions.can_add_web_page_previews
86 |                 if permissions.can_add_web_page_previews is not None
87 |                 else not old_permissions.can_add_web_page_previews
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
88 |             )
89 |             send_polls = (
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_send_polls` is not defined on `None` in union `Unknown | ChatPermissions | None`
  --> pyrogram/methods/chats/set_chat_permissions.py:92:26
   |
90 |                 not permissions.can_send_polls
91 |                 if permissions.can_send_polls is not None
92 |                 else not old_permissions.can_send_polls
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
93 |             )
94 |             change_info = (
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_change_info` is not defined on `None` in union `Unknown | ChatPermissions | None`
  --> pyrogram/methods/chats/set_chat_permissions.py:97:26
   |
95 |                 not permissions.can_change_info
96 |                 if permissions.can_change_info is not None
97 |                 else not old_permissions.can_change_info
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
98 |             )
99 |             invite_users = (
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_invite_users` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/set_chat_permissions.py:102:26
    |
100 |                 not permissions.can_invite_users
101 |                 if permissions.can_invite_users is not None
102 |                 else not old_permissions.can_invite_users
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
103 |             )
104 |             pin_messages = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_pin_messages` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/set_chat_permissions.py:107:26
    |
105 |                 not permissions.can_pin_messages
106 |                 if permissions.can_pin_messages is not None
107 |                 else not old_permissions.can_pin_messages
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
108 |             )
109 |             manage_topics = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_manage_topics` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/set_chat_permissions.py:112:26
    |
110 |                 not permissions.can_manage_topics
111 |                 if permissions.can_manage_topics is not None
112 |                 else not old_permissions.can_manage_topics
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
113 |             )
114 |             send_audios = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_send_audios` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/set_chat_permissions.py:117:26
    |
115 |                 not permissions.can_send_audios
116 |                 if permissions.can_send_audios is not None
117 |                 else not old_permissions.can_send_audios
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
118 |             )
119 |             send_docs = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_send_docs` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/set_chat_permissions.py:122:26
    |
120 |                 not permissions.can_send_docs
121 |                 if permissions.can_send_docs is not None
122 |                 else not old_permissions.can_send_docs
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
123 |             )
124 |             send_games = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_send_games` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/set_chat_permissions.py:127:26
    |
125 |                 not permissions.can_send_games
126 |                 if permissions.can_send_games is not None
127 |                 else not old_permissions.can_send_games
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
128 |             )
129 |             send_gifs = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_send_gifs` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/set_chat_permissions.py:132:26
    |
130 |                 not permissions.can_send_gifs
131 |                 if permissions.can_send_gifs is not None
132 |                 else not old_permissions.can_send_gifs
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
133 |             )
134 |             send_inline = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_send_inline` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/set_chat_permissions.py:137:26
    |
135 |                 not permissions.can_send_inline
136 |                 if permissions.can_send_inline is not None
137 |                 else not old_permissions.can_send_inline
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
138 |             )
139 |             send_photos = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_send_photos` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/set_chat_permissions.py:142:26
    |
140 |                 not permissions.can_send_photos
141 |                 if permissions.can_send_photos is not None
142 |                 else not old_permissions.can_send_photos
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
143 |             )
144 |             send_plain = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_send_plain` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/set_chat_permissions.py:147:26
    |
145 |                 not permissions.can_send_plain
146 |                 if permissions.can_send_plain is not None
147 |                 else not old_permissions.can_send_plain
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
148 |             )
149 |             send_roundvideos = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_send_roundvideos` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/set_chat_permissions.py:152:26
    |
150 |                 not permissions.can_send_roundvideos
151 |                 if permissions.can_send_roundvideos is not None
152 |                 else not old_permissions.can_send_roundvideos
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
153 |             )
154 |             send_stickers = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_send_stickers` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/set_chat_permissions.py:157:26
    |
155 |                 not permissions.can_send_stickers
156 |                 if permissions.can_send_stickers is not None
157 |                 else not old_permissions.can_send_stickers
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
158 |             )
159 |             send_videos = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_send_videos` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/set_chat_permissions.py:162:26
    |
160 |                 not permissions.can_send_videos
161 |                 if permissions.can_send_videos is not None
162 |                 else not old_permissions.can_send_videos
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
163 |             )
164 |             send_voices = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_send_voices` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/set_chat_permissions.py:167:26
    |
165 |                 not permissions.can_send_voices
166 |                 if permissions.can_send_voices is not None
167 |                 else not old_permissions.can_send_voices
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
168 |             )
169 |             if permissions.can_send_messages is not None:
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_send_media_messages` is not defined on `None` in union `Unknown | ChatPermissions | None`
   --> pyrogram/methods/chats/set_chat_permissions.py:173:25
    |
171 |                 if permissions.can_send_media_messages is None:
172 |                     permissions.can_send_media_messages = (
173 |                         old_permissions.can_send_media_messages
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
174 |                     )
175 |             if permissions.can_send_media_messages is not None:
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/chats/set_chat_permissions.py:205:17
    |
203 |         r = await self.invoke(
204 |             raw.functions.messages.EditChatDefaultBannedRights(
205 |                 peer=await self.resolve_peer(chat_id),
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
206 |                 banned_rights=raw.types.ChatBannedRights(
207 |                     until_date=0,
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/edit_chat_default_banned_rights.py:39:9
   |
37 |     QUALNAME = "functions.messages.EditChatDefaultBannedRights"
38 |
39 |     def __init__(self, *, peer: "raw.base.InputPeer", banned_rights: "raw.base.ChatBannedRights") -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
40 |         self.peer = peer  # InputPeer
41 |         self.banned_rights = banned_rights  # ChatBannedRights
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `InputChatUploadedPhoto` is not assignable to `str | BinaryIO | None`
  --> pyrogram/methods/chats/set_chat_photo.py:74:17
   |
72 |           if isinstance(photo, str):
73 |               if await AsyncPath(photo).is_file():
74 |                   photo = raw.types.InputChatUploadedPhoto(
   |  _________________-----___^
   | |                 |
   | |                 Declared type `str | BinaryIO | None`
75 | |                     file=await self.save_file(photo),
76 | |                     video=await self.save_file(video),
77 | |                     video_start_ts=video_start_ts,
78 | |                 )
   | |_________________^ Incompatible value of type `InputChatUploadedPhoto`
79 |               else:
80 |                   photo = utils.get_input_media_from_file_id(photo, FileType.PHOTO)
   |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
  --> pyrogram/methods/chats/set_chat_photo.py:76:48
   |
74 |                 photo = raw.types.InputChatUploadedPhoto(
75 |                     file=await self.save_file(photo),
76 |                     video=await self.save_file(video),
   |                                                ^^^^^ Expected `str | BinaryIO`, found `str | BinaryIO | None`
77 |                     video_start_ts=video_start_ts,
78 |                 )
   |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `InputChatPhoto` is not assignable to `str | BinaryIO | None`
  --> pyrogram/methods/chats/set_chat_photo.py:81:17
   |
79 |             else:
80 |                 photo = utils.get_input_media_from_file_id(photo, FileType.PHOTO)
81 |                 photo = raw.types.InputChatPhoto(id=photo.id)
   |                 -----   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `InputChatPhoto`
   |                 |
   |                 Declared type `str | BinaryIO | None`
82 |         else:
83 |             photo = raw.types.InputChatUploadedPhoto(
   |
info: rule `invalid-assignment` is enabled by default

error[invalid-assignment]: Object of type `InputChatUploadedPhoto` is not assignable to `str | BinaryIO | None`
  --> pyrogram/methods/chats/set_chat_photo.py:83:13
   |
81 |                   photo = raw.types.InputChatPhoto(id=photo.id)
82 |           else:
83 |               photo = raw.types.InputChatUploadedPhoto(
   |  _____________-----___^
   | |             |
   | |             Declared type `str | BinaryIO | None`
84 | |                 file=await self.save_file(photo),
85 | |                 video=await self.save_file(video),
86 | |                 video_start_ts=video_start_ts,
87 | |             )
   | |_____________^ Incompatible value of type `InputChatUploadedPhoto`
88 |
89 |           if isinstance(peer, raw.types.InputPeerChat):
   |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
  --> pyrogram/methods/chats/set_chat_photo.py:84:43
   |
82 |         else:
83 |             photo = raw.types.InputChatUploadedPhoto(
84 |                 file=await self.save_file(photo),
   |                                           ^^^^^ Expected `str | BinaryIO`, found `(BinaryIO & ~str) | None`
85 |                 video=await self.save_file(video),
86 |                 video_start_ts=video_start_ts,
   |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
  --> pyrogram/methods/chats/set_chat_photo.py:85:44
   |
83 |             photo = raw.types.InputChatUploadedPhoto(
84 |                 file=await self.save_file(photo),
85 |                 video=await self.save_file(video),
   |                                            ^^^^^ Expected `str | BinaryIO`, found `str | BinaryIO | None`
86 |                 video_start_ts=video_start_ts,
87 |             )
   |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/set_chat_photo.py:93:21
   |
91 |                 raw.functions.messages.EditChatPhoto(
92 |                     chat_id=peer.chat_id,
93 |                     photo=photo,
   |                     ^^^^^^^^^^^ Expected `InputChatPhoto`, found `str | BinaryIO | None`
94 |                 ),
95 |             )
   |
info: Method defined here
  --> pyrogram/raw/functions/messages/edit_chat_photo.py:39:9
   |
37 |     QUALNAME = "functions.messages.EditChatPhoto"
38 |
39 |     def __init__(self, *, chat_id: int, photo: "raw.base.InputChatPhoto") -> None:
   |         ^^^^^^^^                        -------------------------------- Parameter declared here
40 |         self.chat_id = chat_id  # long
41 |         self.photo = photo  # InputChatPhoto
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/chats/set_chat_photo.py:98:50
    |
 96 |         elif isinstance(peer, raw.types.InputPeerChannel):
 97 |             await self.invoke(
 98 |                 raw.functions.channels.EditPhoto(channel=peer, photo=photo),
    |                                                  ^^^^^^^^^^^^ Expected `InputChannel`, found `InputPeerChannel & ~InputPeerChat`
 99 |             )
100 |         else:
    |
info: Method defined here
  --> pyrogram/raw/functions/channels/edit_photo.py:39:9
   |
37 |     QUALNAME = "functions.channels.EditPhoto"
38 |
39 |     def __init__(self, *, channel: "raw.base.InputChannel", photo: "raw.base.InputChatPhoto") -> None:
   |         ^^^^^^^^          -------------------------------- Parameter declared here
40 |         self.channel = channel  # InputChannel
41 |         self.photo = photo  # InputChatPhoto
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/chats/set_chat_photo.py:98:64
    |
 96 |         elif isinstance(peer, raw.types.InputPeerChannel):
 97 |             await self.invoke(
 98 |                 raw.functions.channels.EditPhoto(channel=peer, photo=photo),
    |                                                                ^^^^^^^^^^^ Expected `InputChatPhoto`, found `str | BinaryIO | None`
 99 |             )
100 |         else:
    |
info: Method defined here
  --> pyrogram/raw/functions/channels/edit_photo.py:39:9
   |
37 |     QUALNAME = "functions.channels.EditPhoto"
38 |
39 |     def __init__(self, *, channel: "raw.base.InputChannel", photo: "raw.base.InputChatPhoto") -> None:
   |         ^^^^^^^^                                            -------------------------------- Parameter declared here
40 |         self.channel = channel  # InputChannel
41 |         self.photo = photo  # InputChatPhoto
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/set_chat_protected_content.py:31:17
   |
29 |         await self.invoke(
30 |             raw.functions.messages.ToggleNoForwards(
31 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
32 |                 enabled=enabled,
33 |             ),
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/toggle_no_forwards.py:39:9
   |
37 |     QUALNAME = "functions.messages.ToggleNoForwards"
38 |
39 |     def __init__(self, *, peer: "raw.base.InputPeer", enabled: bool) -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
40 |         self.peer = peer  # InputPeer
41 |         self.enabled = enabled  # Bool
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/set_chat_title.py:53:50
   |
51 |         elif isinstance(peer, raw.types.InputPeerChannel):
52 |             await self.invoke(
53 |                 raw.functions.channels.EditTitle(channel=peer, title=title),
   |                                                  ^^^^^^^^^^^^ Expected `InputChannel`, found `InputPeerChannel & ~InputPeerChat`
54 |             )
55 |         else:
   |
info: Method defined here
  --> pyrogram/raw/functions/channels/edit_title.py:39:9
   |
37 |     QUALNAME = "functions.channels.EditTitle"
38 |
39 |     def __init__(self, *, channel: "raw.base.InputChannel", title: str) -> None:
   |         ^^^^^^^^          -------------------------------- Parameter declared here
40 |         self.channel = channel  # InputChannel
41 |         self.title = title  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/set_chat_username.py:45:25
   |
43 |                 await self.invoke(
44 |                     raw.functions.channels.UpdateUsername(
45 |                         channel=peer,
   |                         ^^^^^^^^^^^^ Expected `InputChannel`, found `InputPeerChannel`
46 |                         username=username or "",
47 |                     ),
   |
info: Method defined here
  --> pyrogram/raw/functions/channels/update_username.py:39:9
   |
37 |     QUALNAME = "functions.channels.UpdateUsername"
38 |
39 |     def __init__(self, *, channel: "raw.base.InputChannel", username: str) -> None:
   |         ^^^^^^^^          -------------------------------- Parameter declared here
40 |         self.channel = channel  # InputChannel
41 |         self.username = username  # string
   |
info: Union variant `bound method UpdateUsername.__init__(*, channel: InputChannel, username: str) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method UpdateUsername.__init__(*, channel: InputChannel, username: str) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/set_send_as_chat.py:38:17
   |
36 |         return await self.invoke(
37 |             raw.functions.messages.SaveDefaultSendAs(
38 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
39 |                 send_as=await self.resolve_peer(send_as_chat_id),
40 |             ),
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/save_default_send_as.py:39:9
   |
37 |     QUALNAME = "functions.messages.SaveDefaultSendAs"
38 |
39 |     def __init__(self, *, peer: "raw.base.InputPeer", send_as: "raw.base.InputPeer") -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
40 |         self.peer = peer  # InputPeer
41 |         self.send_as = send_as  # InputPeer
   |
info: Union variant `bound method SaveDefaultSendAs.__init__(*, peer: InputPeer, send_as: InputPeer) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method SaveDefaultSendAs.__init__(*, peer: InputPeer, send_as: InputPeer) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/set_send_as_chat.py:39:17
   |
37 |             raw.functions.messages.SaveDefaultSendAs(
38 |                 peer=await self.resolve_peer(chat_id),
39 |                 send_as=await self.resolve_peer(send_as_chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
40 |             ),
41 |         )
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/save_default_send_as.py:39:9
   |
37 |     QUALNAME = "functions.messages.SaveDefaultSendAs"
38 |
39 |     def __init__(self, *, peer: "raw.base.InputPeer", send_as: "raw.base.InputPeer") -> None:
   |         ^^^^^^^^                                      ----------------------------- Parameter declared here
40 |         self.peer = peer  # InputPeer
41 |         self.send_as = send_as  # InputPeer
   |
info: Union variant `bound method SaveDefaultSendAs.__init__(*, peer: InputPeer, send_as: InputPeer) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method SaveDefaultSendAs.__init__(*, peer: InputPeer, send_as: InputPeer) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/set_slow_mode.py:41:17
   |
39 |         await self.invoke(
40 |             raw.functions.channels.ToggleSlowMode(
41 |                 channel=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputChannel`, found `InputPeer | InputUser | InputChannel`
42 |                 seconds=seconds or 0,
43 |             ),
   |
info: Union elements `InputPeer` and `InputUser` are not assignable to `InputChannel`
info: Method defined here
  --> pyrogram/raw/functions/channels/toggle_slow_mode.py:39:9
   |
37 |     QUALNAME = "functions.channels.ToggleSlowMode"
38 |
39 |     def __init__(self, *, channel: "raw.base.InputChannel", seconds: int) -> None:
   |         ^^^^^^^^          -------------------------------- Parameter declared here
40 |         self.channel = channel  # InputChannel
41 |         self.seconds = seconds  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/unarchive_chats.py:40:17
   |
38 |         folder_peers = [
39 |             raw.types.InputFolderPeer(
40 |                 peer=await self.resolve_peer(chat),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
41 |                 folder_id=0,
42 |             )
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/types/input_folder_peer.py:38:9
   |
36 |     QUALNAME = "types.InputFolderPeer"
37 |
38 |     def __init__(self, *, peer: "raw.base.InputPeer", folder_id: int) -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
39 |         self.peer = peer  # InputPeer
40 |         self.folder_id = folder_id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/unban_chat_member.py:39:17
   |
37 |         await self.invoke(
38 |             raw.functions.channels.EditBanned(
39 |                 channel=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputChannel`, found `InputPeer | InputUser | InputChannel`
40 |                 participant=await self.resolve_peer(user_id),
41 |                 banned_rights=raw.types.ChatBannedRights(until_date=0),
   |
info: Union elements `InputPeer` and `InputUser` are not assignable to `InputChannel`
info: Method defined here
  --> pyrogram/raw/functions/channels/edit_banned.py:42:9
   |
40 |     QUALNAME = "functions.channels.EditBanned"
41 |
42 |     def __init__(self, *, channel: "raw.base.InputChannel", participant: "raw.base.InputPeer", banned_rights: "raw.base.ChatBannedRigh…
   |         ^^^^^^^^          -------------------------------- Parameter declared here
43 |         self.channel = channel  # InputChannel
44 |         self.participant = participant  # InputPeer
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/unban_chat_member.py:40:17
   |
38 |             raw.functions.channels.EditBanned(
39 |                 channel=await self.resolve_peer(chat_id),
40 |                 participant=await self.resolve_peer(user_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
41 |                 banned_rights=raw.types.ChatBannedRights(until_date=0),
42 |             ),
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/channels/edit_banned.py:42:9
   |
40 |     QUALNAME = "functions.channels.EditBanned"
41 |
42 |     def __init__(self, *, channel: "raw.base.InputChannel", participant: "raw.base.InputPeer", banned_rights: "raw.base.ChatBannedRigh…
   |         ^^^^^^^^                                            --------------------------------- Parameter declared here
43 |         self.channel = channel  # InputChannel
44 |         self.participant = participant  # InputPeer
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Module `pyrogram.raw.functions.channels` has no member `EditForumTopic`
  --> pyrogram/methods/chats/unhide_general_topic.py:30:13
   |
28 |         """
29 |         await self.invoke(
30 |             raw.functions.channels.EditForumTopic(
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
31 |                 channel=await self.resolve_peer(chat_id),
32 |                 topic_id=1,
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/unpin_all_chat_messages.py:34:17
   |
32 |         await self.invoke(
33 |             raw.functions.messages.UnpinAllMessages(
34 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
35 |             ),
36 |         )
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/unpin_all_messages.py:42:9
   |
40 |     QUALNAME = "functions.messages.UnpinAllMessages"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", top_msg_id: Optional[int] = None, saved_peer_id: "raw.base.InputPeer" = None) ->…
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.top_msg_id = top_msg_id  # flags.0?int
   |
info: Union variant `bound method UnpinAllMessages.__init__(*, peer: InputPeer, top_msg_id: int | None = None, saved_peer_id: InputPeer = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method UnpinAllMessages.__init__(*, peer: InputPeer, top_msg_id: int | None = None, saved_peer_id: InputPeer = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/unpin_chat_message.py:38:17
   |
36 |         await self.invoke(
37 |             raw.functions.messages.UpdatePinnedMessage(
38 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
39 |                 id=message_id,
40 |                 unpin=True,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/update_pinned_message.py:48:9
   |
46 |     QUALNAME = "functions.messages.UpdatePinnedMessage"
47 |
48 |     def __init__(self, *, peer: "raw.base.InputPeer", id: int, silent: Optional[bool] = None, unpin: Optional[bool] = None, pm_oneside…
   |         ^^^^^^^^          -------------------------- Parameter declared here
49 |         self.peer = peer  # InputPeer
50 |         self.id = id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[unknown-argument]: Argument `background_emoji_id` does not match any known parameter of bound method `__init__`
  --> pyrogram/methods/chats/update_color.py:45:21
   |
43 |                     for_profile=isinstance(color, enums.ProfileColor),
44 |                     color=color.value,
45 |                     background_emoji_id=background_emoji_id,
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
46 |                 ),
47 |             )
   |
info: Union variant `bound method UpdateColor.__init__(*, for_profile: bool | None = None, color: PeerColor = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method UpdateColor.__init__(*, for_profile: bool | None = None, color: PeerColor = None) -> None)`
info: rule `unknown-argument` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/chats/update_color.py:51:21
   |
49 |             r = await self.invoke(
50 |                 raw.functions.channels.UpdateColor(
51 |                     channel=peer,
   |                     ^^^^^^^^^^^^ Expected `InputChannel`, found `(InputPeer & ~InputPeerSelf) | (InputUser & ~InputPeerSelf) | (InputChannel & ~InputPeerSelf)`
52 |                     color=color.value,
53 |                     background_emoji_id=background_emoji_id,
   |
info: Union elements `InputPeer & ~InputPeerSelf` and `InputUser & ~InputPeerSelf` are not assignable to `InputChannel`
info: Method defined here
  --> pyrogram/raw/functions/channels/update_color.py:45:9
   |
43 |     QUALNAME = "functions.channels.UpdateColor"
44 |
45 |     def __init__(self, *, channel: "raw.base.InputChannel", for_profile: Optional[bool] = None, color: Optional[int] = None, backgroun…
   |         ^^^^^^^^          -------------------------------- Parameter declared here
46 |         self.channel = channel  # InputChannel
47 |         self.for_profile = for_profile  # flags.1?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/chats/update_folder.py:102:21
    |
100 |                 filter=raw.types.DialogFilter(
101 |                     id=folder_id,
102 |                     title=title,
    |                     ^^^^^^^^^^^ Expected `TextWithEntities`, found `str`
103 |                     pinned_peers=[
104 |                         await self.resolve_peer(user_id) for user_id in pinned_chats
    |
info: Method defined here
  --> pyrogram/raw/types/dialog_filter.py:80:9
   |
78 |     QUALNAME = "types.DialogFilter"
79 |
80 |     def __init__(self, *, id: int, title: "raw.base.TextWithEntities", pinned_peers: List["raw.base.InputPeer"], include_peers: List["…
   |         ^^^^^^^^                   ---------------------------------- Parameter declared here
81 |         self.id = id  # int
82 |         self.title = title  # TextWithEntities
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/chats/update_folder.py:103:21
    |
101 |                       id=folder_id,
102 |                       title=title,
103 | /                     pinned_peers=[
104 | |                         await self.resolve_peer(user_id) for user_id in pinned_chats
105 | |                     ],
    | |_____________________^ Expected `list[InputPeer]`, found `list[InputPeer | InputUser | InputChannel]`
106 |                       include_peers=[
107 |                           await self.resolve_peer(user_id)
    |
info: Method defined here
  --> pyrogram/raw/types/dialog_filter.py:80:9
   |
78 |     QUALNAME = "types.DialogFilter"
79 |
80 |     def __init__(self, *, id: int, title: "raw.base.TextWithEntities", pinned_peers: List["raw.base.InputPeer"], include_peers: List["…
   |         ^^^^^^^^                                                       ---------------------------------------- Parameter declared here
81 |         self.id = id  # int
82 |         self.title = title  # TextWithEntities
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/chats/update_folder.py:106:21
    |
104 |                           await self.resolve_peer(user_id) for user_id in pinned_chats
105 |                       ],
106 | /                     include_peers=[
107 | |                         await self.resolve_peer(user_id)
108 | |                         for user_id in included_chats
109 | |                     ],
    | |_____________________^ Expected `list[InputPeer]`, found `list[InputPeer | InputUser | InputChannel]`
110 |                       exclude_peers=[
111 |                           await self.resolve_peer(user_id)
    |
info: Method defined here
  --> pyrogram/raw/types/dialog_filter.py:80:9
   |
78 | … QUALNAME = "types.DialogFilter"
79 | …
80 | … def __init__(self, *, id: int, title: "raw.base.TextWithEntities", pinned_peers: List["raw.base.InputPeer"], include_peers: List["raw.base.InputPeer"], exc…
   |       ^^^^^^^^                                                                                                 ----------------------------------------- Parameter declared here
81 | …     self.id = id  # int
82 | …     self.title = title  # TextWithEntities
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/chats/update_folder.py:110:21
    |
108 |                           for user_id in included_chats
109 |                       ],
110 | /                     exclude_peers=[
111 | |                         await self.resolve_peer(user_id)
112 | |                         for user_id in excluded_chats
113 | |                     ],
    | |_____________________^ Expected `list[InputPeer]`, found `list[InputPeer | InputUser | InputChannel]`
114 |                       contacts=contacts,
115 |                       non_contacts=non_contacts,
    |
info: Method defined here
  --> pyrogram/raw/types/dialog_filter.py:80:9
   |
78 | … QUALNAME = "types.DialogFilter"
79 | …
80 | … def __init__(self, *, id: int, title: "raw.base.TextWithEntities", pinned_peers: List["raw.base.InputPeer"], include_peers: List["raw.base.InputPeer"], exclude_peers: List["raw.base.InputPeer"], con…
   |       ^^^^^^^^                                                                                                                                            ----------------------------------------- Parameter declared here
81 | …     self.id = id  # int
82 | …     self.title = title  # TextWithEntities
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/contacts/add_contact.py:52:17
   |
50 |         r = await self.invoke(
51 |             raw.functions.contacts.AddContact(
52 |                 id=await self.resolve_peer(user_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputUser`, found `InputPeer | InputUser | InputChannel`
53 |                 first_name=first_name,
54 |                 last_name=last_name,
   |
info: Union elements `InputPeer` and `InputChannel` are not assignable to `InputUser`
info: Method defined here
  --> pyrogram/raw/functions/contacts/add_contact.py:51:9
   |
49 |     QUALNAME = "functions.contacts.AddContact"
50 |
51 |     def __init__(self, *, id: "raw.base.InputUser", first_name: str, last_name: str, phone: str, add_phone_privacy_exception: Optional…
   |         ^^^^^^^^          ------------------------ Parameter declared here
52 |         self.id = id  # InputUser
53 |         self.first_name = first_name  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `list[int | str | list[int | str]]` is not assignable to `int | str | list[int | str]`
  --> pyrogram/methods/contacts/delete_contacts.py:36:13
   |
35 |         if not is_list:
36 |             user_ids = [user_ids]
   |             --------   ^^^^^^^^^^ Incompatible value of type `list[int | str | list[int | str]]`
   |             |
   |             Declared type `int | str | list[int | str]`
37 |
38 |         r = await self.invoke(
   |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/contacts/delete_contacts.py:40:17
   |
38 |         r = await self.invoke(
39 |             raw.functions.contacts.DeleteContacts(
40 |                 id=[await self.resolve_peer(i) for i in user_ids],
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `list[InputUser]`, found `list[InputUser | InputPeer | InputChannel]`
41 |             ),
42 |         )
   |
info: Method defined here
  --> pyrogram/raw/functions/contacts/delete_contacts.py:36:9
   |
34 |     QUALNAME = "functions.contacts.DeleteContacts"
35 |
36 |     def __init__(self, *, id: List["raw.base.InputUser"]) -> None:
   |         ^^^^^^^^          ------------------------------ Parameter declared here
37 |         self.id = id  # Vector<InputUser>
   |
info: rule `invalid-argument-type` is enabled by default

error[not-iterable]: Object of type `int | str | list[int | str]` may not be iterable
  --> pyrogram/methods/contacts/delete_contacts.py:40:57
   |
38 |         r = await self.invoke(
39 |             raw.functions.contacts.DeleteContacts(
40 |                 id=[await self.resolve_peer(i) for i in user_ids],
   |                                                         ^^^^^^^^
41 |             ),
42 |         )
   |
info: It may not have an `__iter__` method or a `__getitem__` method
info: rule `not-iterable` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/contacts/import_contacts.py:34:51
   |
32 |         """
33 |         return await self.invoke(
34 |             raw.functions.contacts.ImportContacts(contacts=contacts),
   |                                                   ^^^^^^^^^^^^^^^^^ Expected `list[InputContact]`, found `list[InputPhoneContact]`
35 |         )
   |
info: Method defined here
  --> pyrogram/raw/functions/contacts/import_contacts.py:36:9
   |
34 |     QUALNAME = "functions.contacts.ImportContacts"
35 |
36 |     def __init__(self, *, contacts: List["raw.base.InputContact"]) -> None:
   |         ^^^^^^^^          --------------------------------------- Parameter declared here
37 |         self.contacts = contacts  # Vector<InputContact>
   |
info: Union variant `bound method ImportContacts.__init__(*, contacts: list[InputContact]) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method ImportContacts.__init__(*, contacts: list[InputContact]) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `list[Unknown]` is not assignable to attribute `handlers` on type `((...) -> Unknown) & ~<Protocol with members 'handlers'>`
  --> pyrogram/methods/decorators/on_bot_business_connect.py:36:21
   |
34 |             elif isinstance(self, Filter) or self is None:
35 |                 if not hasattr(func, "handlers"):
36 |                     func.handlers = []
   |                     ^^^^^^^^^^^^^
37 |
38 |                 func.handlers.append(
   |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Object of type `(...) -> Unknown` has no attribute `handlers`
  --> pyrogram/methods/decorators/on_bot_business_connect.py:38:17
   |
36 |                     func.handlers = []
37 |
38 |                 func.handlers.append(
   |                 ^^^^^^^^^^^^^
39 |                     (
40 |                         pyrogram.handlers.BotBusinessConnectHandler(func, self),
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-assignment]: Object of type `list[Unknown]` is not assignable to attribute `handlers` on type `((...) -> Unknown) & ~<Protocol with members 'handlers'>`
  --> pyrogram/methods/decorators/on_bot_business_message.py:36:21
   |
34 |             elif isinstance(self, Filter) or self is None:
35 |                 if not hasattr(func, "handlers"):
36 |                     func.handlers = []
   |                     ^^^^^^^^^^^^^
37 |
38 |                 func.handlers.append(
   |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Object of type `(...) -> Unknown` has no attribute `handlers`
  --> pyrogram/methods/decorators/on_bot_business_message.py:38:17
   |
36 |                     func.handlers = []
37 |
38 |                 func.handlers.append(
   |                 ^^^^^^^^^^^^^
39 |                     (
40 |                         pyrogram.handlers.BotBusinessMessageHandler(func, self),
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-assignment]: Object of type `list[Unknown]` is not assignable to attribute `handlers` on type `((...) -> Unknown) & ~<Protocol with members 'handlers'>`
  --> pyrogram/methods/decorators/on_callback_query.py:36:21
   |
34 |             elif isinstance(self, Filter) or self is None:
35 |                 if not hasattr(func, "handlers"):
36 |                     func.handlers = []
   |                     ^^^^^^^^^^^^^
37 |
38 |                 func.handlers.append(
   |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Object of type `(...) -> Unknown` has no attribute `handlers`
  --> pyrogram/methods/decorators/on_callback_query.py:38:17
   |
36 |                     func.handlers = []
37 |
38 |                 func.handlers.append(
   |                 ^^^^^^^^^^^^^
39 |                     (
40 |                         pyrogram.handlers.CallbackQueryHandler(func, self),
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-assignment]: Object of type `list[Unknown]` is not assignable to attribute `handlers` on type `((...) -> Unknown) & ~<Protocol with members 'handlers'>`
  --> pyrogram/methods/decorators/on_chat_join_request.py:35:21
   |
33 |             elif isinstance(self, Filter) or self is None:
34 |                 if not hasattr(func, "handlers"):
35 |                     func.handlers = []
   |                     ^^^^^^^^^^^^^
36 |
37 |                 func.handlers.append(
   |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Object of type `(...) -> Unknown` has no attribute `handlers`
  --> pyrogram/methods/decorators/on_chat_join_request.py:37:17
   |
35 |                     func.handlers = []
36 |
37 |                 func.handlers.append(
   |                 ^^^^^^^^^^^^^
38 |                     (
39 |                         pyrogram.handlers.ChatJoinRequestHandler(func, self),
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-assignment]: Object of type `list[Unknown]` is not assignable to attribute `handlers` on type `((...) -> Unknown) & ~<Protocol with members 'handlers'>`
  --> pyrogram/methods/decorators/on_chat_member_updated.py:35:21
   |
33 |             elif isinstance(self, Filter) or self is None:
34 |                 if not hasattr(func, "handlers"):
35 |                     func.handlers = []
   |                     ^^^^^^^^^^^^^
36 |
37 |                 func.handlers.append(
   |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Object of type `(...) -> Unknown` has no attribute `handlers`
  --> pyrogram/methods/decorators/on_chat_member_updated.py:37:17
   |
35 |                     func.handlers = []
36 |
37 |                 func.handlers.append(
   |                 ^^^^^^^^^^^^^
38 |                     (
39 |                         pyrogram.handlers.ChatMemberUpdatedHandler(func, self),
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-assignment]: Object of type `list[Unknown]` is not assignable to attribute `handlers` on type `((...) -> Unknown) & ~<Protocol with members 'handlers'>`
  --> pyrogram/methods/decorators/on_chosen_inline_result.py:36:21
   |
34 |             elif isinstance(self, Filter) or self is None:
35 |                 if not hasattr(func, "handlers"):
36 |                     func.handlers = []
   |                     ^^^^^^^^^^^^^
37 |
38 |                 func.handlers.append(
   |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Object of type `(...) -> Unknown` has no attribute `handlers`
  --> pyrogram/methods/decorators/on_chosen_inline_result.py:38:17
   |
36 |                     func.handlers = []
37 |
38 |                 func.handlers.append(
   |                 ^^^^^^^^^^^^^
39 |                     (
40 |                         pyrogram.handlers.ChosenInlineResultHandler(func, self),
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-assignment]: Object of type `list[Unknown]` is not assignable to attribute `handlers` on type `((...) -> Unknown) & ~<Protocol with members 'handlers'>`
  --> pyrogram/methods/decorators/on_deleted_bot_business_messages.py:43:21
   |
41 |             elif isinstance(self, Filter) or self is None:
42 |                 if not hasattr(func, "handlers"):
43 |                     func.handlers = []
   |                     ^^^^^^^^^^^^^
44 |
45 |                 func.handlers.append(
   |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Object of type `(...) -> Unknown` has no attribute `handlers`
  --> pyrogram/methods/decorators/on_deleted_bot_business_messages.py:45:17
   |
43 |                     func.handlers = []
44 |
45 |                 func.handlers.append(
   |                 ^^^^^^^^^^^^^
46 |                     (
47 |                         pyrogram.handlers.DeletedBotBusinessMessagesHandler(
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-assignment]: Object of type `list[Unknown]` is not assignable to attribute `handlers` on type `((...) -> Unknown) & ~<Protocol with members 'handlers'>`
  --> pyrogram/methods/decorators/on_deleted_messages.py:36:21
   |
34 |             elif isinstance(self, Filter) or self is None:
35 |                 if not hasattr(func, "handlers"):
36 |                     func.handlers = []
   |                     ^^^^^^^^^^^^^
37 |
38 |                 func.handlers.append(
   |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Object of type `(...) -> Unknown` has no attribute `handlers`
  --> pyrogram/methods/decorators/on_deleted_messages.py:38:17
   |
36 |                     func.handlers = []
37 |
38 |                 func.handlers.append(
   |                 ^^^^^^^^^^^^^
39 |                     (
40 |                         pyrogram.handlers.DeletedMessagesHandler(func, self),
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-assignment]: Object of type `list[Unknown]` is not assignable to attribute `handlers` on type `((...) -> Unknown) & ~<Protocol with members 'handlers'>`
  --> pyrogram/methods/decorators/on_disconnect.py:24:21
   |
22 |             else:
23 |                 if not hasattr(func, "handlers"):
24 |                     func.handlers = []
   |                     ^^^^^^^^^^^^^
25 |
26 |                 func.handlers.append((pyrogram.handlers.DisconnectHandler(func), 0))
   |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Object of type `(...) -> Unknown` has no attribute `handlers`
  --> pyrogram/methods/decorators/on_disconnect.py:26:17
   |
24 |                     func.handlers = []
25 |
26 |                 func.handlers.append((pyrogram.handlers.DisconnectHandler(func), 0))
   |                 ^^^^^^^^^^^^^
27 |
28 |             return func
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-assignment]: Object of type `list[Unknown]` is not assignable to attribute `handlers` on type `((...) -> Unknown) & ~<Protocol with members 'handlers'>`
  --> pyrogram/methods/decorators/on_edited_bot_business_message.py:40:21
   |
38 |             elif isinstance(self, Filter) or self is None:
39 |                 if not hasattr(func, "handlers"):
40 |                     func.handlers = []
   |                     ^^^^^^^^^^^^^
41 |
42 |                 func.handlers.append(
   |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Object of type `(...) -> Unknown` has no attribute `handlers`
  --> pyrogram/methods/decorators/on_edited_bot_business_message.py:42:17
   |
40 |                     func.handlers = []
41 |
42 |                 func.handlers.append(
   |                 ^^^^^^^^^^^^^
43 |                     (
44 |                         pyrogram.handlers.EditedBotBusinessMessageHandler(
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-assignment]: Object of type `list[Unknown]` is not assignable to attribute `handlers` on type `((...) -> Unknown) & ~<Protocol with members 'handlers'>`
  --> pyrogram/methods/decorators/on_edited_message.py:36:21
   |
34 |             elif isinstance(self, Filter) or self is None:
35 |                 if not hasattr(func, "handlers"):
36 |                     func.handlers = []
   |                     ^^^^^^^^^^^^^
37 |
38 |                 func.handlers.append(
   |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Object of type `(...) -> Unknown` has no attribute `handlers`
  --> pyrogram/methods/decorators/on_edited_message.py:38:17
   |
36 |                     func.handlers = []
37 |
38 |                 func.handlers.append(
   |                 ^^^^^^^^^^^^^
39 |                     (
40 |                         pyrogram.handlers.EditedMessageHandler(func, self),
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-assignment]: Object of type `list[Unknown]` is not assignable to attribute `handlers` on type `((...) -> Unknown) & ~<Protocol with members 'handlers'>`
  --> pyrogram/methods/decorators/on_inline_query.py:36:21
   |
34 |             elif isinstance(self, Filter) or self is None:
35 |                 if not hasattr(func, "handlers"):
36 |                     func.handlers = []
   |                     ^^^^^^^^^^^^^
37 |
38 |                 func.handlers.append(
   |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Object of type `(...) -> Unknown` has no attribute `handlers`
  --> pyrogram/methods/decorators/on_inline_query.py:38:17
   |
36 |                     func.handlers = []
37 |
38 |                 func.handlers.append(
   |                 ^^^^^^^^^^^^^
39 |                     (
40 |                         pyrogram.handlers.InlineQueryHandler(func, self),
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-assignment]: Object of type `list[Unknown]` is not assignable to attribute `handlers` on type `((...) -> Unknown) & ~<Protocol with members 'handlers'>`
  --> pyrogram/methods/decorators/on_message.py:36:21
   |
34 |             elif isinstance(self, Filter) or self is None:
35 |                 if not hasattr(func, "handlers"):
36 |                     func.handlers = []
   |                     ^^^^^^^^^^^^^
37 |
38 |                 func.handlers.append(
   |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Object of type `(...) -> Unknown` has no attribute `handlers`
  --> pyrogram/methods/decorators/on_message.py:38:17
   |
36 |                     func.handlers = []
37 |
38 |                 func.handlers.append(
   |                 ^^^^^^^^^^^^^
39 |                     (
40 |                         pyrogram.handlers.MessageHandler(func, self),
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-assignment]: Object of type `list[Unknown]` is not assignable to attribute `handlers` on type `((...) -> Unknown) & ~<Protocol with members 'handlers'>`
  --> pyrogram/methods/decorators/on_message_reaction_count_updated.py:42:21
   |
40 |             elif isinstance(self, Filter) or self is None:
41 |                 if not hasattr(func, "handlers"):
42 |                     func.handlers = []
   |                     ^^^^^^^^^^^^^
43 |
44 |                 func.handlers.append(
   |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Object of type `(...) -> Unknown` has no attribute `handlers`
  --> pyrogram/methods/decorators/on_message_reaction_count_updated.py:44:17
   |
42 |                     func.handlers = []
43 |
44 |                 func.handlers.append(
   |                 ^^^^^^^^^^^^^
45 |                     (
46 |                         pyrogram.handlers.MessageReactionCountUpdatedHandler(
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-assignment]: Object of type `list[Unknown]` is not assignable to attribute `handlers` on type `((...) -> Unknown) & ~<Protocol with members 'handlers'>`
  --> pyrogram/methods/decorators/on_message_reaction_updated.py:39:21
   |
37 |             elif isinstance(self, Filter) or self is None:
38 |                 if not hasattr(func, "handlers"):
39 |                     func.handlers = []
   |                     ^^^^^^^^^^^^^
40 |
41 |                 func.handlers.append(
   |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Object of type `(...) -> Unknown` has no attribute `handlers`
  --> pyrogram/methods/decorators/on_message_reaction_updated.py:41:17
   |
39 |                     func.handlers = []
40 |
41 |                 func.handlers.append(
   |                 ^^^^^^^^^^^^^
42 |                     (
43 |                         pyrogram.handlers.MessageReactionUpdatedHandler(func, self),
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-assignment]: Object of type `list[Unknown]` is not assignable to attribute `handlers` on type `((...) -> Unknown) & ~<Protocol with members 'handlers'>`
  --> pyrogram/methods/decorators/on_poll.py:36:21
   |
34 |             elif isinstance(self, Filter) or self is None:
35 |                 if not hasattr(func, "handlers"):
36 |                     func.handlers = []
   |                     ^^^^^^^^^^^^^
37 |
38 |                 func.handlers.append(
   |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Object of type `(...) -> Unknown` has no attribute `handlers`
  --> pyrogram/methods/decorators/on_poll.py:38:17
   |
36 |                     func.handlers = []
37 |
38 |                 func.handlers.append(
   |                 ^^^^^^^^^^^^^
39 |                     (
40 |                         pyrogram.handlers.PollHandler(func, self),
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-assignment]: Object of type `list[Unknown]` is not assignable to attribute `handlers` on type `((...) -> Unknown) & ~<Protocol with members 'handlers'>`
  --> pyrogram/methods/decorators/on_pre_checkout_query.py:40:21
   |
38 |             elif isinstance(self, Filter) or self is None:
39 |                 if not hasattr(func, "handlers"):
40 |                     func.handlers = []
   |                     ^^^^^^^^^^^^^
41 |
42 |                 func.handlers.append(
   |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Object of type `(...) -> Unknown` has no attribute `handlers`
  --> pyrogram/methods/decorators/on_pre_checkout_query.py:42:17
   |
40 |                     func.handlers = []
41 |
42 |                 func.handlers.append(
   |                 ^^^^^^^^^^^^^
43 |                     (
44 |                         pyrogram.handlers.PreCheckoutQueryHandler(func, self),
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-assignment]: Object of type `list[Unknown]` is not assignable to attribute `handlers` on type `((...) -> Unknown) & ~<Protocol with members 'handlers'>`
  --> pyrogram/methods/decorators/on_raw_update.py:28:21
   |
26 |             else:
27 |                 if not hasattr(func, "handlers"):
28 |                     func.handlers = []
   |                     ^^^^^^^^^^^^^
29 |
30 |                 func.handlers.append(
   |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Object of type `(...) -> Unknown` has no attribute `handlers`
  --> pyrogram/methods/decorators/on_raw_update.py:30:17
   |
28 |                     func.handlers = []
29 |
30 |                 func.handlers.append(
   |                 ^^^^^^^^^^^^^
31 |                     (pyrogram.handlers.RawUpdateHandler(func), group),
32 |                 )
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-assignment]: Object of type `list[Unknown]` is not assignable to attribute `handlers` on type `((...) -> Unknown) & ~<Protocol with members 'handlers'>`
  --> pyrogram/methods/decorators/on_shipping_query.py:41:21
   |
39 |             elif isinstance(self, Filter) or self is None:
40 |                 if not hasattr(func, "handlers"):
41 |                     func.handlers = []
   |                     ^^^^^^^^^^^^^
42 |
43 |                 func.handlers.append(
   |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Object of type `(...) -> Unknown` has no attribute `handlers`
  --> pyrogram/methods/decorators/on_shipping_query.py:43:17
   |
41 |                     func.handlers = []
42 |
43 |                 func.handlers.append(
   |                 ^^^^^^^^^^^^^
44 |                     (
45 |                         pyrogram.handlers.ShippingQueryHandler(func, self),
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-assignment]: Object of type `list[Unknown]` is not assignable to attribute `handlers` on type `((...) -> Unknown) & ~<Protocol with members 'handlers'>`
  --> pyrogram/methods/decorators/on_story.py:36:21
   |
34 |             elif isinstance(self, Filter) or self is None:
35 |                 if not hasattr(func, "handlers"):
36 |                     func.handlers = []
   |                     ^^^^^^^^^^^^^
37 |
38 |                 func.handlers.append(
   |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Object of type `(...) -> Unknown` has no attribute `handlers`
  --> pyrogram/methods/decorators/on_story.py:38:17
   |
36 |                     func.handlers = []
37 |
38 |                 func.handlers.append(
   |                 ^^^^^^^^^^^^^
39 |                     (
40 |                         pyrogram.handlers.StoryHandler(func, self),
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-assignment]: Object of type `list[Unknown]` is not assignable to attribute `handlers` on type `((...) -> Unknown) & ~<Protocol with members 'handlers'>`
  --> pyrogram/methods/decorators/on_user_status.py:34:21
   |
32 |             elif isinstance(self, Filter) or self is None:
33 |                 if not hasattr(func, "handlers"):
34 |                     func.handlers = []
   |                     ^^^^^^^^^^^^^
35 |
36 |                 func.handlers.append(
   |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Object of type `(...) -> Unknown` has no attribute `handlers`
  --> pyrogram/methods/decorators/on_user_status.py:36:17
   |
34 |                     func.handlers = []
35 |
36 |                 func.handlers.append(
   |                 ^^^^^^^^^^^^^
37 |                     (
38 |                         pyrogram.handlers.UserStatusHandler(func, self),
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/invite_links/approve_all_chat_join_requests.py:32:17
   |
30 |         await self.invoke(
31 |             raw.functions.messages.HideAllChatJoinRequests(
32 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
33 |                 approved=True,
34 |                 link=invite_link,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/hide_all_chat_join_requests.py:42:9
   |
40 |     QUALNAME = "functions.messages.HideAllChatJoinRequests"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", approved: Optional[bool] = None, link: Optional[str] = None) -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.approved = approved  # flags.0?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/invite_links/approve_chat_join_request.py:35:17
   |
33 |         await self.invoke(
34 |             raw.functions.messages.HideChatJoinRequest(
35 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
36 |                 user_id=await self.resolve_peer(user_id),
37 |                 approved=True,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/hide_chat_join_request.py:42:9
   |
40 |     QUALNAME = "functions.messages.HideChatJoinRequest"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", user_id: "raw.base.InputUser", approved: Optional[bool] = None) -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.user_id = user_id  # InputUser
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/invite_links/approve_chat_join_request.py:36:17
   |
34 |             raw.functions.messages.HideChatJoinRequest(
35 |                 peer=await self.resolve_peer(chat_id),
36 |                 user_id=await self.resolve_peer(user_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputUser`, found `InputPeer | InputUser | InputChannel`
37 |                 approved=True,
38 |             ),
   |
info: Union elements `InputPeer` and `InputChannel` are not assignable to `InputUser`
info: Method defined here
  --> pyrogram/raw/functions/messages/hide_chat_join_request.py:42:9
   |
40 |     QUALNAME = "functions.messages.HideChatJoinRequest"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", user_id: "raw.base.InputUser", approved: Optional[bool] = None) -> None:
   |         ^^^^^^^^                                      ----------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.user_id = user_id  # InputUser
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/invite_links/create_chat_invite_link.py:65:17
   |
63 |         r = await self.invoke(
64 |             raw.functions.messages.ExportChatInvite(
65 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
66 |                 expire_date=utils.datetime_to_timestamp(expire_date),
67 |                 usage_limit=member_limit,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/export_chat_invite.py:54:9
   |
52 |     QUALNAME = "functions.messages.ExportChatInvite"
53 |
54 |     def __init__(self, *, peer: "raw.base.InputPeer", legacy_revoke_permanent: Optional[bool] = None, request_needed: Optional[bool] =…
   |         ^^^^^^^^          -------------------------- Parameter declared here
55 |         self.peer = peer  # InputPeer
56 |         self.legacy_revoke_permanent = legacy_revoke_permanent  # flags.2?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/invite_links/create_chat_invite_link.py:73:16
   |
71 |         )
72 |
73 |         return types.ChatInviteLink._parse(self, r)
   |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `ChatInviteLink`, found `ChatInviteLink | None`
   |
  ::: pyrogram/methods/invite_links/create_chat_invite_link.py:20:10
   |
18 |         member_limit: int | None = None,
19 |         creates_join_request: bool | None = None,
20 |     ) -> types.ChatInviteLink:
   |          -------------------- Expected `ChatInviteLink` because of return type
21 |         """Create an additional invite link for a chat.
   |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/invite_links/decline_all_chat_join_requests.py:32:17
   |
30 |         await self.invoke(
31 |             raw.functions.messages.HideAllChatJoinRequests(
32 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
33 |                 approved=False,
34 |                 link=invite_link,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/hide_all_chat_join_requests.py:42:9
   |
40 |     QUALNAME = "functions.messages.HideAllChatJoinRequests"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", approved: Optional[bool] = None, link: Optional[str] = None) -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.approved = approved  # flags.0?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/invite_links/decline_chat_join_request.py:35:17
   |
33 |         await self.invoke(
34 |             raw.functions.messages.HideChatJoinRequest(
35 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
36 |                 user_id=await self.resolve_peer(user_id),
37 |                 approved=False,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/hide_chat_join_request.py:42:9
   |
40 |     QUALNAME = "functions.messages.HideChatJoinRequest"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", user_id: "raw.base.InputUser", approved: Optional[bool] = None) -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.user_id = user_id  # InputUser
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/invite_links/decline_chat_join_request.py:36:17
   |
34 |             raw.functions.messages.HideChatJoinRequest(
35 |                 peer=await self.resolve_peer(chat_id),
36 |                 user_id=await self.resolve_peer(user_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputUser`, found `InputPeer | InputUser | InputChannel`
37 |                 approved=False,
38 |             ),
   |
info: Union elements `InputPeer` and `InputChannel` are not assignable to `InputUser`
info: Method defined here
  --> pyrogram/raw/functions/messages/hide_chat_join_request.py:42:9
   |
40 |     QUALNAME = "functions.messages.HideChatJoinRequest"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", user_id: "raw.base.InputUser", approved: Optional[bool] = None) -> None:
   |         ^^^^^^^^                                      ----------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.user_id = user_id  # InputUser
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/invite_links/delete_chat_admin_invite_links.py:35:17
   |
33 |         return await self.invoke(
34 |             raw.functions.messages.DeleteRevokedExportedChatInvites(
35 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
36 |                 admin_id=await self.resolve_peer(admin_id),
37 |             ),
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/delete_revoked_exported_chat_invites.py:39:9
   |
37 |     QUALNAME = "functions.messages.DeleteRevokedExportedChatInvites"
38 |
39 |     def __init__(self, *, peer: "raw.base.InputPeer", admin_id: "raw.base.InputUser") -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
40 |         self.peer = peer  # InputPeer
41 |         self.admin_id = admin_id  # InputUser
   |
info: Union variant `bound method DeleteRevokedExportedChatInvites.__init__(*, peer: InputPeer, admin_id: InputUser) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method DeleteRevokedExportedChatInvites.__init__(*, peer: InputPeer, admin_id: InputUser) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/invite_links/delete_chat_admin_invite_links.py:36:17
   |
34 |             raw.functions.messages.DeleteRevokedExportedChatInvites(
35 |                 peer=await self.resolve_peer(chat_id),
36 |                 admin_id=await self.resolve_peer(admin_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputUser`, found `InputPeer | InputUser | InputChannel`
37 |             ),
38 |         )
   |
info: Union elements `InputPeer` and `InputChannel` are not assignable to `InputUser`
info: Method defined here
  --> pyrogram/raw/functions/messages/delete_revoked_exported_chat_invites.py:39:9
   |
37 |     QUALNAME = "functions.messages.DeleteRevokedExportedChatInvites"
38 |
39 |     def __init__(self, *, peer: "raw.base.InputPeer", admin_id: "raw.base.InputUser") -> None:
   |         ^^^^^^^^                                      ------------------------------ Parameter declared here
40 |         self.peer = peer  # InputPeer
41 |         self.admin_id = admin_id  # InputUser
   |
info: Union variant `bound method DeleteRevokedExportedChatInvites.__init__(*, peer: InputPeer, admin_id: InputUser) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method DeleteRevokedExportedChatInvites.__init__(*, peer: InputPeer, admin_id: InputUser) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/invite_links/delete_chat_invite_link.py:32:17
   |
30 |         return await self.invoke(
31 |             raw.functions.messages.DeleteExportedChatInvite(
32 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
33 |                 link=invite_link,
34 |             ),
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/delete_exported_chat_invite.py:39:9
   |
37 |     QUALNAME = "functions.messages.DeleteExportedChatInvite"
38 |
39 |     def __init__(self, *, peer: "raw.base.InputPeer", link: str) -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
40 |         self.peer = peer  # InputPeer
41 |         self.link = link  # string
   |
info: Union variant `bound method DeleteExportedChatInvite.__init__(*, peer: InputPeer, link: str) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method DeleteExportedChatInvite.__init__(*, peer: InputPeer, link: str) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/invite_links/edit_chat_invite_link.py:67:17
   |
65 |         r = await self.invoke(
66 |             raw.functions.messages.EditExportedChatInvite(
67 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
68 |                 link=invite_link,
69 |                 expire_date=utils.datetime_to_timestamp(expire_date),
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/edit_exported_chat_invite.py:54:9
   |
52 |     QUALNAME = "functions.messages.EditExportedChatInvite"
53 |
54 |     def __init__(self, *, peer: "raw.base.InputPeer", link: str, revoked: Optional[bool] = None, expire_date: Optional[int] = None, us…
   |         ^^^^^^^^          -------------------------- Parameter declared here
55 |         self.peer = peer  # InputPeer
56 |         self.link = link  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/invite_links/edit_chat_invite_link.py:78:16
   |
76 |         users = {i.id: i for i in r.users}
77 |
78 |         return types.ChatInviteLink._parse(self, r.invite, users)
   |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `ChatInviteLink`, found `ChatInviteLink | None`
   |
  ::: pyrogram/methods/invite_links/edit_chat_invite_link.py:21:10
   |
19 |         member_limit: int | None = None,
20 |         creates_join_request: bool | None = None,
21 |     ) -> types.ChatInviteLink:
   |          -------------------- Expected `ChatInviteLink` because of return type
22 |         """Edit a non-primary invite link.
   |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/invite_links/export_chat_invite_link.py:51:17
   |
49 |         r = await self.invoke(
50 |             raw.functions.messages.ExportChatInvite(
51 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
52 |                 legacy_revoke_permanent=True,
53 |                 subscription_pricing=raw.types.StarsSubscriptionPricing(
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/export_chat_invite.py:54:9
   |
52 |     QUALNAME = "functions.messages.ExportChatInvite"
53 |
54 |     def __init__(self, *, peer: "raw.base.InputPeer", legacy_revoke_permanent: Optional[bool] = None, request_needed: Optional[bool] =…
   |         ^^^^^^^^          -------------------------- Parameter declared here
55 |         self.peer = peer  # InputPeer
56 |         self.legacy_revoke_permanent = legacy_revoke_permanent  # flags.2?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/invite_links/export_chat_invite_link.py:54:21
   |
52 |                 legacy_revoke_permanent=True,
53 |                 subscription_pricing=raw.types.StarsSubscriptionPricing(
54 |                     period=subscription_period,
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `int | None`
55 |                     amount=subscription_price,
56 |                 ),
   |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/types/stars_subscription_pricing.py:38:9
   |
36 |     QUALNAME = "types.StarsSubscriptionPricing"
37 |
38 |     def __init__(self, *, period: int, amount: int) -> None:
   |         ^^^^^^^^          ----------- Parameter declared here
39 |         self.period = period  # int
40 |         self.amount = amount  # long
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/invite_links/export_chat_invite_link.py:55:21
   |
53 |                 subscription_pricing=raw.types.StarsSubscriptionPricing(
54 |                     period=subscription_period,
55 |                     amount=subscription_price,
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `int | None`
56 |                 ),
57 |             ),
   |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/types/stars_subscription_pricing.py:38:9
   |
36 |     QUALNAME = "types.StarsSubscriptionPricing"
37 |
38 |     def __init__(self, *, period: int, amount: int) -> None:
   |         ^^^^^^^^                       ----------- Parameter declared here
39 |         self.period = period  # int
40 |         self.amount = amount  # long
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/invite_links/export_chat_invite_link.py:60:16
   |
58 |         )
59 |
60 |         return types.ChatInviteLink._parse(self, r)
   |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `ChatInviteLink`, found `ChatInviteLink | None`
   |
  ::: pyrogram/methods/invite_links/export_chat_invite_link.py:13:10
   |
11 |         subscription_period: int | None = None,
12 |         subscription_price: int | None = None,
13 |     ) -> types.ChatInviteLink:
   |          -------------------- Expected `ChatInviteLink` because of return type
14 |         """Generate a new primary invite link for a chat; any previously generated primary link is revoked.
   |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/invite_links/get_chat_admin_invite_links.py:65:21
   |
63 |             r = await self.invoke(
64 |                 raw.functions.messages.GetExportedChatInvites(
65 |                     peer=await self.resolve_peer(chat_id),
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
66 |                     admin_id=await self.resolve_peer(admin_id),
67 |                     limit=limit,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_exported_chat_invites.py:51:9
   |
49 |     QUALNAME = "functions.messages.GetExportedChatInvites"
50 |
51 |     def __init__(self, *, peer: "raw.base.InputPeer", admin_id: "raw.base.InputUser", limit: int, revoked: Optional[bool] = None, offs…
   |         ^^^^^^^^          -------------------------- Parameter declared here
52 |         self.peer = peer  # InputPeer
53 |         self.admin_id = admin_id  # InputUser
   |
info: Union variant `bound method GetExportedChatInvites.__init__(*, peer: InputPeer, admin_id: InputUser, limit: int, revoked: bool | None = None, offset_date: int | None = None, offset_link: str | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetExportedChatInvites.__init__(*, peer: InputPeer, admin_id: InputUser, limit: int, revoked: bool | None = None, offset_date: int | None = None, offset_link: str | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/invite_links/get_chat_admin_invite_links.py:66:21
   |
64 |                 raw.functions.messages.GetExportedChatInvites(
65 |                     peer=await self.resolve_peer(chat_id),
66 |                     admin_id=await self.resolve_peer(admin_id),
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputUser`, found `InputPeer | InputUser | InputChannel`
67 |                     limit=limit,
68 |                     revoked=revoked,
   |
info: Union elements `InputPeer` and `InputChannel` are not assignable to `InputUser`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_exported_chat_invites.py:51:9
   |
49 |     QUALNAME = "functions.messages.GetExportedChatInvites"
50 |
51 |     def __init__(self, *, peer: "raw.base.InputPeer", admin_id: "raw.base.InputUser", limit: int, revoked: Optional[bool] = None, offs…
   |         ^^^^^^^^                                      ------------------------------ Parameter declared here
52 |         self.peer = peer  # InputPeer
53 |         self.admin_id = admin_id  # InputUser
   |
info: Union variant `bound method GetExportedChatInvites.__init__(*, peer: InputPeer, admin_id: InputUser, limit: int, revoked: bool | None = None, offset_date: int | None = None, offset_link: str | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetExportedChatInvites.__init__(*, peer: InputPeer, admin_id: InputUser, limit: int, revoked: bool | None = None, offset_date: int | None = None, offset_link: str | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/invite_links/get_chat_admin_invite_links_count.py:39:17
   |
37 |         r = await self.invoke(
38 |             raw.functions.messages.GetExportedChatInvites(
39 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
40 |                 admin_id=await self.resolve_peer(admin_id),
41 |                 limit=1,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_exported_chat_invites.py:51:9
   |
49 |     QUALNAME = "functions.messages.GetExportedChatInvites"
50 |
51 |     def __init__(self, *, peer: "raw.base.InputPeer", admin_id: "raw.base.InputUser", limit: int, revoked: Optional[bool] = None, offs…
   |         ^^^^^^^^          -------------------------- Parameter declared here
52 |         self.peer = peer  # InputPeer
53 |         self.admin_id = admin_id  # InputUser
   |
info: Union variant `bound method GetExportedChatInvites.__init__(*, peer: InputPeer, admin_id: InputUser, limit: int, revoked: bool | None = None, offset_date: int | None = None, offset_link: str | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetExportedChatInvites.__init__(*, peer: InputPeer, admin_id: InputUser, limit: int, revoked: bool | None = None, offset_date: int | None = None, offset_link: str | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/invite_links/get_chat_admin_invite_links_count.py:40:17
   |
38 |             raw.functions.messages.GetExportedChatInvites(
39 |                 peer=await self.resolve_peer(chat_id),
40 |                 admin_id=await self.resolve_peer(admin_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputUser`, found `InputPeer | InputUser | InputChannel`
41 |                 limit=1,
42 |                 revoked=revoked,
   |
info: Union elements `InputPeer` and `InputChannel` are not assignable to `InputUser`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_exported_chat_invites.py:51:9
   |
49 |     QUALNAME = "functions.messages.GetExportedChatInvites"
50 |
51 |     def __init__(self, *, peer: "raw.base.InputPeer", admin_id: "raw.base.InputUser", limit: int, revoked: Optional[bool] = None, offs…
   |         ^^^^^^^^                                      ------------------------------ Parameter declared here
52 |         self.peer = peer  # InputPeer
53 |         self.admin_id = admin_id  # InputUser
   |
info: Union variant `bound method GetExportedChatInvites.__init__(*, peer: InputPeer, admin_id: InputUser, limit: int, revoked: bool | None = None, offset_date: int | None = None, offset_link: str | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetExportedChatInvites.__init__(*, peer: InputPeer, admin_id: InputUser, limit: int, revoked: bool | None = None, offset_date: int | None = None, offset_link: str | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/invite_links/get_chat_admins_with_invite_links.py:30:17
   |
28 |         r = await self.invoke(
29 |             raw.functions.messages.GetAdminsWithInvites(
30 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
31 |             ),
32 |         )
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_admins_with_invites.py:36:9
   |
34 |     QUALNAME = "functions.messages.GetAdminsWithInvites"
35 |
36 |     def __init__(self, *, peer: "raw.base.InputPeer") -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
37 |         self.peer = peer  # InputPeer
   |
info: Union variant `bound method GetAdminsWithInvites.__init__(*, peer: InputPeer) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetAdminsWithInvites.__init__(*, peer: InputPeer) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/invite_links/get_chat_invite_link.py:31:17
   |
29 |         r = await self.invoke(
30 |             raw.functions.messages.GetExportedChatInvite(
31 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
32 |                 link=invite_link,
33 |             ),
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_exported_chat_invite.py:39:9
   |
37 |     QUALNAME = "functions.messages.GetExportedChatInvite"
38 |
39 |     def __init__(self, *, peer: "raw.base.InputPeer", link: str) -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
40 |         self.peer = peer  # InputPeer
41 |         self.link = link  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/invite_links/get_chat_invite_link.py:38:16
   |
36 |         users = {i.id: i for i in r.users}
37 |
38 |         return types.ChatInviteLink._parse(self, r.invite, users)
   |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `ChatInviteLink`, found `ChatInviteLink | None`
   |
  ::: pyrogram/methods/invite_links/get_chat_invite_link.py:12:10
   |
10 |         chat_id: int | str,
11 |         invite_link: str,
12 |     ) -> types.ChatInviteLink:
   |          -------------------- Expected `ChatInviteLink` because of return type
13 |         """Get detailed information about a chat invite link.
   |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/invite_links/get_chat_invite_link_joiners.py:52:21
   |
50 |             r = await self.invoke(
51 |                 raw.functions.messages.GetChatInviteImporters(
52 |                     peer=await self.resolve_peer(chat_id),
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
53 |                     link=invite_link,
54 |                     limit=limit,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_chat_invite_importers.py:57:9
   |
55 |     QUALNAME = "functions.messages.GetChatInviteImporters"
56 |
57 |     def __init__(self, *, peer: "raw.base.InputPeer", offset_date: int, offset_user: "raw.base.InputUser", limit: int, requested: Opti…
   |         ^^^^^^^^          -------------------------- Parameter declared here
58 |         self.peer = peer  # InputPeer
59 |         self.offset_date = offset_date  # int
   |
info: Union variant `bound method GetChatInviteImporters.__init__(*, peer: InputPeer, offset_date: int, offset_user: InputUser, limit: int, requested: bool | None = None, subscription_expired: bool | None = None, link: str | None = None, q: str | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetChatInviteImporters.__init__(*, peer: InputPeer, offset_date: int, offset_user: InputUser, limit: int, requested: bool | None = None, subscription_expired: bool | None = None, link: str | None = None, q: str | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/invite_links/get_chat_invite_link_joiners.py:56:21
   |
54 |                     limit=limit,
55 |                     offset_date=offset_date,
56 |                     offset_user=offset_user,
   |                     ^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputUser`, found `InputUser | InputPeer | InputChannel`
57 |                 ),
58 |             )
   |
info: Union elements `InputPeer` and `InputChannel` are not assignable to `InputUser`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_chat_invite_importers.py:57:9
   |
55 |     QUALNAME = "functions.messages.GetChatInviteImporters"
56 |
57 |     def __init__(self, *, peer: "raw.base.InputPeer", offset_date: int, offset_user: "raw.base.InputUser", limit: int, requested: Opti…
   |         ^^^^^^^^                                                        --------------------------------- Parameter declared here
58 |         self.peer = peer  # InputPeer
59 |         self.offset_date = offset_date  # int
   |
info: Union variant `bound method GetChatInviteImporters.__init__(*, peer: InputPeer, offset_date: int, offset_user: InputUser, limit: int, requested: bool | None = None, subscription_expired: bool | None = None, link: str | None = None, q: str | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetChatInviteImporters.__init__(*, peer: InputPeer, offset_date: int, offset_user: InputUser, limit: int, requested: bool | None = None, subscription_expired: bool | None = None, link: str | None = None, q: str | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/invite_links/get_chat_invite_link_joiners_count.py:31:17
   |
29 |         r = await self.invoke(
30 |             raw.functions.messages.GetChatInviteImporters(
31 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
32 |                 link=invite_link,
33 |                 limit=1,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_chat_invite_importers.py:57:9
   |
55 |     QUALNAME = "functions.messages.GetChatInviteImporters"
56 |
57 |     def __init__(self, *, peer: "raw.base.InputPeer", offset_date: int, offset_user: "raw.base.InputUser", limit: int, requested: Opti…
   |         ^^^^^^^^          -------------------------- Parameter declared here
58 |         self.peer = peer  # InputPeer
59 |         self.offset_date = offset_date  # int
   |
info: Union variant `bound method GetChatInviteImporters.__init__(*, peer: InputPeer, offset_date: int, offset_user: InputUser, limit: int, requested: bool | None = None, subscription_expired: bool | None = None, link: str | None = None, q: str | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetChatInviteImporters.__init__(*, peer: InputPeer, offset_date: int, offset_user: InputUser, limit: int, requested: bool | None = None, subscription_expired: bool | None = None, link: str | None = None, q: str | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/invite_links/get_chat_join_requests.py:52:21
   |
50 |             r = await self.invoke(
51 |                 raw.functions.messages.GetChatInviteImporters(
52 |                     peer=await self.resolve_peer(chat_id),
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
53 |                     limit=limit,
54 |                     offset_date=offset_date,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_chat_invite_importers.py:57:9
   |
55 |     QUALNAME = "functions.messages.GetChatInviteImporters"
56 |
57 |     def __init__(self, *, peer: "raw.base.InputPeer", offset_date: int, offset_user: "raw.base.InputUser", limit: int, requested: Opti…
   |         ^^^^^^^^          -------------------------- Parameter declared here
58 |         self.peer = peer  # InputPeer
59 |         self.offset_date = offset_date  # int
   |
info: Union variant `bound method GetChatInviteImporters.__init__(*, peer: InputPeer, offset_date: int, offset_user: InputUser, limit: int, requested: bool | None = None, subscription_expired: bool | None = None, link: str | None = None, q: str | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetChatInviteImporters.__init__(*, peer: InputPeer, offset_date: int, offset_user: InputUser, limit: int, requested: bool | None = None, subscription_expired: bool | None = None, link: str | None = None, q: str | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/invite_links/get_chat_join_requests.py:55:21
   |
53 |                     limit=limit,
54 |                     offset_date=offset_date,
55 |                     offset_user=offset_user,
   |                     ^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputUser`, found `InputUser | InputPeer | InputChannel`
56 |                     requested=True,
57 |                     q=query,
   |
info: Union elements `InputPeer` and `InputChannel` are not assignable to `InputUser`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_chat_invite_importers.py:57:9
   |
55 |     QUALNAME = "functions.messages.GetChatInviteImporters"
56 |
57 |     def __init__(self, *, peer: "raw.base.InputPeer", offset_date: int, offset_user: "raw.base.InputUser", limit: int, requested: Opti…
   |         ^^^^^^^^                                                        --------------------------------- Parameter declared here
58 |         self.peer = peer  # InputPeer
59 |         self.offset_date = offset_date  # int
   |
info: Union variant `bound method GetChatInviteImporters.__init__(*, peer: InputPeer, offset_date: int, offset_user: InputUser, limit: int, requested: bool | None = None, subscription_expired: bool | None = None, link: str | None = None, q: str | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetChatInviteImporters.__init__(*, peer: InputPeer, offset_date: int, offset_user: InputUser, limit: int, requested: bool | None = None, subscription_expired: bool | None = None, link: str | None = None, q: str | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/invite_links/revoke_chat_invite_link.py:36:17
   |
34 |         r = await self.invoke(
35 |             raw.functions.messages.EditExportedChatInvite(
36 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
37 |                 link=invite_link,
38 |                 revoked=True,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/edit_exported_chat_invite.py:54:9
   |
52 |     QUALNAME = "functions.messages.EditExportedChatInvite"
53 |
54 |     def __init__(self, *, peer: "raw.base.InputPeer", link: str, revoked: Optional[bool] = None, expire_date: Optional[int] = None, us…
   |         ^^^^^^^^          -------------------------- Parameter declared here
55 |         self.peer = peer  # InputPeer
56 |         self.link = link  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/invite_links/revoke_chat_invite_link.py:50:16
   |
48 |         )
49 |
50 |         return types.ChatInviteLink._parse(self, chat_invite, users)
   |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `ChatInviteLink`, found `ChatInviteLink | None`
   |
  ::: pyrogram/methods/invite_links/revoke_chat_invite_link.py:12:10
   |
10 |         chat_id: int | str,
11 |         invite_link: str,
12 |     ) -> types.ChatInviteLink:
   |          -------------------- Expected `ChatInviteLink` because of return type
13 |         """Revoke a previously created invite link.
   |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/copy_media_group.py:112:21
    |
110 |                 raw.types.InputSingleMedia(
111 |                     media=media,
112 |                     random_id=self.rnd_id(),
    |                     ^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | MsgId`
113 |                     **await self.parser.parse(
114 |                         captions[i]
    |
info: Element `MsgId` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/types/input_single_media.py:44:9
   |
42 |     QUALNAME = "types.InputSingleMedia"
43 |
44 |     def __init__(self, *, media: "raw.base.InputMedia", random_id: int, message: str, entities: Optional[List["raw.base.MessageEntity"…
   |         ^^^^^^^^                                        -------------- Parameter declared here
45 |         self.media = media  # InputMedia
46 |         self.random_id = random_id  # long
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/copy_media_group.py:131:17
    |
129 |         r = await self.invoke(
130 |             raw.functions.messages.SendMultiMedia(
131 |                 peer=await self.resolve_peer(chat_id),
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
132 |                 multi_media=multi_media,
133 |                 silent=disable_notification or None,
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_multi_media.py:78:9
   |
76 |     QUALNAME = "functions.messages.SendMultiMedia"
77 |
78 |     def __init__(self, *, peer: "raw.base.InputPeer", multi_media: List["raw.base.InputSingleMedia"], silent: Optional[bool] = None, b…
   |         ^^^^^^^^          -------------------------- Parameter declared here
79 |         self.peer = peer  # InputPeer
80 |         self.multi_media = multi_media  # Vector<InputSingleMedia>
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/copy_media_group.py:134:17
    |
132 |                 multi_media=multi_media,
133 |                 silent=disable_notification or None,
134 |                 reply_to=reply_to,
    |                 ^^^^^^^^^^^^^^^^^ Expected `InputReplyTo`, found `None | InputReplyToMessage`
135 |                 noforwards=protect_content,
136 |                 schedule_date=utils.datetime_to_timestamp(schedule_date),
    |
info: Method defined here
  --> pyrogram/raw/functions/messages/send_multi_media.py:78:9
   |
76 | … QUALNAME = "functions.messages.SendMultiMedia"
77 | …
78 | … def __init__(self, *, peer: "raw.base.InputPeer", multi_media: List["raw.base.InputSingleMedia"], silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, sch…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                  ---------------------------------------- Parameter declared here
79 | …     self.peer = peer  # InputPeer
80 | …     self.multi_media = multi_media  # Vector<InputSingleMedia>
   |
info: rule `invalid-argument-type` is enabled by default

error[missing-argument]: No argument provided for required parameter `topics` of bound method `__init__`
   --> pyrogram/methods/messages/copy_media_group.py:143:13
    |
141 |           return await utils.parse_messages(
142 |               self,
143 | /             raw.types.messages.Messages(
144 | |                 messages=[
145 | |                     m.message
146 | |                     for m in filter(
147 | |                         lambda u: isinstance(
148 | |                             u,
149 | |                             raw.types.UpdateNewMessage
150 | |                             | raw.types.UpdateNewChannelMessage
151 | |                             | raw.types.UpdateNewScheduledMessage,
152 | |                         ),
153 | |                         r.updates,
154 | |                     )
155 | |                 ],
156 | |                 users=r.users,
157 | |                 chats=r.chats,
158 | |             ),
    | |_____________^
159 |           )
    |
info: Union variant `bound method Messages.__init__(*, messages: list[Message], topics: list[ForumTopic], chats: list[Chat], users: list[User]) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method Messages.__init__(*, messages: list[Message], topics: list[ForumTopic], chats: list[Chat], users: list[User]) -> None)`
info: rule `missing-argument` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
  --> pyrogram/methods/messages/copy_message.py:33:9
   |
31 |           allow_paid_broadcast: bool | None = None,
32 |           invert_media: bool = False,
33 | /         reply_markup: types.InlineKeyboardMarkup
34 | |         | types.ReplyKeyboardMarkup
35 | |         | types.ReplyKeyboardRemove
36 | |         | types.ForceReply = None,
   | |_________________________________^
37 |       ) -> types.Message:
38 |           """Copy messages of any kind.
   |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-assignment]: Object of type `Message | list[Message] | DraftMessage` is not assignable to `Message`
   --> pyrogram/methods/messages/copy_message.py:118:18
    |
117 |         """
118 |         message: types.Message = await self.get_messages(from_chat_id, message_id)
    |                  -------------   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `Message | list[Message] | DraftMessage`
    |                  |
    |                  Declared type
119 |
120 |         return await message.copy(
    |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Object of type `Message` has no attribute `copy`
   --> pyrogram/methods/messages/copy_message.py:120:22
    |
118 |         message: types.Message = await self.get_messages(from_chat_id, message_id)
119 |
120 |         return await message.copy(
    |                      ^^^^^^^^^^^^
121 |             chat_id=chat_id,
122 |             caption=caption,
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/delete_chat_history.py:72:21
   |
70 |             r = await self.invoke(
71 |                 raw.functions.messages.DeleteHistory(
72 |                     peer=peer,
   |                     ^^^^^^^^^ Expected `InputPeer`, found `(InputPeer & ~InputPeerChannel) | (InputUser & ~InputPeerChannel) | (InputChannel & ~InputPeerChannel)`
73 |                     max_id=max_id,
74 |                     just_clear=just_clear,
   |
info: Union elements `InputUser & ~InputPeerChannel` and `InputChannel & ~InputPeerChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/delete_history.py:51:9
   |
49 |     QUALNAME = "functions.messages.DeleteHistory"
50 |
51 |     def __init__(self, *, peer: "raw.base.InputPeer", max_id: int, just_clear: Optional[bool] = None, revoke: Optional[bool] = None, m…
   |         ^^^^^^^^          -------------------------- Parameter declared here
52 |         self.peer = peer  # InputPeer
53 |         self.max_id = max_id  # int
   |
info: Union variant `bound method DeleteHistory.__init__(*, peer: InputPeer, max_id: int, just_clear: bool | None = None, revoke: bool | None = None, min_date: int | None = None, max_date: int | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method DeleteHistory.__init__(*, peer: InputPeer, max_id: int, just_clear: bool | None = None, revoke: bool | None = None, min_date: int | None = None, max_date: int | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/delete_messages.py:61:55
   |
59 |         if isinstance(peer, raw.types.InputPeerChannel):
60 |             r = await self.invoke(
61 |                 raw.functions.channels.DeleteMessages(channel=peer, id=message_ids),
   |                                                       ^^^^^^^^^^^^ Expected `InputChannel`, found `InputPeerChannel`
62 |             )
63 |         else:
   |
info: Method defined here
  --> pyrogram/raw/functions/channels/delete_messages.py:39:9
   |
37 |     QUALNAME = "functions.channels.DeleteMessages"
38 |
39 |     def __init__(self, *, channel: "raw.base.InputChannel", id: List[int]) -> None:
   |         ^^^^^^^^          -------------------------------- Parameter declared here
40 |         self.channel = channel  # InputChannel
41 |         self.id = id  # Vector<int>
   |
info: Union variant `bound method DeleteMessages.__init__(*, channel: InputChannel, id: list[int]) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method DeleteMessages.__init__(*, channel: InputChannel, id: list[int]) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `list[Unknown] | list[int | Iterable[int]]` is not assignable to `int | Iterable[int]`
  --> pyrogram/methods/messages/delete_scheduled_messages.py:45:9
   |
43 |         peer = await self.resolve_peer(chat_id)
44 |         is_iterable = not isinstance(message_ids, int)
45 |         message_ids = list(message_ids) if is_iterable else [message_ids]
   |         -----------   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `list[Unknown] | list[int | Iterable[int]]`
   |         |
   |         Declared type `int | Iterable[int]`
46 |
47 |         r = await self.invoke(
   |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/delete_scheduled_messages.py:45:28
   |
43 |         peer = await self.resolve_peer(chat_id)
44 |         is_iterable = not isinstance(message_ids, int)
45 |         message_ids = list(message_ids) if is_iterable else [message_ids]
   |                            ^^^^^^^^^^^ Expected `Iterable[Unknown]`, found `int | Iterable[int]`
46 |
47 |         r = await self.invoke(
   |
info: Element `int` of this union is not assignable to `Iterable[Unknown]`
info: Matching overload defined here
    --> stdlib/builtins.pyi:2839:9
     |
2837 |     def __init__(self) -> None: ...
2838 |     @overload
2839 |     def __init__(self, iterable: Iterable[_T], /) -> None: ...
     |         ^^^^^^^^       ---------------------- Parameter declared here
2840 |     def copy(self) -> list[_T]:
2841 |         """Return a shallow copy of the list."""
     |
info: Non-matching overloads for bound method `__init__`:
info:   (self) -> None
info: rule `invalid-argument-type` is enabled by default

error[missing-argument]: No argument provided for required parameter `channel` of bound method `__init__`
  --> pyrogram/methods/messages/delete_scheduled_messages.py:48:13
   |
47 |         r = await self.invoke(
48 |             raw.functions.channels.DeleteMessages(peer=peer, id=message_ids),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
49 |         )
   |
info: Union variant `bound method DeleteMessages.__init__(*, channel: InputChannel, id: list[int]) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method DeleteMessages.__init__(*, channel: InputChannel, id: list[int]) -> None)`
info: rule `missing-argument` is enabled by default

error[unknown-argument]: Argument `peer` does not match any known parameter of bound method `__init__`
  --> pyrogram/methods/messages/delete_scheduled_messages.py:48:51
   |
47 |         r = await self.invoke(
48 |             raw.functions.channels.DeleteMessages(peer=peer, id=message_ids),
   |                                                   ^^^^^^^^^
49 |         )
   |
info: Union variant `bound method DeleteMessages.__init__(*, channel: InputChannel, id: list[int]) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method DeleteMessages.__init__(*, channel: InputChannel, id: list[int]) -> None)`
info: rule `unknown-argument` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/delete_scheduled_messages.py:48:62
   |
47 |         r = await self.invoke(
48 |             raw.functions.channels.DeleteMessages(peer=peer, id=message_ids),
   |                                                              ^^^^^^^^^^^^^^ Expected `list[int]`, found `int | Iterable[int]`
49 |         )
   |
info: Method defined here
  --> pyrogram/raw/functions/channels/delete_messages.py:39:9
   |
37 |     QUALNAME = "functions.channels.DeleteMessages"
38 |
39 |     def __init__(self, *, channel: "raw.base.InputChannel", id: List[int]) -> None:
   |         ^^^^^^^^                                            ------------- Parameter declared here
40 |         self.channel = channel  # InputChannel
41 |         self.id = id  # Vector<int>
   |
info: Union variant `bound method DeleteMessages.__init__(*, channel: InputChannel, id: list[int]) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method DeleteMessages.__init__(*, channel: InputChannel, id: list[int]) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[no-matching-overload]: No overload of function `match` matches arguments
  --> pyrogram/methods/messages/edit_inline_media.py:72:52
   |
70 |           )
71 |
72 |           is_external_url = not is_uploaded_file and re.match(
   |  ____________________________________________________^
73 | |             "^https?://",
74 | |             media.media,
75 | |         )
   | |_________^
76 |
77 |           if is_bytes_io and not hasattr(media.media, "name"):
   |
info: First overload defined here
   --> stdlib/re.pyi:463:5
    |
461 | def search(pattern: bytes | Pattern[bytes], string: ReadableBuffer, flags: _FlagsType = 0) -> Match[bytes] | None: ...
462 | @overload
463 | def match(pattern: str | Pattern[str], string: str, flags: _FlagsType = 0) -> Match[str] | None:
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
464 |     """Try to apply the pattern at the start of the string, returning
465 |     a Match object, or None if no match was found.
    |
info: Possible overloads for function `match`:
info:   (pattern: str | Pattern[str], string: str, flags: int = 0) -> Match[str] | None
info:   (pattern: bytes | Pattern[bytes], string: Buffer, flags: int = 0) -> Match[bytes] | None
info: rule `no-matching-overload` is enabled by default

error[invalid-assignment]: Object of type `Literal["media"]` is not assignable to attribute `name` on type `(Unknown & ~<Protocol with members 'name'>) | (str & ~<Protocol with members 'name'>)`
  --> pyrogram/methods/messages/edit_inline_media.py:78:13
   |
77 |         if is_bytes_io and not hasattr(media.media, "name"):
78 |             media.media.name = "media"
   |             ^^^^^^^^^^^^^^^^
79 |
80 |         if is_uploaded_file:
   |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Attribute `name` is not defined on `str` in union `Unknown | str | BinaryIO`
  --> pyrogram/methods/messages/edit_inline_media.py:83:31
   |
81 |             filename_attribute = [
82 |                 raw.types.DocumentAttributeFilename(
83 |                     file_name=media.media.name
   |                               ^^^^^^^^^^^^^^^^
84 |                     if is_bytes_io
85 |                     else Path(media.media).name,
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `__new__` is incorrect
  --> pyrogram/methods/messages/edit_inline_media.py:85:31
   |
83 |                     file_name=media.media.name
84 |                     if is_bytes_io
85 |                     else Path(media.media).name,
   |                               ^^^^^^^^^^^ Expected `str | PathLike[str]`, found `Unknown | str | BinaryIO`
86 |                 ),
87 |             ]
   |
info: Element `BinaryIO` of this union is not assignable to `str | PathLike[str]`
info: Function defined here
   --> stdlib/pathlib/__init__.pyi:310:13
    |
308 |         def __new__(cls, *args: StrPath, **kwargs: Unused) -> Self: ...  # pyright: ignore[reportInconsistentConstructor]
309 |     else:
310 |         def __new__(cls, *args: StrPath, **kwargs: Unused) -> Self: ...
    |             ^^^^^^^      -------------- Parameter declared here
311 |
312 |     @classmethod
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `InputMediaUploadedPhoto` is not assignable to `InputMedia`
  --> pyrogram/methods/messages/edit_inline_media.py:93:17
   |
91 |           if isinstance(media, types.InputMediaPhoto):
92 |               if is_uploaded_file:
93 |                   media = raw.types.InputMediaUploadedPhoto(
   |  _________________-----___^
   | |                 |
   | |                 Declared type `InputMedia`
94 | |                     file=await self.save_file(media.media),
95 | |                     spoiler=media.has_spoiler,
96 | |                 )
   | |_________________^ Incompatible value of type `InputMediaUploadedPhoto`
97 |               elif is_external_url:
98 |                   media = raw.types.InputMediaPhotoExternal(
   |
info: rule `invalid-assignment` is enabled by default

error[invalid-assignment]: Object of type `InputMediaPhotoExternal` is not assignable to `InputMedia`
   --> pyrogram/methods/messages/edit_inline_media.py:98:17
    |
 96 |                   )
 97 |               elif is_external_url:
 98 |                   media = raw.types.InputMediaPhotoExternal(
    |  _________________-----___^
    | |                 |
    | |                 Declared type `InputMedia`
 99 | |                     url=media.media,
100 | |                     spoiler=media.has_spoiler,
101 | |                 )
    | |_________________^ Incompatible value of type `InputMediaPhotoExternal`
102 |               else:
103 |                   media = utils.get_input_media_from_file_id(
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/edit_inline_media.py:99:21
    |
 97 |             elif is_external_url:
 98 |                 media = raw.types.InputMediaPhotoExternal(
 99 |                     url=media.media,
    |                     ^^^^^^^^^^^^^^^ Expected `str`, found `Unknown | str | BinaryIO`
100 |                     spoiler=media.has_spoiler,
101 |                 )
    |
info: Element `BinaryIO` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/raw/types/input_media_photo_external.py:41:9
   |
39 |     QUALNAME = "types.InputMediaPhotoExternal"
40 |
41 |     def __init__(self, *, url: str, spoiler: Optional[bool] = None, ttl_seconds: Optional[int] = None) -> None:
   |         ^^^^^^^^          -------- Parameter declared here
42 |         self.url = url  # string
43 |         self.spoiler = spoiler  # flags.1?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `get_input_media_from_file_id` is incorrect
   --> pyrogram/methods/messages/edit_inline_media.py:104:21
    |
102 |             else:
103 |                 media = utils.get_input_media_from_file_id(
104 |                     media.media,
    |                     ^^^^^^^^^^^ Expected `str`, found `Unknown | str | BinaryIO`
105 |                     FileType.PHOTO,
106 |                 )
    |
info: Element `BinaryIO` of this union is not assignable to `str`
info: Function defined here
  --> pyrogram/utils.py:31:5
   |
31 | def get_input_media_from_file_id(
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
32 |     file_id: str,
   |     ------------ Parameter declared here
33 |     expected_file_type: FileType | None = None,
34 |     ttl_seconds: int | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `InputMediaUploadedDocument` is not assignable to `InputMedia`
   --> pyrogram/methods/messages/edit_inline_media.py:109:17
    |
107 |           elif isinstance(media, types.InputMediaVideo):
108 |               if is_uploaded_file:
109 |                   media = raw.types.InputMediaUploadedDocument(
    |  _________________-----___^
    | |                 |
    | |                 Declared type `InputMedia`
110 | |                     mime_type=(
111 | |                         None if is_bytes_io else self.guess_mime_type(media.media)
112 | |                     )
113 | |                     or "video/mp4",
114 | |                     thumb=await self.save_file(media.thumb),
115 | |                     file=await self.save_file(media.media),
116 | |                     spoiler=media.has_spoiler,
117 | |                     attributes=[
118 | |                         raw.types.DocumentAttributeVideo(
119 | |                             supports_streaming=media.supports_streaming or None,
120 | |                             duration=media.duration,
121 | |                             w=media.width,
122 | |                             h=media.height,
123 | |                         ),
124 | |                         *filename_attribute,
125 | |                     ],
126 | |                 )
    | |_________________^ Incompatible value of type `InputMediaUploadedDocument`
127 |               elif is_external_url:
128 |                   media = raw.types.InputMediaDocumentExternal(
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `guess_mime_type` is incorrect
   --> pyrogram/methods/messages/edit_inline_media.py:111:71
    |
109 |                 media = raw.types.InputMediaUploadedDocument(
110 |                     mime_type=(
111 |                         None if is_bytes_io else self.guess_mime_type(media.media)
    |                                                                       ^^^^^^^^^^^ Expected `str`, found `Unknown | str | BinaryIO`
112 |                     )
113 |                     or "video/mp4",
    |
info: Element `BinaryIO` of this union is not assignable to `str`
info: Method defined here
    --> pyrogram/client.py:1247:9
     |
1245 |                 await session.stop()
1246 |
1247 |     def guess_mime_type(self, filename: str) -> str | None:
     |         ^^^^^^^^^^^^^^^       ------------- Parameter declared here
1248 |         return self.mimetypes.guess_type(filename)[0]
     |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/edit_inline_media.py:114:48
    |
112 |                     )
113 |                     or "video/mp4",
114 |                     thumb=await self.save_file(media.thumb),
    |                                                ^^^^^^^^^^^ Expected `str | BinaryIO`, found `Unknown | str | None`
115 |                     file=await self.save_file(media.media),
116 |                     spoiler=media.has_spoiler,
    |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `InputMediaDocumentExternal` is not assignable to `InputMedia`
   --> pyrogram/methods/messages/edit_inline_media.py:128:17
    |
126 |                   )
127 |               elif is_external_url:
128 |                   media = raw.types.InputMediaDocumentExternal(
    |  _________________-----___^
    | |                 |
    | |                 Declared type `InputMedia`
129 | |                     url=media.media,
130 | |                     spoiler=media.has_spoiler,
131 | |                 )
    | |_________________^ Incompatible value of type `InputMediaDocumentExternal`
132 |               else:
133 |                   media = utils.get_input_media_from_file_id(
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/edit_inline_media.py:129:21
    |
127 |             elif is_external_url:
128 |                 media = raw.types.InputMediaDocumentExternal(
129 |                     url=media.media,
    |                     ^^^^^^^^^^^^^^^ Expected `str`, found `Unknown | str | BinaryIO`
130 |                     spoiler=media.has_spoiler,
131 |                 )
    |
info: Element `BinaryIO` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/raw/types/input_media_document_external.py:47:9
   |
45 |     QUALNAME = "types.InputMediaDocumentExternal"
46 |
47 |     def __init__(self, *, url: str, spoiler: Optional[bool] = None, ttl_seconds: Optional[int] = None, video_cover: "raw.base.InputPho…
   |         ^^^^^^^^          -------- Parameter declared here
48 |         self.url = url  # string
49 |         self.spoiler = spoiler  # flags.1?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `get_input_media_from_file_id` is incorrect
   --> pyrogram/methods/messages/edit_inline_media.py:134:21
    |
132 |             else:
133 |                 media = utils.get_input_media_from_file_id(
134 |                     media.media,
    |                     ^^^^^^^^^^^ Expected `str`, found `Unknown | str | BinaryIO`
135 |                     FileType.VIDEO,
136 |                 )
    |
info: Element `BinaryIO` of this union is not assignable to `str`
info: Function defined here
  --> pyrogram/utils.py:31:5
   |
31 | def get_input_media_from_file_id(
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
32 |     file_id: str,
   |     ------------ Parameter declared here
33 |     expected_file_type: FileType | None = None,
34 |     ttl_seconds: int | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `InputMediaUploadedDocument` is not assignable to `InputMedia`
   --> pyrogram/methods/messages/edit_inline_media.py:139:17
    |
137 |           elif isinstance(media, types.InputMediaAudio):
138 |               if is_uploaded_file:
139 |                   media = raw.types.InputMediaUploadedDocument(
    |  _________________-----___^
    | |                 |
    | |                 Declared type `InputMedia`
140 | |                     mime_type=(
141 | |                         None if is_bytes_io else self.guess_mime_type(media.media)
142 | |                     )
143 | |                     or "audio/mpeg",
144 | |                     thumb=await self.save_file(media.thumb),
145 | |                     file=await self.save_file(media.media),
146 | |                     attributes=[
147 | |                         raw.types.DocumentAttributeAudio(
148 | |                             duration=media.duration,
149 | |                             performer=media.performer,
150 | |                             title=media.title,
151 | |                         ),
152 | |                         *filename_attribute,
153 | |                     ],
154 | |                 )
    | |_________________^ Incompatible value of type `InputMediaUploadedDocument`
155 |               elif is_external_url:
156 |                   media = raw.types.InputMediaDocumentExternal(url=media.media)
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `guess_mime_type` is incorrect
   --> pyrogram/methods/messages/edit_inline_media.py:141:71
    |
139 |                 media = raw.types.InputMediaUploadedDocument(
140 |                     mime_type=(
141 |                         None if is_bytes_io else self.guess_mime_type(media.media)
    |                                                                       ^^^^^^^^^^^ Expected `str`, found `Unknown | str | BinaryIO`
142 |                     )
143 |                     or "audio/mpeg",
    |
info: Element `BinaryIO` of this union is not assignable to `str`
info: Method defined here
    --> pyrogram/client.py:1247:9
     |
1245 |                 await session.stop()
1246 |
1247 |     def guess_mime_type(self, filename: str) -> str | None:
     |         ^^^^^^^^^^^^^^^       ------------- Parameter declared here
1248 |         return self.mimetypes.guess_type(filename)[0]
     |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/edit_inline_media.py:144:48
    |
142 |                     )
143 |                     or "audio/mpeg",
144 |                     thumb=await self.save_file(media.thumb),
    |                                                ^^^^^^^^^^^ Expected `str | BinaryIO`, found `Unknown | str | None`
145 |                     file=await self.save_file(media.media),
146 |                     attributes=[
    |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `InputMediaDocumentExternal` is not assignable to `InputMedia`
   --> pyrogram/methods/messages/edit_inline_media.py:156:17
    |
154 |                 )
155 |             elif is_external_url:
156 |                 media = raw.types.InputMediaDocumentExternal(url=media.media)
    |                 -----   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `InputMediaDocumentExternal`
    |                 |
    |                 Declared type `InputMedia`
157 |             else:
158 |                 media = utils.get_input_media_from_file_id(
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/edit_inline_media.py:156:62
    |
154 |                 )
155 |             elif is_external_url:
156 |                 media = raw.types.InputMediaDocumentExternal(url=media.media)
    |                                                              ^^^^^^^^^^^^^^^ Expected `str`, found `Unknown | str | BinaryIO`
157 |             else:
158 |                 media = utils.get_input_media_from_file_id(
    |
info: Element `BinaryIO` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/raw/types/input_media_document_external.py:47:9
   |
45 |     QUALNAME = "types.InputMediaDocumentExternal"
46 |
47 |     def __init__(self, *, url: str, spoiler: Optional[bool] = None, ttl_seconds: Optional[int] = None, video_cover: "raw.base.InputPho…
   |         ^^^^^^^^          -------- Parameter declared here
48 |         self.url = url  # string
49 |         self.spoiler = spoiler  # flags.1?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `get_input_media_from_file_id` is incorrect
   --> pyrogram/methods/messages/edit_inline_media.py:159:21
    |
157 |             else:
158 |                 media = utils.get_input_media_from_file_id(
159 |                     media.media,
    |                     ^^^^^^^^^^^ Expected `str`, found `Unknown | str | BinaryIO`
160 |                     FileType.AUDIO,
161 |                 )
    |
info: Element `BinaryIO` of this union is not assignable to `str`
info: Function defined here
  --> pyrogram/utils.py:31:5
   |
31 | def get_input_media_from_file_id(
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
32 |     file_id: str,
   |     ------------ Parameter declared here
33 |     expected_file_type: FileType | None = None,
34 |     ttl_seconds: int | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `InputMediaUploadedDocument` is not assignable to `InputMedia`
   --> pyrogram/methods/messages/edit_inline_media.py:164:17
    |
162 |           elif isinstance(media, types.InputMediaAnimation):
163 |               if is_uploaded_file:
164 |                   media = raw.types.InputMediaUploadedDocument(
    |  _________________-----___^
    | |                 |
    | |                 Declared type `InputMedia`
165 | |                     mime_type=(
166 | |                         None if is_bytes_io else self.guess_mime_type(media.media)
167 | |                     )
168 | |                     or "video/mp4",
169 | |                     thumb=await self.save_file(media.thumb),
170 | |                     file=await self.save_file(media.media),
171 | |                     spoiler=media.has_spoiler,
172 | |                     attributes=[
173 | |                         raw.types.DocumentAttributeVideo(
174 | |                             supports_streaming=True,
175 | |                             duration=media.duration,
176 | |                             w=media.width,
177 | |                             h=media.height,
178 | |                         ),
179 | |                         raw.types.DocumentAttributeAnimated(),
180 | |                         *filename_attribute,
181 | |                     ],
182 | |                     nosound_video=True,
183 | |                 )
    | |_________________^ Incompatible value of type `InputMediaUploadedDocument`
184 |               elif is_external_url:
185 |                   media = raw.types.InputMediaDocumentExternal(
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `guess_mime_type` is incorrect
   --> pyrogram/methods/messages/edit_inline_media.py:166:71
    |
164 |                 media = raw.types.InputMediaUploadedDocument(
165 |                     mime_type=(
166 |                         None if is_bytes_io else self.guess_mime_type(media.media)
    |                                                                       ^^^^^^^^^^^ Expected `str`, found `Unknown | str | BinaryIO`
167 |                     )
168 |                     or "video/mp4",
    |
info: Element `BinaryIO` of this union is not assignable to `str`
info: Method defined here
    --> pyrogram/client.py:1247:9
     |
1245 |                 await session.stop()
1246 |
1247 |     def guess_mime_type(self, filename: str) -> str | None:
     |         ^^^^^^^^^^^^^^^       ------------- Parameter declared here
1248 |         return self.mimetypes.guess_type(filename)[0]
     |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/edit_inline_media.py:169:48
    |
167 |                     )
168 |                     or "video/mp4",
169 |                     thumb=await self.save_file(media.thumb),
    |                                                ^^^^^^^^^^^ Expected `str | BinaryIO`, found `Unknown | str | None`
170 |                     file=await self.save_file(media.media),
171 |                     spoiler=media.has_spoiler,
    |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `InputMediaDocumentExternal` is not assignable to `InputMedia`
   --> pyrogram/methods/messages/edit_inline_media.py:185:17
    |
183 |                   )
184 |               elif is_external_url:
185 |                   media = raw.types.InputMediaDocumentExternal(
    |  _________________-----___^
    | |                 |
    | |                 Declared type `InputMedia`
186 | |                     url=media.media,
187 | |                     spoiler=media.has_spoiler,
188 | |                 )
    | |_________________^ Incompatible value of type `InputMediaDocumentExternal`
189 |               else:
190 |                   media = utils.get_input_media_from_file_id(
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/edit_inline_media.py:186:21
    |
184 |             elif is_external_url:
185 |                 media = raw.types.InputMediaDocumentExternal(
186 |                     url=media.media,
    |                     ^^^^^^^^^^^^^^^ Expected `str`, found `Unknown | str | BinaryIO`
187 |                     spoiler=media.has_spoiler,
188 |                 )
    |
info: Element `BinaryIO` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/raw/types/input_media_document_external.py:47:9
   |
45 |     QUALNAME = "types.InputMediaDocumentExternal"
46 |
47 |     def __init__(self, *, url: str, spoiler: Optional[bool] = None, ttl_seconds: Optional[int] = None, video_cover: "raw.base.InputPho…
   |         ^^^^^^^^          -------- Parameter declared here
48 |         self.url = url  # string
49 |         self.spoiler = spoiler  # flags.1?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `get_input_media_from_file_id` is incorrect
   --> pyrogram/methods/messages/edit_inline_media.py:191:21
    |
189 |             else:
190 |                 media = utils.get_input_media_from_file_id(
191 |                     media.media,
    |                     ^^^^^^^^^^^ Expected `str`, found `Unknown | str | BinaryIO`
192 |                     FileType.ANIMATION,
193 |                 )
    |
info: Element `BinaryIO` of this union is not assignable to `str`
info: Function defined here
  --> pyrogram/utils.py:31:5
   |
31 | def get_input_media_from_file_id(
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
32 |     file_id: str,
   |     ------------ Parameter declared here
33 |     expected_file_type: FileType | None = None,
34 |     ttl_seconds: int | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `InputMediaUploadedDocument` is not assignable to `InputMedia`
   --> pyrogram/methods/messages/edit_inline_media.py:196:17
    |
194 |           elif isinstance(media, types.InputMediaDocument):
195 |               if is_uploaded_file:
196 |                   media = raw.types.InputMediaUploadedDocument(
    |  _________________-----___^
    | |                 |
    | |                 Declared type `InputMedia`
197 | |                     mime_type=(
198 | |                         None if is_bytes_io else self.guess_mime_type(media.media)
199 | |                     )
200 | |                     or "application/zip",
201 | |                     thumb=await self.save_file(media.thumb),
202 | |                     file=await self.save_file(media.media),
203 | |                     attributes=filename_attribute,
204 | |                     force_file=True,
205 | |                 )
    | |_________________^ Incompatible value of type `InputMediaUploadedDocument`
206 |               elif is_external_url:
207 |                   media = raw.types.InputMediaDocumentExternal(url=media.media)
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `guess_mime_type` is incorrect
   --> pyrogram/methods/messages/edit_inline_media.py:198:71
    |
196 |                 media = raw.types.InputMediaUploadedDocument(
197 |                     mime_type=(
198 |                         None if is_bytes_io else self.guess_mime_type(media.media)
    |                                                                       ^^^^^^^^^^^ Expected `str`, found `Unknown | str | BinaryIO`
199 |                     )
200 |                     or "application/zip",
    |
info: Element `BinaryIO` of this union is not assignable to `str`
info: Method defined here
    --> pyrogram/client.py:1247:9
     |
1245 |                 await session.stop()
1246 |
1247 |     def guess_mime_type(self, filename: str) -> str | None:
     |         ^^^^^^^^^^^^^^^       ------------- Parameter declared here
1248 |         return self.mimetypes.guess_type(filename)[0]
     |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/edit_inline_media.py:201:48
    |
199 |                     )
200 |                     or "application/zip",
201 |                     thumb=await self.save_file(media.thumb),
    |                                                ^^^^^^^^^^^ Expected `str | BinaryIO`, found `Unknown | str | None`
202 |                     file=await self.save_file(media.media),
203 |                     attributes=filename_attribute,
    |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `InputMediaDocumentExternal` is not assignable to `InputMedia`
   --> pyrogram/methods/messages/edit_inline_media.py:207:17
    |
205 |                 )
206 |             elif is_external_url:
207 |                 media = raw.types.InputMediaDocumentExternal(url=media.media)
    |                 -----   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `InputMediaDocumentExternal`
    |                 |
    |                 Declared type `InputMedia`
208 |             else:
209 |                 media = utils.get_input_media_from_file_id(
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/edit_inline_media.py:207:62
    |
205 |                 )
206 |             elif is_external_url:
207 |                 media = raw.types.InputMediaDocumentExternal(url=media.media)
    |                                                              ^^^^^^^^^^^^^^^ Expected `str`, found `Unknown | str | BinaryIO`
208 |             else:
209 |                 media = utils.get_input_media_from_file_id(
    |
info: Element `BinaryIO` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/raw/types/input_media_document_external.py:47:9
   |
45 |     QUALNAME = "types.InputMediaDocumentExternal"
46 |
47 |     def __init__(self, *, url: str, spoiler: Optional[bool] = None, ttl_seconds: Optional[int] = None, video_cover: "raw.base.InputPho…
   |         ^^^^^^^^          -------- Parameter declared here
48 |         self.url = url  # string
49 |         self.spoiler = spoiler  # flags.1?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `get_input_media_from_file_id` is incorrect
   --> pyrogram/methods/messages/edit_inline_media.py:210:21
    |
208 |             else:
209 |                 media = utils.get_input_media_from_file_id(
210 |                     media.media,
    |                     ^^^^^^^^^^^ Expected `str`, found `Unknown | str | BinaryIO`
211 |                     FileType.DOCUMENT,
212 |                 )
    |
info: Element `BinaryIO` of this union is not assignable to `str`
info: Function defined here
  --> pyrogram/utils.py:31:5
   |
31 | def get_input_media_from_file_id(
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
32 |     file_id: str,
   |     ------------ Parameter declared here
33 |     expected_file_type: FileType | None = None,
34 |     ttl_seconds: int | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/edit_inline_media.py:223:21
    |
221 |                 raw.functions.messages.UploadMedia(
222 |                     peer=raw.types.InputPeerSelf(),
223 |                     media=media,
    |                     ^^^^^^^^^^^ Expected `pyrogram.raw.base.input_media.InputMedia`, found `pyrogram.types.input_media.input_media.InputMedia | Any`
224 |                 ),
225 |             )
    |
info: Element `InputMedia` of this union is not assignable to `pyrogram.raw.base.input_media.InputMedia`
info: Method defined here
  --> pyrogram/raw/functions/messages/upload_media.py:42:9
   |
40 |     QUALNAME = "functions.messages.UploadMedia"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", business_connection_id: Optional[str] = None) -> N…
   |         ^^^^^^^^                                      ---------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/edit_inline_media.py:254:25
    |
252 |                     raw.functions.messages.EditInlineBotMessage(
253 |                         id=unpacked,
254 |                         media=actual_media,
    |                         ^^^^^^^^^^^^^^^^^^ Expected `pyrogram.raw.base.input_media.InputMedia`, found `InputMediaPhoto | InputMediaDocument | pyrogram.types.input_media.input_media.InputMedia | Any`
255 |                         reply_markup=await reply_markup.write(self)
256 |                         if reply_markup
    |
info: Element `InputMedia` of this union is not assignable to `pyrogram.raw.base.input_media.InputMedia`
info: Method defined here
  --> pyrogram/raw/functions/messages/edit_inline_bot_message.py:54:9
   |
52 | … QUALNAME = "functions.messages.EditInlineBotMessage"
53 | …
54 | … def __init__(self, *, id: "raw.base.InputBotInlineMessageID", no_webpage: Optional[bool] = None, invert_media: Optional[bool] = None, message: Optional[str] = None, media: "raw.base.InputMedia" = None, rep…
   |       ^^^^^^^^                                                                                                                                                         ----------------------------------- Parameter declared here
55 | …     self.id = id  # InputBotInlineMessageID
56 | …     self.no_webpage = no_webpage  # flags.1?true
   |
info: Union variant `bound method EditInlineBotMessage.__init__(*, id: InputBotInlineMessageID, no_webpage: bool | None = None, invert_media: bool | None = None, message: str | None = None, media: InputMedia = None, reply_markup: ReplyMarkup = None, entities: list[MessageEntity] | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method EditInlineBotMessage.__init__(*, id: InputBotInlineMessageID, no_webpage: bool | None = None, invert_media: bool | None = None, message: str | None = None, media: InputMedia = None, reply_markup: ReplyMarkup = None, entities: list[MessageEntity] | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/edit_inline_media.py:255:25
    |
253 |                           id=unpacked,
254 |                           media=actual_media,
255 | /                         reply_markup=await reply_markup.write(self)
256 | |                         if reply_markup
257 | |                         else None,
    | |_________________________________^ Expected `ReplyMarkup`, found `Unknown | None`
258 |                           **await self.parser.parse(caption, parse_mode),
259 |                       ),
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/functions/messages/edit_inline_bot_message.py:54:9
   |
52 | … QUALNAME = "functions.messages.EditInlineBotMessage"
53 | …
54 | … def __init__(self, *, id: "raw.base.InputBotInlineMessageID", no_webpage: Optional[bool] = None, invert_media: Optional[bool] = None, message: Optional[str] = None, media: "raw.base.InputMedia" = None, reply_markup: "raw.base.ReplyMarkup" = None, ent…
   |       ^^^^^^^^                                                                                                                                                                                              ------------------------------------------- Parameter declared here
55 | …     self.id = id  # InputBotInlineMessageID
56 | …     self.no_webpage = no_webpage  # flags.1?true
   |
info: Union variant `bound method EditInlineBotMessage.__init__(*, id: InputBotInlineMessageID, no_webpage: bool | None = None, invert_media: bool | None = None, message: str | None = None, media: InputMedia = None, reply_markup: ReplyMarkup = None, entities: list[MessageEntity] | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method EditInlineBotMessage.__init__(*, id: InputBotInlineMessageID, no_webpage: bool | None = None, invert_media: bool | None = None, message: str | None = None, media: InputMedia = None, reply_markup: ReplyMarkup = None, entities: list[MessageEntity] | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `parse` is incorrect
   --> pyrogram/methods/messages/edit_inline_media.py:258:60
    |
256 |                         if reply_markup
257 |                         else None,
258 |                         **await self.parser.parse(caption, parse_mode),
    |                                                            ^^^^^^^^^^ Expected `ParseMode | None`, found `Unknown | str | None`
259 |                     ),
260 |                     sleep_threshold=self.sleep_threshold,
    |
info: Element `str` of this union is not assignable to `ParseMode | None`
info: Method defined here
  --> pyrogram/parser/parser.py:16:15
   |
14 |         self.markdown = Markdown(client)
15 |
16 |     async def parse(self, text: str, mode: enums.ParseMode | None = None):
   |               ^^^^^                  ----------------------------------- Parameter declared here
17 |         text = str(text or "").strip()
   |
info: Union variant `bound method Parser.parse(text: str, mode: ParseMode | None = None) -> CoroutineType[Any, Any, Unknown]` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method Parser.parse(text: str, mode: ParseMode | None = None) -> CoroutineType[Any, Any, Unknown])`
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
   --> pyrogram/methods/messages/edit_inline_media.py:269:16
    |
267 |                     # Must wait due to a server race condition
268 |                     await asyncio.sleep(1)
269 |         return None
    |                ^^^^ expected `bool`, found `None`
    |
   ::: pyrogram/methods/messages/edit_inline_media.py:26:10
    |
 24 |         media: types.InputMedia,
 25 |         reply_markup: types.InlineKeyboardMarkup  | None = None,
 26 |     ) -> bool:
    |          ---- Expected `bool` because of return type
 27 |         """Edit animation, audio, document, photo or video messages, or replace text with animation, audio, document, photo or video m…
    |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/edit_inline_reply_markup.py:49:17
   |
47 |               raw.functions.messages.EditInlineBotMessage(
48 |                   id=unpacked,
49 | /                 reply_markup=await reply_markup.write(self)
50 | |                 if reply_markup
51 | |                 else None,
   | |_________________________^ Expected `ReplyMarkup`, found `Unknown | None`
52 |               ),
53 |               sleep_threshold=self.sleep_threshold,
   |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/functions/messages/edit_inline_bot_message.py:54:9
   |
52 | … QUALNAME = "functions.messages.EditInlineBotMessage"
53 | …
54 | … def __init__(self, *, id: "raw.base.InputBotInlineMessageID", no_webpage: Optional[bool] = None, invert_media: Optional[bool] = None, message: Optional[str] = None, media: "raw.base.InputMedia" = None, reply_markup: "raw.base.ReplyMarkup" = None, ent…
   |       ^^^^^^^^                                                                                                                                                                                              ------------------------------------------- Parameter declared here
55 | …     self.id = id  # InputBotInlineMessageID
56 | …     self.no_webpage = no_webpage  # flags.1?true
   |
info: Union variant `bound method EditInlineBotMessage.__init__(*, id: InputBotInlineMessageID, no_webpage: bool | None = None, invert_media: bool | None = None, message: str | None = None, media: InputMedia = None, reply_markup: ReplyMarkup = None, entities: list[MessageEntity] | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method EditInlineBotMessage.__init__(*, id: InputBotInlineMessageID, no_webpage: bool | None = None, invert_media: bool | None = None, message: str | None = None, media: InputMedia = None, reply_markup: ReplyMarkup = None, entities: list[MessageEntity] | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/edit_inline_text.py:70:17
   |
68 |                   id=unpacked,
69 |                   no_webpage=disable_web_page_preview or None,
70 | /                 reply_markup=await reply_markup.write(self)
71 | |                 if reply_markup
72 | |                 else None,
   | |_________________________^ Expected `ReplyMarkup`, found `Unknown | None`
73 |                   **await self.parser.parse(text, parse_mode),
74 |                   invert_media=invert_media,
   |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/functions/messages/edit_inline_bot_message.py:54:9
   |
52 | … QUALNAME = "functions.messages.EditInlineBotMessage"
53 | …
54 | … def __init__(self, *, id: "raw.base.InputBotInlineMessageID", no_webpage: Optional[bool] = None, invert_media: Optional[bool] = None, message: Optional[str] = None, media: "raw.base.InputMedia" = None, reply_markup: "raw.base.ReplyMarkup" = None, ent…
   |       ^^^^^^^^                                                                                                                                                                                              ------------------------------------------- Parameter declared here
55 | …     self.id = id  # InputBotInlineMessageID
56 | …     self.no_webpage = no_webpage  # flags.1?true
   |
info: Union variant `bound method EditInlineBotMessage.__init__(*, id: InputBotInlineMessageID, no_webpage: bool | None = None, invert_media: bool | None = None, message: str | None = None, media: InputMedia = None, reply_markup: ReplyMarkup = None, entities: list[MessageEntity] | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method EditInlineBotMessage.__init__(*, id: InputBotInlineMessageID, no_webpage: bool | None = None, invert_media: bool | None = None, message: str | None = None, media: InputMedia = None, reply_markup: ReplyMarkup = None, entities: list[MessageEntity] | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:101:25
    |
 99 |                 uploaded_media = await self.invoke(
100 |                     raw.functions.messages.UploadMedia(
101 |                         peer=await self.resolve_peer(chat_id),
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
102 |                         media=raw.types.InputMediaUploadedPhoto(
103 |                             file=await self.save_file(media.media),
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/upload_media.py:42:9
   |
40 |     QUALNAME = "functions.messages.UploadMedia"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", business_connection_id: Optional[str] = None) -> N…
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `InputMediaPhoto` is not assignable to `InputMedia`
   --> pyrogram/methods/messages/edit_message_media.py:109:17
    |
107 |                   )
108 |
109 |                   media = raw.types.InputMediaPhoto(
    |  _________________-----___^
    | |                 |
    | |                 Declared type `InputMedia`
110 | |                     id=raw.types.InputPhoto(
111 | |                         id=uploaded_media.photo.id,
112 | |                         access_hash=uploaded_media.photo.access_hash,
113 | |                         file_reference=uploaded_media.photo.file_reference,
114 | |                     ),
115 | |                     spoiler=media.has_spoiler,
116 | |                 )
    | |_________________^ Incompatible value of type `InputMediaPhoto`
117 |               elif re.match("^https?://", media.media):
118 |                   media = raw.types.InputMediaPhotoExternal(
    |
info: rule `invalid-assignment` is enabled by default

error[no-matching-overload]: No overload of function `match` matches arguments
   --> pyrogram/methods/messages/edit_message_media.py:117:18
    |
115 |                     spoiler=media.has_spoiler,
116 |                 )
117 |             elif re.match("^https?://", media.media):
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
118 |                 media = raw.types.InputMediaPhotoExternal(
119 |                     url=media.media,
    |
info: First overload defined here
   --> stdlib/re.pyi:463:5
    |
461 | def search(pattern: bytes | Pattern[bytes], string: ReadableBuffer, flags: _FlagsType = 0) -> Match[bytes] | None: ...
462 | @overload
463 | def match(pattern: str | Pattern[str], string: str, flags: _FlagsType = 0) -> Match[str] | None:
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
464 |     """Try to apply the pattern at the start of the string, returning
465 |     a Match object, or None if no match was found.
    |
info: Possible overloads for function `match`:
info:   (pattern: str | Pattern[str], string: str, flags: int = 0) -> Match[str] | None
info:   (pattern: bytes | Pattern[bytes], string: Buffer, flags: int = 0) -> Match[bytes] | None
info: rule `no-matching-overload` is enabled by default

error[invalid-assignment]: Object of type `InputMediaPhotoExternal` is not assignable to `InputMedia`
   --> pyrogram/methods/messages/edit_message_media.py:118:17
    |
116 |                   )
117 |               elif re.match("^https?://", media.media):
118 |                   media = raw.types.InputMediaPhotoExternal(
    |  _________________-----___^
    | |                 |
    | |                 Declared type `InputMedia`
119 | |                     url=media.media,
120 | |                     spoiler=media.has_spoiler,
121 | |                 )
    | |_________________^ Incompatible value of type `InputMediaPhotoExternal`
122 |               else:
123 |                   media = utils.get_input_media_from_file_id(
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:119:21
    |
117 |             elif re.match("^https?://", media.media):
118 |                 media = raw.types.InputMediaPhotoExternal(
119 |                     url=media.media,
    |                     ^^^^^^^^^^^^^^^ Expected `str`, found `(Unknown & ~BytesIO) | str | (BinaryIO & ~BytesIO)`
120 |                     spoiler=media.has_spoiler,
121 |                 )
    |
info: Element `BinaryIO & ~BytesIO` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/raw/types/input_media_photo_external.py:41:9
   |
39 |     QUALNAME = "types.InputMediaPhotoExternal"
40 |
41 |     def __init__(self, *, url: str, spoiler: Optional[bool] = None, ttl_seconds: Optional[int] = None) -> None:
   |         ^^^^^^^^          -------- Parameter declared here
42 |         self.url = url  # string
43 |         self.spoiler = spoiler  # flags.1?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `get_input_media_from_file_id` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:124:21
    |
122 |             else:
123 |                 media = utils.get_input_media_from_file_id(
124 |                     media.media,
    |                     ^^^^^^^^^^^ Expected `str`, found `(Unknown & ~BytesIO) | str | (BinaryIO & ~BytesIO)`
125 |                     FileType.PHOTO,
126 |                 )
    |
info: Element `BinaryIO & ~BytesIO` of this union is not assignable to `str`
info: Function defined here
  --> pyrogram/utils.py:31:5
   |
31 | def get_input_media_from_file_id(
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
32 |     file_id: str,
   |     ------------ Parameter declared here
33 |     expected_file_type: FileType | None = None,
34 |     ttl_seconds: int | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:134:25
    |
132 |                 uploaded_media = await self.invoke(
133 |                     raw.functions.messages.UploadMedia(
134 |                         peer=await self.resolve_peer(chat_id),
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
135 |                         media=raw.types.InputMediaUploadedDocument(
136 |                             mime_type=self.guess_mime_type(media.media)
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/upload_media.py:42:9
   |
40 |     QUALNAME = "functions.messages.UploadMedia"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", business_connection_id: Optional[str] = None) -> N…
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `guess_mime_type` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:136:60
    |
134 |                         peer=await self.resolve_peer(chat_id),
135 |                         media=raw.types.InputMediaUploadedDocument(
136 |                             mime_type=self.guess_mime_type(media.media)
    |                                                            ^^^^^^^^^^^ Expected `str`, found `BytesIO | str`
137 |                             or "video/mp4",
138 |                             thumb=await self.save_file(media.thumb),
    |
info: Element `BytesIO` of this union is not assignable to `str`
info: Method defined here
    --> pyrogram/client.py:1247:9
     |
1245 |                 await session.stop()
1246 |
1247 |     def guess_mime_type(self, filename: str) -> str | None:
     |         ^^^^^^^^^^^^^^^       ------------- Parameter declared here
1248 |         return self.mimetypes.guess_type(filename)[0]
     |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:138:56
    |
136 | …                     mime_type=self.guess_mime_type(media.media)
137 | …                     or "video/mp4",
138 | …                     thumb=await self.save_file(media.thumb),
    |                                                  ^^^^^^^^^^^ Expected `str | BinaryIO`, found `Unknown | str | None`
139 | …                     spoiler=media.has_spoiler,
140 | …                     file=await self.save_file(media.media),
    |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `__new__` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:150:65
    |
148 | …                         ),
149 | …                         raw.types.DocumentAttributeFilename(
150 | …                             file_name=file_name or Path(media.media).name,
    |                                                           ^^^^^^^^^^^ Expected `str | PathLike[str]`, found `BytesIO | str`
151 | …                         ),
152 | …                     ],
    |
info: Element `BytesIO` of this union is not assignable to `str | PathLike[str]`
info: Function defined here
   --> stdlib/pathlib/__init__.pyi:310:13
    |
308 |         def __new__(cls, *args: StrPath, **kwargs: Unused) -> Self: ...  # pyright: ignore[reportInconsistentConstructor]
309 |     else:
310 |         def __new__(cls, *args: StrPath, **kwargs: Unused) -> Self: ...
    |             ^^^^^^^      -------------- Parameter declared here
311 |
312 |     @classmethod
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `InputMediaDocument` is not assignable to `InputMedia`
   --> pyrogram/methods/messages/edit_message_media.py:157:17
    |
155 |                   )
156 |
157 |                   media = raw.types.InputMediaDocument(
    |  _________________-----___^
    | |                 |
    | |                 Declared type `InputMedia`
158 | |                     id=raw.types.InputDocument(
159 | |                         id=uploaded_media.document.id,
160 | |                         access_hash=uploaded_media.document.access_hash,
161 | |                         file_reference=uploaded_media.document.file_reference,
162 | |                     ),
163 | |                     spoiler=media.has_spoiler,
164 | |                 )
    | |_________________^ Incompatible value of type `InputMediaDocument`
165 |               elif re.match("^https?://", media.media):
166 |                   media = raw.types.InputMediaDocumentExternal(
    |
info: rule `invalid-assignment` is enabled by default

error[no-matching-overload]: No overload of function `match` matches arguments
   --> pyrogram/methods/messages/edit_message_media.py:165:18
    |
163 |                     spoiler=media.has_spoiler,
164 |                 )
165 |             elif re.match("^https?://", media.media):
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
166 |                 media = raw.types.InputMediaDocumentExternal(
167 |                     url=media.media,
    |
info: First overload defined here
   --> stdlib/re.pyi:463:5
    |
461 | def search(pattern: bytes | Pattern[bytes], string: ReadableBuffer, flags: _FlagsType = 0) -> Match[bytes] | None: ...
462 | @overload
463 | def match(pattern: str | Pattern[str], string: str, flags: _FlagsType = 0) -> Match[str] | None:
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
464 |     """Try to apply the pattern at the start of the string, returning
465 |     a Match object, or None if no match was found.
    |
info: Possible overloads for function `match`:
info:   (pattern: str | Pattern[str], string: str, flags: int = 0) -> Match[str] | None
info:   (pattern: bytes | Pattern[bytes], string: Buffer, flags: int = 0) -> Match[bytes] | None
info: rule `no-matching-overload` is enabled by default

error[invalid-assignment]: Object of type `InputMediaDocumentExternal` is not assignable to `InputMedia`
   --> pyrogram/methods/messages/edit_message_media.py:166:17
    |
164 |                   )
165 |               elif re.match("^https?://", media.media):
166 |                   media = raw.types.InputMediaDocumentExternal(
    |  _________________-----___^
    | |                 |
    | |                 Declared type `InputMedia`
167 | |                     url=media.media,
168 | |                     spoiler=media.has_spoiler,
169 | |                 )
    | |_________________^ Incompatible value of type `InputMediaDocumentExternal`
170 |               else:
171 |                   media = utils.get_input_media_from_file_id(
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:167:21
    |
165 |             elif re.match("^https?://", media.media):
166 |                 media = raw.types.InputMediaDocumentExternal(
167 |                     url=media.media,
    |                     ^^^^^^^^^^^^^^^ Expected `str`, found `(Unknown & ~BytesIO) | str | (BinaryIO & ~BytesIO)`
168 |                     spoiler=media.has_spoiler,
169 |                 )
    |
info: Element `BinaryIO & ~BytesIO` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/raw/types/input_media_document_external.py:47:9
   |
45 |     QUALNAME = "types.InputMediaDocumentExternal"
46 |
47 |     def __init__(self, *, url: str, spoiler: Optional[bool] = None, ttl_seconds: Optional[int] = None, video_cover: "raw.base.InputPho…
   |         ^^^^^^^^          -------- Parameter declared here
48 |         self.url = url  # string
49 |         self.spoiler = spoiler  # flags.1?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `get_input_media_from_file_id` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:172:21
    |
170 |             else:
171 |                 media = utils.get_input_media_from_file_id(
172 |                     media.media,
    |                     ^^^^^^^^^^^ Expected `str`, found `(Unknown & ~BytesIO) | str | (BinaryIO & ~BytesIO)`
173 |                     FileType.VIDEO,
174 |                 )
    |
info: Element `BinaryIO & ~BytesIO` of this union is not assignable to `str`
info: Function defined here
  --> pyrogram/utils.py:31:5
   |
31 | def get_input_media_from_file_id(
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
32 |     file_id: str,
   |     ------------ Parameter declared here
33 |     expected_file_type: FileType | None = None,
34 |     ttl_seconds: int | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:182:25
    |
180 |                 media = await self.invoke(
181 |                     raw.functions.messages.UploadMedia(
182 |                         peer=await self.resolve_peer(chat_id),
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
183 |                         media=raw.types.InputMediaUploadedDocument(
184 |                             mime_type=self.guess_mime_type(media.media)
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/upload_media.py:42:9
   |
40 |     QUALNAME = "functions.messages.UploadMedia"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", business_connection_id: Optional[str] = None) -> N…
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `guess_mime_type` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:184:60
    |
182 |                         peer=await self.resolve_peer(chat_id),
183 |                         media=raw.types.InputMediaUploadedDocument(
184 |                             mime_type=self.guess_mime_type(media.media)
    |                                                            ^^^^^^^^^^^ Expected `str`, found `BytesIO | str`
185 |                             or "audio/mpeg",
186 |                             thumb=await self.save_file(media.thumb),
    |
info: Element `BytesIO` of this union is not assignable to `str`
info: Method defined here
    --> pyrogram/client.py:1247:9
     |
1245 |                 await session.stop()
1246 |
1247 |     def guess_mime_type(self, filename: str) -> str | None:
     |         ^^^^^^^^^^^^^^^       ------------- Parameter declared here
1248 |         return self.mimetypes.guess_type(filename)[0]
     |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:186:56
    |
184 | …                     mime_type=self.guess_mime_type(media.media)
185 | …                     or "audio/mpeg",
186 | …                     thumb=await self.save_file(media.thumb),
    |                                                  ^^^^^^^^^^^ Expected `str | BinaryIO`, found `Unknown | str | None`
187 | …                     file=await self.save_file(media.media),
188 | …                     attributes=[
    |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `__new__` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:195:65
    |
193 | …                         ),
194 | …                         raw.types.DocumentAttributeFilename(
195 | …                             file_name=file_name or Path(media.media).name,
    |                                                           ^^^^^^^^^^^ Expected `str | PathLike[str]`, found `BytesIO | str`
196 | …                         ),
197 | …                     ],
    |
info: Element `BytesIO` of this union is not assignable to `str | PathLike[str]`
info: Function defined here
   --> stdlib/pathlib/__init__.pyi:310:13
    |
308 |         def __new__(cls, *args: StrPath, **kwargs: Unused) -> Self: ...  # pyright: ignore[reportInconsistentConstructor]
309 |     else:
310 |         def __new__(cls, *args: StrPath, **kwargs: Unused) -> Self: ...
    |             ^^^^^^^      -------------- Parameter declared here
311 |
312 |     @classmethod
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `InputMediaDocument` is not assignable to `InputMedia`
   --> pyrogram/methods/messages/edit_message_media.py:202:17
    |
200 |                   )
201 |
202 |                   media = raw.types.InputMediaDocument(
    |  _________________-----___^
    | |                 |
    | |                 Declared type `InputMedia`
203 | |                     id=raw.types.InputDocument(
204 | |                         id=media.document.id,
205 | |                         access_hash=media.document.access_hash,
206 | |                         file_reference=media.document.file_reference,
207 | |                     ),
208 | |                 )
    | |_________________^ Incompatible value of type `InputMediaDocument`
209 |               elif re.match("^https?://", media.media):
210 |                   media = raw.types.InputMediaDocumentExternal(url=media.media)
    |
info: rule `invalid-assignment` is enabled by default

error[no-matching-overload]: No overload of function `match` matches arguments
   --> pyrogram/methods/messages/edit_message_media.py:209:18
    |
207 |                     ),
208 |                 )
209 |             elif re.match("^https?://", media.media):
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
210 |                 media = raw.types.InputMediaDocumentExternal(url=media.media)
211 |             else:
    |
info: First overload defined here
   --> stdlib/re.pyi:463:5
    |
461 | def search(pattern: bytes | Pattern[bytes], string: ReadableBuffer, flags: _FlagsType = 0) -> Match[bytes] | None: ...
462 | @overload
463 | def match(pattern: str | Pattern[str], string: str, flags: _FlagsType = 0) -> Match[str] | None:
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
464 |     """Try to apply the pattern at the start of the string, returning
465 |     a Match object, or None if no match was found.
    |
info: Possible overloads for function `match`:
info:   (pattern: str | Pattern[str], string: str, flags: int = 0) -> Match[str] | None
info:   (pattern: bytes | Pattern[bytes], string: Buffer, flags: int = 0) -> Match[bytes] | None
info: rule `no-matching-overload` is enabled by default

error[invalid-assignment]: Object of type `InputMediaDocumentExternal` is not assignable to `InputMedia`
   --> pyrogram/methods/messages/edit_message_media.py:210:17
    |
208 |                 )
209 |             elif re.match("^https?://", media.media):
210 |                 media = raw.types.InputMediaDocumentExternal(url=media.media)
    |                 -----   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `InputMediaDocumentExternal`
    |                 |
    |                 Declared type `InputMedia`
211 |             else:
212 |                 media = utils.get_input_media_from_file_id(
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:210:62
    |
208 |                 )
209 |             elif re.match("^https?://", media.media):
210 |                 media = raw.types.InputMediaDocumentExternal(url=media.media)
    |                                                              ^^^^^^^^^^^^^^^ Expected `str`, found `(Unknown & ~BytesIO) | str | (BinaryIO & ~BytesIO)`
211 |             else:
212 |                 media = utils.get_input_media_from_file_id(
    |
info: Element `BinaryIO & ~BytesIO` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/raw/types/input_media_document_external.py:47:9
   |
45 |     QUALNAME = "types.InputMediaDocumentExternal"
46 |
47 |     def __init__(self, *, url: str, spoiler: Optional[bool] = None, ttl_seconds: Optional[int] = None, video_cover: "raw.base.InputPho…
   |         ^^^^^^^^          -------- Parameter declared here
48 |         self.url = url  # string
49 |         self.spoiler = spoiler  # flags.1?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `get_input_media_from_file_id` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:213:21
    |
211 |             else:
212 |                 media = utils.get_input_media_from_file_id(
213 |                     media.media,
    |                     ^^^^^^^^^^^ Expected `str`, found `(Unknown & ~BytesIO) | str | (BinaryIO & ~BytesIO)`
214 |                     FileType.AUDIO,
215 |                 )
    |
info: Element `BinaryIO & ~BytesIO` of this union is not assignable to `str`
info: Function defined here
  --> pyrogram/utils.py:31:5
   |
31 | def get_input_media_from_file_id(
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
32 |     file_id: str,
   |     ------------ Parameter declared here
33 |     expected_file_type: FileType | None = None,
34 |     ttl_seconds: int | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:223:25
    |
221 |                 uploaded_media = await self.invoke(
222 |                     raw.functions.messages.UploadMedia(
223 |                         peer=await self.resolve_peer(chat_id),
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
224 |                         media=raw.types.InputMediaUploadedDocument(
225 |                             mime_type=self.guess_mime_type(media.media)
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/upload_media.py:42:9
   |
40 |     QUALNAME = "functions.messages.UploadMedia"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", business_connection_id: Optional[str] = None) -> N…
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `guess_mime_type` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:225:60
    |
223 |                         peer=await self.resolve_peer(chat_id),
224 |                         media=raw.types.InputMediaUploadedDocument(
225 |                             mime_type=self.guess_mime_type(media.media)
    |                                                            ^^^^^^^^^^^ Expected `str`, found `BytesIO | str`
226 |                             or "video/mp4",
227 |                             thumb=await self.save_file(media.thumb),
    |
info: Element `BytesIO` of this union is not assignable to `str`
info: Method defined here
    --> pyrogram/client.py:1247:9
     |
1245 |                 await session.stop()
1246 |
1247 |     def guess_mime_type(self, filename: str) -> str | None:
     |         ^^^^^^^^^^^^^^^       ------------- Parameter declared here
1248 |         return self.mimetypes.guess_type(filename)[0]
     |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:227:56
    |
225 | …                     mime_type=self.guess_mime_type(media.media)
226 | …                     or "video/mp4",
227 | …                     thumb=await self.save_file(media.thumb),
    |                                                  ^^^^^^^^^^^ Expected `str | BinaryIO`, found `Unknown | str | None`
228 | …                     spoiler=media.has_spoiler,
229 | …                     file=await self.save_file(media.media),
    |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `__new__` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:238:65
    |
236 | …                     ),
237 | …                     raw.types.DocumentAttributeFilename(
238 | …                         file_name=file_name or Path(media.media).name,
    |                                                       ^^^^^^^^^^^ Expected `str | PathLike[str]`, found `BytesIO | str`
239 | …                     ),
240 | …                     raw.types.DocumentAttributeAnimated(),
    |
info: Element `BytesIO` of this union is not assignable to `str | PathLike[str]`
info: Function defined here
   --> stdlib/pathlib/__init__.pyi:310:13
    |
308 |         def __new__(cls, *args: StrPath, **kwargs: Unused) -> Self: ...  # pyright: ignore[reportInconsistentConstructor]
309 |     else:
310 |         def __new__(cls, *args: StrPath, **kwargs: Unused) -> Self: ...
    |             ^^^^^^^      -------------- Parameter declared here
311 |
312 |     @classmethod
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `InputMediaDocument` is not assignable to `InputMedia`
   --> pyrogram/methods/messages/edit_message_media.py:246:17
    |
244 |                   )
245 |
246 |                   media = raw.types.InputMediaDocument(
    |  _________________-----___^
    | |                 |
    | |                 Declared type `InputMedia`
247 | |                     id=raw.types.InputDocument(
248 | |                         id=uploaded_media.document.id,
249 | |                         access_hash=uploaded_media.document.access_hash,
250 | |                         file_reference=uploaded_media.document.file_reference,
251 | |                     ),
252 | |                     spoiler=media.has_spoiler,
253 | |                 )
    | |_________________^ Incompatible value of type `InputMediaDocument`
254 |               elif re.match("^https?://", media.media):
255 |                   media = raw.types.InputMediaDocumentExternal(
    |
info: rule `invalid-assignment` is enabled by default

error[no-matching-overload]: No overload of function `match` matches arguments
   --> pyrogram/methods/messages/edit_message_media.py:254:18
    |
252 |                     spoiler=media.has_spoiler,
253 |                 )
254 |             elif re.match("^https?://", media.media):
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
255 |                 media = raw.types.InputMediaDocumentExternal(
256 |                     url=media.media,
    |
info: First overload defined here
   --> stdlib/re.pyi:463:5
    |
461 | def search(pattern: bytes | Pattern[bytes], string: ReadableBuffer, flags: _FlagsType = 0) -> Match[bytes] | None: ...
462 | @overload
463 | def match(pattern: str | Pattern[str], string: str, flags: _FlagsType = 0) -> Match[str] | None:
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
464 |     """Try to apply the pattern at the start of the string, returning
465 |     a Match object, or None if no match was found.
    |
info: Possible overloads for function `match`:
info:   (pattern: str | Pattern[str], string: str, flags: int = 0) -> Match[str] | None
info:   (pattern: bytes | Pattern[bytes], string: Buffer, flags: int = 0) -> Match[bytes] | None
info: rule `no-matching-overload` is enabled by default

error[invalid-assignment]: Object of type `InputMediaDocumentExternal` is not assignable to `InputMedia`
   --> pyrogram/methods/messages/edit_message_media.py:255:17
    |
253 |                   )
254 |               elif re.match("^https?://", media.media):
255 |                   media = raw.types.InputMediaDocumentExternal(
    |  _________________-----___^
    | |                 |
    | |                 Declared type `InputMedia`
256 | |                     url=media.media,
257 | |                     spoiler=media.has_spoiler,
258 | |                 )
    | |_________________^ Incompatible value of type `InputMediaDocumentExternal`
259 |               else:
260 |                   media = utils.get_input_media_from_file_id(
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:256:21
    |
254 |             elif re.match("^https?://", media.media):
255 |                 media = raw.types.InputMediaDocumentExternal(
256 |                     url=media.media,
    |                     ^^^^^^^^^^^^^^^ Expected `str`, found `(Unknown & ~BytesIO) | str | (BinaryIO & ~BytesIO)`
257 |                     spoiler=media.has_spoiler,
258 |                 )
    |
info: Element `BinaryIO & ~BytesIO` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/raw/types/input_media_document_external.py:47:9
   |
45 |     QUALNAME = "types.InputMediaDocumentExternal"
46 |
47 |     def __init__(self, *, url: str, spoiler: Optional[bool] = None, ttl_seconds: Optional[int] = None, video_cover: "raw.base.InputPho…
   |         ^^^^^^^^          -------- Parameter declared here
48 |         self.url = url  # string
49 |         self.spoiler = spoiler  # flags.1?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `get_input_media_from_file_id` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:261:21
    |
259 |             else:
260 |                 media = utils.get_input_media_from_file_id(
261 |                     media.media,
    |                     ^^^^^^^^^^^ Expected `str`, found `(Unknown & ~BytesIO) | str | (BinaryIO & ~BytesIO)`
262 |                     FileType.ANIMATION,
263 |                 )
    |
info: Element `BinaryIO & ~BytesIO` of this union is not assignable to `str`
info: Function defined here
  --> pyrogram/utils.py:31:5
   |
31 | def get_input_media_from_file_id(
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
32 |     file_id: str,
   |     ------------ Parameter declared here
33 |     expected_file_type: FileType | None = None,
34 |     ttl_seconds: int | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:271:25
    |
269 |                 media = await self.invoke(
270 |                     raw.functions.messages.UploadMedia(
271 |                         peer=await self.resolve_peer(chat_id),
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
272 |                         media=raw.types.InputMediaUploadedDocument(
273 |                             mime_type=self.guess_mime_type(media.media)
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/upload_media.py:42:9
   |
40 |     QUALNAME = "functions.messages.UploadMedia"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", business_connection_id: Optional[str] = None) -> N…
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `guess_mime_type` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:273:60
    |
271 |                         peer=await self.resolve_peer(chat_id),
272 |                         media=raw.types.InputMediaUploadedDocument(
273 |                             mime_type=self.guess_mime_type(media.media)
    |                                                            ^^^^^^^^^^^ Expected `str`, found `BytesIO | str`
274 |                             or "application/zip",
275 |                             thumb=await self.save_file(media.thumb),
    |
info: Element `BytesIO` of this union is not assignable to `str`
info: Method defined here
    --> pyrogram/client.py:1247:9
     |
1245 |                 await session.stop()
1246 |
1247 |     def guess_mime_type(self, filename: str) -> str | None:
     |         ^^^^^^^^^^^^^^^       ------------- Parameter declared here
1248 |         return self.mimetypes.guess_type(filename)[0]
     |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:275:56
    |
273 | …                     mime_type=self.guess_mime_type(media.media)
274 | …                     or "application/zip",
275 | …                     thumb=await self.save_file(media.thumb),
    |                                                  ^^^^^^^^^^^ Expected `str | BinaryIO`, found `Unknown | str | None`
276 | …                     file=await self.save_file(media.media),
277 | …                     attributes=[
    |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `__new__` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:279:65
    |
277 | …                     attributes=[
278 | …                         raw.types.DocumentAttributeFilename(
279 | …                             file_name=file_name or Path(media.media).name,
    |                                                           ^^^^^^^^^^^ Expected `str | PathLike[str]`, found `BytesIO | str`
280 | …                         ),
281 | …                     ],
    |
info: Element `BytesIO` of this union is not assignable to `str | PathLike[str]`
info: Function defined here
   --> stdlib/pathlib/__init__.pyi:310:13
    |
308 |         def __new__(cls, *args: StrPath, **kwargs: Unused) -> Self: ...  # pyright: ignore[reportInconsistentConstructor]
309 |     else:
310 |         def __new__(cls, *args: StrPath, **kwargs: Unused) -> Self: ...
    |             ^^^^^^^      -------------- Parameter declared here
311 |
312 |     @classmethod
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `InputMediaDocument` is not assignable to `InputMedia`
   --> pyrogram/methods/messages/edit_message_media.py:286:17
    |
284 |                   )
285 |
286 |                   media = raw.types.InputMediaDocument(
    |  _________________-----___^
    | |                 |
    | |                 Declared type `InputMedia`
287 | |                     id=raw.types.InputDocument(
288 | |                         id=media.document.id,
289 | |                         access_hash=media.document.access_hash,
290 | |                         file_reference=media.document.file_reference,
291 | |                     ),
292 | |                 )
    | |_________________^ Incompatible value of type `InputMediaDocument`
293 |               elif re.match("^https?://", media.media):
294 |                   media = raw.types.InputMediaDocumentExternal(url=media.media)
    |
info: rule `invalid-assignment` is enabled by default

error[no-matching-overload]: No overload of function `match` matches arguments
   --> pyrogram/methods/messages/edit_message_media.py:293:18
    |
291 |                     ),
292 |                 )
293 |             elif re.match("^https?://", media.media):
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
294 |                 media = raw.types.InputMediaDocumentExternal(url=media.media)
295 |             else:
    |
info: First overload defined here
   --> stdlib/re.pyi:463:5
    |
461 | def search(pattern: bytes | Pattern[bytes], string: ReadableBuffer, flags: _FlagsType = 0) -> Match[bytes] | None: ...
462 | @overload
463 | def match(pattern: str | Pattern[str], string: str, flags: _FlagsType = 0) -> Match[str] | None:
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
464 |     """Try to apply the pattern at the start of the string, returning
465 |     a Match object, or None if no match was found.
    |
info: Possible overloads for function `match`:
info:   (pattern: str | Pattern[str], string: str, flags: int = 0) -> Match[str] | None
info:   (pattern: bytes | Pattern[bytes], string: Buffer, flags: int = 0) -> Match[bytes] | None
info: rule `no-matching-overload` is enabled by default

error[invalid-assignment]: Object of type `InputMediaDocumentExternal` is not assignable to `InputMedia`
   --> pyrogram/methods/messages/edit_message_media.py:294:17
    |
292 |                 )
293 |             elif re.match("^https?://", media.media):
294 |                 media = raw.types.InputMediaDocumentExternal(url=media.media)
    |                 -----   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `InputMediaDocumentExternal`
    |                 |
    |                 Declared type `InputMedia`
295 |             else:
296 |                 media = utils.get_input_media_from_file_id(
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:294:62
    |
292 |                 )
293 |             elif re.match("^https?://", media.media):
294 |                 media = raw.types.InputMediaDocumentExternal(url=media.media)
    |                                                              ^^^^^^^^^^^^^^^ Expected `str`, found `(Unknown & ~BytesIO) | str | (BinaryIO & ~BytesIO)`
295 |             else:
296 |                 media = utils.get_input_media_from_file_id(
    |
info: Element `BinaryIO & ~BytesIO` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/raw/types/input_media_document_external.py:47:9
   |
45 |     QUALNAME = "types.InputMediaDocumentExternal"
46 |
47 |     def __init__(self, *, url: str, spoiler: Optional[bool] = None, ttl_seconds: Optional[int] = None, video_cover: "raw.base.InputPho…
   |         ^^^^^^^^          -------- Parameter declared here
48 |         self.url = url  # string
49 |         self.spoiler = spoiler  # flags.1?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `get_input_media_from_file_id` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:297:21
    |
295 |             else:
296 |                 media = utils.get_input_media_from_file_id(
297 |                     media.media,
    |                     ^^^^^^^^^^^ Expected `str`, found `(Unknown & ~BytesIO) | str | (BinaryIO & ~BytesIO)`
298 |                     FileType.DOCUMENT,
299 |                 )
    |
info: Element `BinaryIO & ~BytesIO` of this union is not assignable to `str`
info: Function defined here
  --> pyrogram/utils.py:31:5
   |
31 | def get_input_media_from_file_id(
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
32 |     file_id: str,
   |     ------------ Parameter declared here
33 |     expected_file_type: FileType | None = None,
34 |     ttl_seconds: int | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:302:13
    |
301 |         rpc = raw.functions.messages.EditMessage(
302 |             peer=await self.resolve_peer(chat_id),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
303 |             id=message_id,
304 |             media=media,
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/edit_message.py:66:9
   |
64 |     QUALNAME = "functions.messages.EditMessage"
65 |
66 |     def __init__(self, *, peer: "raw.base.InputPeer", id: int, no_webpage: Optional[bool] = None, invert_media: Optional[bool] = None,…
   |         ^^^^^^^^          -------------------------- Parameter declared here
67 |         self.peer = peer  # InputPeer
68 |         self.id = id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:304:13
    |
302 |             peer=await self.resolve_peer(chat_id),
303 |             id=message_id,
304 |             media=media,
    |             ^^^^^^^^^^^ Expected `pyrogram.raw.base.input_media.InputMedia`, found `pyrogram.types.input_media.input_media.InputMedia | Any`
305 |             reply_markup=await reply_markup.write(self) if reply_markup else None,
306 |             message=message,
    |
info: Element `InputMedia` of this union is not assignable to `pyrogram.raw.base.input_media.InputMedia`
info: Method defined here
  --> pyrogram/raw/functions/messages/edit_message.py:66:9
   |
64 | … QUALNAME = "functions.messages.EditMessage"
65 | …
66 | … def __init__(self, *, peer: "raw.base.InputPeer", id: int, no_webpage: Optional[bool] = None, invert_media: Optional[bool] = None, message: Optional[str] = None, media: "raw.base.InputMedia" = None, rep…
   |       ^^^^^^^^                                                                                                                                                      ----------------------------------- Parameter declared here
67 | …     self.peer = peer  # InputPeer
68 | …     self.id = id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/edit_message_media.py:305:13
    |
303 |             id=message_id,
304 |             media=media,
305 |             reply_markup=await reply_markup.write(self) if reply_markup else None,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `ReplyMarkup`, found `Unknown | None`
306 |             message=message,
307 |             entities=entities,
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/functions/messages/edit_message.py:66:9
   |
64 | … QUALNAME = "functions.messages.EditMessage"
65 | …
66 | … def __init__(self, *, peer: "raw.base.InputPeer", id: int, no_webpage: Optional[bool] = None, invert_media: Optional[bool] = None, message: Optional[str] = None, media: "raw.base.InputMedia" = None, reply_markup: "raw.base.ReplyMarkup" = None, ent…
   |       ^^^^^^^^                                                                                                                                                                                           ------------------------------------------- Parameter declared here
67 | …     self.peer = peer  # InputPeer
68 | …     self.id = id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
   --> pyrogram/methods/messages/edit_message_media.py:331:16
    |
329 |                     {i.id: i for i in r.chats},
330 |                 )
331 |         return None
    |                ^^^^ expected `Message`, found `None`
    |
   ::: pyrogram/methods/messages/edit_message_media.py:25:10
    |
 23 |         business_connection_id: str | None = None,
 24 |         invert_media: bool = False,
 25 |     ) -> types.Message:
    |          ------------- Expected `Message` because of return type
 26 |         """Edit animation, audio, document, photo or video messages, or replace text with animation, audio, document, photo or video m…
    |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/edit_message_reply_markup.py:51:13
   |
49 |         """
50 |         rpc = raw.functions.messages.EditMessage(
51 |             peer=await self.resolve_peer(chat_id),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
52 |             id=message_id,
53 |             reply_markup=await reply_markup.write(self) if reply_markup else None,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/edit_message.py:66:9
   |
64 |     QUALNAME = "functions.messages.EditMessage"
65 |
66 |     def __init__(self, *, peer: "raw.base.InputPeer", id: int, no_webpage: Optional[bool] = None, invert_media: Optional[bool] = None,…
   |         ^^^^^^^^          -------------------------- Parameter declared here
67 |         self.peer = peer  # InputPeer
68 |         self.id = id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/edit_message_reply_markup.py:53:13
   |
51 |             peer=await self.resolve_peer(chat_id),
52 |             id=message_id,
53 |             reply_markup=await reply_markup.write(self) if reply_markup else None,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `ReplyMarkup`, found `Unknown | None`
54 |         )
55 |         if business_connection_id is not None:
   |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/functions/messages/edit_message.py:66:9
   |
64 | … QUALNAME = "functions.messages.EditMessage"
65 | …
66 | … def __init__(self, *, peer: "raw.base.InputPeer", id: int, no_webpage: Optional[bool] = None, invert_media: Optional[bool] = None, message: Optional[str] = None, media: "raw.base.InputMedia" = None, reply_markup: "raw.base.ReplyMarkup" = None, ent…
   |       ^^^^^^^^                                                                                                                                                                                           ------------------------------------------- Parameter declared here
67 | …     self.peer = peer  # InputPeer
68 | …     self.id = id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/messages/edit_message_reply_markup.py:76:16
   |
74 |                     {i.id: i for i in r.chats},
75 |                 )
76 |         return None
   |                ^^^^ expected `Message`, found `None`
   |
  ::: pyrogram/methods/messages/edit_message_reply_markup.py:14:10
   |
12 |         reply_markup: types.InlineKeyboardMarkup  | None = None,
13 |         business_connection_id: str | None = None,
14 |     ) -> types.Message:
   |          ------------- Expected `Message` because of return type
15 |         """Edit only the reply markup of messages sent by the bot.
   |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/edit_message_text.py:73:13
   |
72 |         rpc = raw.functions.messages.EditMessage(
73 |             peer=await self.resolve_peer(chat_id),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
74 |             id=message_id,
75 |             no_webpage=disable_web_page_preview or None,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/edit_message.py:66:9
   |
64 |     QUALNAME = "functions.messages.EditMessage"
65 |
66 |     def __init__(self, *, peer: "raw.base.InputPeer", id: int, no_webpage: Optional[bool] = None, invert_media: Optional[bool] = None,…
   |         ^^^^^^^^          -------------------------- Parameter declared here
67 |         self.peer = peer  # InputPeer
68 |         self.id = id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/edit_message_text.py:77:13
   |
75 |             no_webpage=disable_web_page_preview or None,
76 |             invert_media=invert_media,
77 |             reply_markup=await reply_markup.write(self) if reply_markup else None,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `ReplyMarkup`, found `Unknown | None`
78 |             **await utils.parse_text_entities(self, text, parse_mode, entities),
79 |         )
   |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/functions/messages/edit_message.py:66:9
   |
64 | … QUALNAME = "functions.messages.EditMessage"
65 | …
66 | … def __init__(self, *, peer: "raw.base.InputPeer", id: int, no_webpage: Optional[bool] = None, invert_media: Optional[bool] = None, message: Optional[str] = None, media: "raw.base.InputMedia" = None, reply_markup: "raw.base.ReplyMarkup" = None, ent…
   |       ^^^^^^^^                                                                                                                                                                                           ------------------------------------------- Parameter declared here
67 | …     self.peer = peer  # InputPeer
68 | …     self.id = id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
   --> pyrogram/methods/messages/edit_message_text.py:101:16
    |
 99 |                     {i.id: i for i in r.chats},
100 |                 )
101 |         return None
    |                ^^^^ expected `Message`, found `None`
    |
   ::: pyrogram/methods/messages/edit_message_text.py:19:10
    |
 17 |         reply_markup: types.InlineKeyboardMarkup  | None = None,
 18 |         business_connection_id: str | None = None,
 19 |     ) -> types.Message:
    |          ------------- Expected `Message` because of return type
 20 |         """Edit the text of messages.
    |
info: rule `invalid-return-type` is enabled by default

error[invalid-assignment]: Object of type `list[Unknown] | list[int | Iterable[int]]` is not assignable to `int | Iterable[int]`
  --> pyrogram/methods/messages/forward_messages.py:81:9
   |
80 |         is_iterable = not isinstance(message_ids, int)
81 |         message_ids = list(message_ids) if is_iterable else [message_ids]
   |         -----------   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `list[Unknown] | list[int | Iterable[int]]`
   |         |
   |         Declared type `int | Iterable[int]`
82 |
83 |         r = await self.invoke(
   |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/forward_messages.py:81:28
   |
80 |         is_iterable = not isinstance(message_ids, int)
81 |         message_ids = list(message_ids) if is_iterable else [message_ids]
   |                            ^^^^^^^^^^^ Expected `Iterable[Unknown]`, found `int | Iterable[int]`
82 |
83 |         r = await self.invoke(
   |
info: Element `int` of this union is not assignable to `Iterable[Unknown]`
info: Matching overload defined here
    --> stdlib/builtins.pyi:2839:9
     |
2837 |     def __init__(self) -> None: ...
2838 |     @overload
2839 |     def __init__(self, iterable: Iterable[_T], /) -> None: ...
     |         ^^^^^^^^       ---------------------- Parameter declared here
2840 |     def copy(self) -> list[_T]:
2841 |         """Return a shallow copy of the list."""
     |
info: Non-matching overloads for bound method `__init__`:
info:   (self) -> None
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/forward_messages.py:85:17
   |
83 |         r = await self.invoke(
84 |             raw.functions.messages.ForwardMessages(
85 |                 to_peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
86 |                 from_peer=await self.resolve_peer(from_chat_id),
87 |                 id=message_ids,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/forward_messages.py:96:9
   |
94 |     QUALNAME = "functions.messages.ForwardMessages"
95 |
96 |     def __init__(self, *, from_peer: "raw.base.InputPeer", id: List[int], random_id: List[int], to_peer: "raw.base.InputPeer", silent:…
   |         ^^^^^^^^                                                                                ----------------------------- Parameter declared here
97 |         self.from_peer = from_peer  # InputPeer
98 |         self.id = id  # Vector<int>
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/forward_messages.py:86:17
   |
84 |             raw.functions.messages.ForwardMessages(
85 |                 to_peer=await self.resolve_peer(chat_id),
86 |                 from_peer=await self.resolve_peer(from_chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
87 |                 id=message_ids,
88 |                 top_msg_id=message_thread_id,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/forward_messages.py:96:9
   |
94 |     QUALNAME = "functions.messages.ForwardMessages"
95 |
96 |     def __init__(self, *, from_peer: "raw.base.InputPeer", id: List[int], random_id: List[int], to_peer: "raw.base.InputPeer", silent:…
   |         ^^^^^^^^          ------------------------------- Parameter declared here
97 |         self.from_peer = from_peer  # InputPeer
98 |         self.id = id  # Vector<int>
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/forward_messages.py:87:17
   |
85 |                 to_peer=await self.resolve_peer(chat_id),
86 |                 from_peer=await self.resolve_peer(from_chat_id),
87 |                 id=message_ids,
   |                 ^^^^^^^^^^^^^^ Expected `list[int]`, found `int | Iterable[int]`
88 |                 top_msg_id=message_thread_id,
89 |                 silent=disable_notification or None,
   |
info: Method defined here
  --> pyrogram/raw/functions/messages/forward_messages.py:96:9
   |
94 |     QUALNAME = "functions.messages.ForwardMessages"
95 |
96 |     def __init__(self, *, from_peer: "raw.base.InputPeer", id: List[int], random_id: List[int], to_peer: "raw.base.InputPeer", silent:…
   |         ^^^^^^^^                                           ------------- Parameter declared here
97 |         self.from_peer = from_peer  # InputPeer
98 |         self.id = id  # Vector<int>
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/forward_messages.py:90:17
   |
88 |                 top_msg_id=message_thread_id,
89 |                 silent=disable_notification or None,
90 |                 random_id=[self.rnd_id() for _ in message_ids],
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `list[int]`, found `list[int | Unknown | MsgId]`
91 |                 schedule_date=utils.datetime_to_timestamp(schedule_date),
92 |                 noforwards=protect_content,
   |
info: Method defined here
  --> pyrogram/raw/functions/messages/forward_messages.py:96:9
   |
94 |     QUALNAME = "functions.messages.ForwardMessages"
95 |
96 |     def __init__(self, *, from_peer: "raw.base.InputPeer", id: List[int], random_id: List[int], to_peer: "raw.base.InputPeer", silent:…
   |         ^^^^^^^^                                                          -------------------- Parameter declared here
97 |         self.from_peer = from_peer  # InputPeer
98 |         self.id = id  # Vector<int>
   |
info: rule `invalid-argument-type` is enabled by default

error[not-iterable]: Object of type `int | Iterable[int]` may not be iterable
  --> pyrogram/methods/messages/forward_messages.py:90:51
   |
88 |                 top_msg_id=message_thread_id,
89 |                 silent=disable_notification or None,
90 |                 random_id=[self.rnd_id() for _ in message_ids],
   |                                                   ^^^^^^^^^^^
91 |                 schedule_date=utils.datetime_to_timestamp(schedule_date),
92 |                 noforwards=protect_content,
   |
info: It may not have an `__iter__` method and it doesn't have a `__getitem__` method
info: rule `not-iterable` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/get_chat_history.py:28:13
   |
26 |     messages = await client.invoke(
27 |         raw.functions.messages.GetHistory(
28 |             peer=await client.resolve_peer(chat_id),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
29 |             offset_id=from_message_id,
30 |             offset_date=utils.datetime_to_timestamp(from_date),
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_history.py:57:9
   |
55 |     QUALNAME = "functions.messages.GetHistory"
56 |
57 |     def __init__(self, *, peer: "raw.base.InputPeer", offset_id: int, offset_date: int, add_offset: int, limit: int, max_id: int, min_…
   |         ^^^^^^^^          -------------------------- Parameter declared here
58 |         self.peer = peer  # InputPeer
59 |         self.offset_id = offset_id  # int
   |
info: Union variant `bound method GetHistory.__init__(*, peer: InputPeer, offset_id: int, offset_date: int, add_offset: int, limit: int, max_id: int, min_id: int, hash: int) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetHistory.__init__(*, peer: InputPeer, offset_id: int, offset_date: int, add_offset: int, limit: int, max_id: int, min_id: int, hash: int) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/get_chat_history.py:30:13
   |
28 |             peer=await client.resolve_peer(chat_id),
29 |             offset_id=from_message_id,
30 |             offset_date=utils.datetime_to_timestamp(from_date),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `int | None`
31 |             add_offset=offset,
32 |             limit=limit,
   |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_history.py:57:9
   |
55 |     QUALNAME = "functions.messages.GetHistory"
56 |
57 |     def __init__(self, *, peer: "raw.base.InputPeer", offset_id: int, offset_date: int, add_offset: int, limit: int, max_id: int, min_…
   |         ^^^^^^^^                                                      ---------------- Parameter declared here
58 |         self.peer = peer  # InputPeer
59 |         self.offset_id = offset_id  # int
   |
info: Union variant `bound method GetHistory.__init__(*, peer: InputPeer, offset_id: int, offset_date: int, add_offset: int, limit: int, max_id: int, min_id: int, hash: int) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetHistory.__init__(*, peer: InputPeer, offset_id: int, offset_date: int, add_offset: int, limit: int, max_id: int, min_id: int, hash: int) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/get_chat_history_count.py:42:17
   |
40 |         r = await self.invoke(
41 |             raw.functions.messages.GetHistory(
42 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
43 |                 offset_id=0,
44 |                 offset_date=0,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_history.py:57:9
   |
55 |     QUALNAME = "functions.messages.GetHistory"
56 |
57 |     def __init__(self, *, peer: "raw.base.InputPeer", offset_id: int, offset_date: int, add_offset: int, limit: int, max_id: int, min_…
   |         ^^^^^^^^          -------------------------- Parameter declared here
58 |         self.peer = peer  # InputPeer
59 |         self.offset_id = offset_id  # int
   |
info: Union variant `bound method GetHistory.__init__(*, peer: InputPeer, offset_id: int, offset_date: int, add_offset: int, limit: int, max_id: int, min_id: int, hash: int) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetHistory.__init__(*, peer: InputPeer, offset_id: int, offset_date: int, add_offset: int, limit: int, max_id: int, min_id: int, hash: int) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `list[int | list[int]] | int | list[int]` is not assignable to `int | list[int]`
  --> pyrogram/methods/messages/get_custom_emoji_stickers.py:26:9
   |
24 |         """
25 |         is_list = isinstance(custom_emoji_ids, list)
26 |         custom_emoji_ids = [custom_emoji_ids] if not is_list else custom_emoji_ids
   |         ----------------   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `list[int | list[int]] | int | list[int]`
   |         |
   |         Declared type `int | list[int]`
27 |
28 |         result = await self.invoke(
   |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/get_custom_emoji_stickers.py:30:17
   |
28 |         result = await self.invoke(
29 |             raw.functions.messages.GetCustomEmojiDocuments(
30 |                 document_id=custom_emoji_ids,
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `list[int]`, found `int | list[int]`
31 |             ),
32 |         )
   |
info: Element `int` of this union is not assignable to `list[int]`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_custom_emoji_documents.py:36:9
   |
34 |     QUALNAME = "functions.messages.GetCustomEmojiDocuments"
35 |
36 |     def __init__(self, *, document_id: List[int]) -> None:
   |         ^^^^^^^^          ---------------------- Parameter declared here
37 |         self.document_id = document_id  # Vector<long>
   |
info: Union variant `bound method GetCustomEmojiDocuments.__init__(*, document_id: list[int]) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetCustomEmojiDocuments.__init__(*, document_id: list[int]) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/get_discussion_message.py:39:17
   |
37 |         r = await self.invoke(
38 |             raw.functions.messages.GetDiscussionMessage(
39 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
40 |                 msg_id=message_id,
41 |             ),
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_discussion_message.py:39:9
   |
37 |     QUALNAME = "functions.messages.GetDiscussionMessage"
38 |
39 |     def __init__(self, *, peer: "raw.base.InputPeer", msg_id: int) -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
40 |         self.peer = peer  # InputPeer
41 |         self.msg_id = msg_id  # int
   |
info: Union variant `bound method GetDiscussionMessage.__init__(*, peer: InputPeer, msg_id: int) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetDiscussionMessage.__init__(*, peer: InputPeer, msg_id: int) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/get_discussion_replies.py:49:21
   |
47 |             r = await self.invoke(
48 |                 raw.functions.messages.GetReplies(
49 |                     peer=await self.resolve_peer(chat_id),
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
50 |                     msg_id=message_id,
51 |                     offset_id=0,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_replies.py:60:9
   |
58 |     QUALNAME = "functions.messages.GetReplies"
59 |
60 |     def __init__(self, *, peer: "raw.base.InputPeer", msg_id: int, offset_id: int, offset_date: int, add_offset: int, limit: int, max_…
   |         ^^^^^^^^          -------------------------- Parameter declared here
61 |         self.peer = peer  # InputPeer
62 |         self.msg_id = msg_id  # int
   |
info: Union variant `bound method GetReplies.__init__(*, peer: InputPeer, msg_id: int, offset_id: int, offset_date: int, add_offset: int, limit: int, max_id: int, min_id: int, hash: int) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetReplies.__init__(*, peer: InputPeer, msg_id: int, offset_id: int, offset_date: int, add_offset: int, limit: int, max_id: int, min_id: int, hash: int) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/get_discussion_replies_count.py:33:17
   |
31 |         r = await self.invoke(
32 |             raw.functions.messages.GetReplies(
33 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
34 |                 msg_id=message_id,
35 |                 offset_id=0,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_replies.py:60:9
   |
58 |     QUALNAME = "functions.messages.GetReplies"
59 |
60 |     def __init__(self, *, peer: "raw.base.InputPeer", msg_id: int, offset_id: int, offset_date: int, add_offset: int, limit: int, max_…
   |         ^^^^^^^^          -------------------------- Parameter declared here
61 |         self.peer = peer  # InputPeer
62 |         self.msg_id = msg_id  # int
   |
info: Union variant `bound method GetReplies.__init__(*, peer: InputPeer, msg_id: int, offset_id: int, offset_date: int, add_offset: int, limit: int, max_id: int, min_id: int, hash: int) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetReplies.__init__(*, peer: InputPeer, msg_id: int, offset_id: int, offset_date: int, add_offset: int, limit: int, max_id: int, min_id: int, hash: int) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[not-subscriptable]: Cannot subscript object of type `Message` with no `__getitem__` method
  --> pyrogram/methods/messages/get_media_group.py:53:13
   |
51 |         # If/else condition to fix the problem of getting correct `media_group_id` when `message_id` is less than 10.
52 |         media_group_id = (
53 |             messages[9].media_group_id
   |             ^^^^^^^^^^^
54 |             if len(messages) == 19
55 |             else messages[message_id - 1].media_group_id
   |
info: rule `not-subscriptable` is enabled by default

error[not-subscriptable]: Cannot subscript object of type `DraftMessage` with no `__getitem__` method
  --> pyrogram/methods/messages/get_media_group.py:53:13
   |
51 |         # If/else condition to fix the problem of getting correct `media_group_id` when `message_id` is less than 10.
52 |         media_group_id = (
53 |             messages[9].media_group_id
   |             ^^^^^^^^^^^
54 |             if len(messages) == 19
55 |             else messages[message_id - 1].media_group_id
   |
info: rule `not-subscriptable` is enabled by default

error[invalid-argument-type]: Argument to function `len` is incorrect
  --> pyrogram/methods/messages/get_media_group.py:54:20
   |
52 |         media_group_id = (
53 |             messages[9].media_group_id
54 |             if len(messages) == 19
   |                    ^^^^^^^^ Expected `Sized`, found `Message | list[Message] | DraftMessage`
55 |             else messages[message_id - 1].media_group_id
56 |         )
   |
info: Union elements `Message` and `DraftMessage` are not assignable to `Sized`
info: Function defined here
    --> stdlib/builtins.pyi:3784:5
     |
3782 |     """
3783 |
3784 | def len(obj: Sized, /) -> int:
     |     ^^^ ---------- Parameter declared here
3785 |     """Return the number of items in a container."""
     |
info: rule `invalid-argument-type` is enabled by default

error[not-subscriptable]: Cannot subscript object of type `Message` with no `__getitem__` method
  --> pyrogram/methods/messages/get_media_group.py:55:18
   |
53 |             messages[9].media_group_id
54 |             if len(messages) == 19
55 |             else messages[message_id - 1].media_group_id
   |                  ^^^^^^^^^^^^^^^^^^^^^^^^
56 |         )
   |
info: rule `not-subscriptable` is enabled by default

error[not-subscriptable]: Cannot subscript object of type `DraftMessage` with no `__getitem__` method
  --> pyrogram/methods/messages/get_media_group.py:55:18
   |
53 |             messages[9].media_group_id
54 |             if len(messages) == 19
55 |             else messages[message_id - 1].media_group_id
   |                  ^^^^^^^^^^^^^^^^^^^^^^^^
56 |         )
   |
info: rule `not-subscriptable` is enabled by default

error[not-iterable]: Object of type `Message | list[Message] | DraftMessage` may not be iterable
  --> pyrogram/methods/messages/get_media_group.py:62:28
   |
61 |         return types.List(
62 |             msg for msg in messages if msg.media_group_id == media_group_id
   |                            ^^^^^^^^
63 |         )
   |
info: It may not have an `__iter__` method or a `__getitem__` method
info: rule `not-iterable` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/get_messages.py:105:24
    |
104 |             is_iterable = not isinstance(ids, int)
105 |             ids = list(ids) if is_iterable else [ids]
    |                        ^^^ Expected `Iterable[Unknown]`, found `(int & ~AlwaysFalsy) | (Iterable[int] & ~AlwaysFalsy)`
106 |
107 |             if replies < 0:
    |
info: Element `int & ~AlwaysFalsy` of this union is not assignable to `Iterable[Unknown]`
info: Matching overload defined here
    --> stdlib/builtins.pyi:2839:9
     |
2837 |     def __init__(self) -> None: ...
2838 |     @overload
2839 |     def __init__(self, iterable: Iterable[_T], /) -> None: ...
     |         ^^^^^^^^       ---------------------- Parameter declared here
2840 |     def copy(self) -> list[_T]:
2841 |         """Return a shallow copy of the list."""
     |
info: Non-matching overloads for bound method `__init__`:
info:   (self) -> None
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/get_messages.py:111:67
    |
110 |             if is_scheduled:
111 |                 rpc = raw.functions.messages.GetScheduledMessages(peer=peer, id=ids)
    |                                                                   ^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
112 |             else:
113 |                 ids = [ids_type(id=i) for i in ids]
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_scheduled_messages.py:39:9
   |
37 |     QUALNAME = "functions.messages.GetScheduledMessages"
38 |
39 |     def __init__(self, *, peer: "raw.base.InputPeer", id: List[int]) -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
40 |         self.peer = peer  # InputPeer
41 |         self.id = id  # Vector<int>
   |
info: Union variant `bound method GetScheduledMessages.__init__(*, peer: InputPeer, id: list[int]) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetScheduledMessages.__init__(*, peer: InputPeer, id: list[int]) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/get_messages.py:111:78
    |
110 |             if is_scheduled:
111 |                 rpc = raw.functions.messages.GetScheduledMessages(peer=peer, id=ids)
    |                                                                              ^^^^^^ Expected `list[int]`, found `list[Unknown] | list[Unknown | (int & ~AlwaysFalsy) | (Iterable[int] & ~AlwaysFalsy)]`
112 |             else:
113 |                 ids = [ids_type(id=i) for i in ids]
    |
info: Element `list[Unknown | (int & ~AlwaysFalsy) | (Iterable[int] & ~AlwaysFalsy)]` of this union is not assignable to `list[int]`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_scheduled_messages.py:39:9
   |
37 |     QUALNAME = "functions.messages.GetScheduledMessages"
38 |
39 |     def __init__(self, *, peer: "raw.base.InputPeer", id: List[int]) -> None:
   |         ^^^^^^^^                                      ------------- Parameter declared here
40 |         self.peer = peer  # InputPeer
41 |         self.id = id  # Vector<int>
   |
info: Union variant `bound method GetScheduledMessages.__init__(*, peer: InputPeer, id: list[int]) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetScheduledMessages.__init__(*, peer: InputPeer, id: list[int]) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[call-non-callable]: Object of type `None` is not callable
   --> pyrogram/methods/messages/get_messages.py:113:24
    |
111 |                 rpc = raw.functions.messages.GetScheduledMessages(peer=peer, id=ids)
112 |             else:
113 |                 ids = [ids_type(id=i) for i in ids]
    |                        ^^^^^^^^^^^^^^
114 |                 if isinstance(peer, raw.types.InputPeerChannel):
115 |                     rpc = raw.functions.channels.GetMessages(channel=peer, id=ids)
    |
info: Union variant `None` is incompatible with this call site
info: Attempted to call union type `<class 'InputMessageID'> | <class 'InputMessageReplyTo'> | None`
info: rule `call-non-callable` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/get_messages.py:113:33
    |
111 |                 rpc = raw.functions.messages.GetScheduledMessages(peer=peer, id=ids)
112 |             else:
113 |                 ids = [ids_type(id=i) for i in ids]
    |                                 ^^^^ Expected `int`, found `Unknown | (int & ~AlwaysFalsy) | (Iterable[int] & ~AlwaysFalsy)`
114 |                 if isinstance(peer, raw.types.InputPeerChannel):
115 |                     rpc = raw.functions.channels.GetMessages(channel=peer, id=ids)
    |
info: Element `Iterable[int] & ~AlwaysFalsy` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/types/input_message_id.py:35:9
   |
33 |     QUALNAME = "types.InputMessageID"
34 |
35 |     def __init__(self, *, id: int) -> None:
   |         ^^^^^^^^          ------- Parameter declared here
36 |         self.id = id  # int
   |
info: Union variant `bound method InputMessageID.__init__(*, id: int) -> None` is incompatible with this call site
info: Attempted to call union type `<class 'InputMessageID'> | <class 'InputMessageReplyTo'> | None`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/get_messages.py:113:33
    |
111 |                 rpc = raw.functions.messages.GetScheduledMessages(peer=peer, id=ids)
112 |             else:
113 |                 ids = [ids_type(id=i) for i in ids]
    |                                 ^^^^ Expected `int`, found `Unknown | (int & ~AlwaysFalsy) | (Iterable[int] & ~AlwaysFalsy)`
114 |                 if isinstance(peer, raw.types.InputPeerChannel):
115 |                     rpc = raw.functions.channels.GetMessages(channel=peer, id=ids)
    |
info: Element `Iterable[int] & ~AlwaysFalsy` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/types/input_message_reply_to.py:35:9
   |
33 |     QUALNAME = "types.InputMessageReplyTo"
34 |
35 |     def __init__(self, *, id: int) -> None:
   |         ^^^^^^^^          ------- Parameter declared here
36 |         self.id = id  # int
   |
info: Union variant `bound method InputMessageReplyTo.__init__(*, id: int) -> None` is incompatible with this call site
info: Attempted to call union type `<class 'InputMessageID'> | <class 'InputMessageReplyTo'> | None`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/get_messages.py:115:62
    |
113 |                 ids = [ids_type(id=i) for i in ids]
114 |                 if isinstance(peer, raw.types.InputPeerChannel):
115 |                     rpc = raw.functions.channels.GetMessages(channel=peer, id=ids)
    |                                                              ^^^^^^^^^^^^ Expected `InputChannel`, found `InputPeerChannel`
116 |                 else:
117 |                     rpc = raw.functions.messages.GetMessages(id=ids)
    |
info: Method defined here
  --> pyrogram/raw/functions/channels/get_messages.py:39:9
   |
37 |     QUALNAME = "functions.channels.GetMessages"
38 |
39 |     def __init__(self, *, channel: "raw.base.InputChannel", id: List["raw.base.InputMessage"]) -> None:
   |         ^^^^^^^^          -------------------------------- Parameter declared here
40 |         self.channel = channel  # InputChannel
41 |         self.id = id  # Vector<InputMessage>
   |
info: Union variant `bound method GetMessages.__init__(*, channel: InputChannel, id: list[InputMessage]) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetMessages.__init__(*, channel: InputChannel, id: list[InputMessage]) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
   --> pyrogram/methods/messages/get_messages.py:123:20
    |
121 |             messages = await utils.parse_messages(self, r, is_scheduled=is_scheduled)
122 |
123 |             return messages if is_iterable else messages[0] if messages else None
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `Message | list[Message] | DraftMessage`, found `list[Message] | Message | None`
124 |
125 |         if link:
    |
   ::: pyrogram/methods/messages/get_messages.py:25:10
    |
 23 |         is_scheduled: bool = False,
 24 |         link: str | None = None,
 25 |     ) -> types.Message | list[types.Message] | types.DraftMessage:
    |          -------------------------------------------------------- Expected `Message | list[Message] | DraftMessage` because of return type
 26 |         """Get one or more messages from a chat by using message identifiers.
    |
info: rule `invalid-return-type` is enabled by default

error[unresolved-attribute]: Attribute `is_bot` is not defined on `None` in union `User | None`
   --> pyrogram/methods/messages/get_messages.py:140:22
    |
138 |                     message_id = int(linkps[5])
139 |
140 |             elif not self.me.is_bot and len(linkps) == 5 and linkps[3] == "m":
    |                      ^^^^^^^^^^^^^^
141 |                 r = await self.invoke(
142 |                     raw.functions.account.ResolveBusinessChatLink(slug=linkps[4]),
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/get_scheduled_messages.py:58:20
   |
57 |         is_iterable = not isinstance(message_ids, int)
58 |         ids = list(message_ids) if is_iterable else [message_ids]
   |                    ^^^^^^^^^^^ Expected `Iterable[Unknown]`, found `int | Iterable[int]`
59 |
60 |         rpc = raw.functions.messages.GetScheduledMessages(peer=peer, id=ids)
   |
info: Element `int` of this union is not assignable to `Iterable[Unknown]`
info: Matching overload defined here
    --> stdlib/builtins.pyi:2839:9
     |
2837 |     def __init__(self) -> None: ...
2838 |     @overload
2839 |     def __init__(self, iterable: Iterable[_T], /) -> None: ...
     |         ^^^^^^^^       ---------------------- Parameter declared here
2840 |     def copy(self) -> list[_T]:
2841 |         """Return a shallow copy of the list."""
     |
info: Non-matching overloads for bound method `__init__`:
info:   (self) -> None
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/get_scheduled_messages.py:60:59
   |
58 |         ids = list(message_ids) if is_iterable else [message_ids]
59 |
60 |         rpc = raw.functions.messages.GetScheduledMessages(peer=peer, id=ids)
   |                                                           ^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
61 |
62 |         r = await self.invoke(rpc, sleep_threshold=-1)
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_scheduled_messages.py:39:9
   |
37 |     QUALNAME = "functions.messages.GetScheduledMessages"
38 |
39 |     def __init__(self, *, peer: "raw.base.InputPeer", id: List[int]) -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
40 |         self.peer = peer  # InputPeer
41 |         self.id = id  # Vector<int>
   |
info: Union variant `bound method GetScheduledMessages.__init__(*, peer: InputPeer, id: list[int]) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetScheduledMessages.__init__(*, peer: InputPeer, id: list[int]) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/get_scheduled_messages.py:60:70
   |
58 |         ids = list(message_ids) if is_iterable else [message_ids]
59 |
60 |         rpc = raw.functions.messages.GetScheduledMessages(peer=peer, id=ids)
   |                                                                      ^^^^^^ Expected `list[int]`, found `list[Unknown] | list[Unknown | int | Iterable[int]]`
61 |
62 |         r = await self.invoke(rpc, sleep_threshold=-1)
   |
info: Element `list[Unknown | int | Iterable[int]]` of this union is not assignable to `list[int]`
info: Method defined here
  --> pyrogram/raw/functions/messages/get_scheduled_messages.py:39:9
   |
37 |     QUALNAME = "functions.messages.GetScheduledMessages"
38 |
39 |     def __init__(self, *, peer: "raw.base.InputPeer", id: List[int]) -> None:
   |         ^^^^^^^^                                      ------------- Parameter declared here
40 |         self.peer = peer  # InputPeer
41 |         self.id = id  # Vector<int>
   |
info: Union variant `bound method GetScheduledMessages.__init__(*, peer: InputPeer, id: list[int]) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetScheduledMessages.__init__(*, peer: InputPeer, id: list[int]) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/messages/get_scheduled_messages.py:66:16
   |
64 |         messages = await utils.parse_messages(self, r)
65 |
66 |         return messages if is_iterable else messages[0] if messages else None
   |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `Message | list[Message]`, found `list[Message] | Message | None`
   |
  ::: pyrogram/methods/messages/get_scheduled_messages.py:20:10
   |
18 |         chat_id: int | str,
19 |         message_ids: int | Iterable[int],
20 |     ) -> types.Message | list[types.Message]:
   |          ----------------------------------- Expected `Message | list[Message]` because of return type
21 |         """Get one or more scheduled messages from a chat by using message identifiers.
22 |         You can retrieve up to 200 messages at once.
   |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/read_chat_history.py:44:52
   |
43 |         if isinstance(peer, raw.types.InputPeerChannel):
44 |             q = raw.functions.channels.ReadHistory(channel=peer, max_id=max_id)
   |                                                    ^^^^^^^^^^^^ Expected `InputChannel`, found `InputPeerChannel`
45 |         else:
46 |             q = raw.functions.messages.ReadHistory(peer=peer, max_id=max_id)
   |
info: Method defined here
  --> pyrogram/raw/functions/channels/read_history.py:39:9
   |
37 |     QUALNAME = "functions.channels.ReadHistory"
38 |
39 |     def __init__(self, *, channel: "raw.base.InputChannel", max_id: int) -> None:
   |         ^^^^^^^^          -------------------------------- Parameter declared here
40 |         self.channel = channel  # InputChannel
41 |         self.max_id = max_id  # int
   |
info: Union variant `bound method ReadHistory.__init__(*, channel: InputChannel, max_id: int) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method ReadHistory.__init__(*, channel: InputChannel, max_id: int) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/read_chat_history.py:46:52
   |
44 |             q = raw.functions.channels.ReadHistory(channel=peer, max_id=max_id)
45 |         else:
46 |             q = raw.functions.messages.ReadHistory(peer=peer, max_id=max_id)
   |                                                    ^^^^^^^^^ Expected `InputPeer`, found `(InputPeer & ~InputPeerChannel) | (InputUser & ~InputPeerChannel) | (InputChannel & ~InputPeerChannel)`
47 |
48 |         await self.invoke(q)
   |
info: Union elements `InputUser & ~InputPeerChannel` and `InputChannel & ~InputPeerChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/read_history.py:39:9
   |
37 |     QUALNAME = "functions.messages.ReadHistory"
38 |
39 |     def __init__(self, *, peer: "raw.base.InputPeer", max_id: int) -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
40 |         self.peer = peer  # InputPeer
41 |         self.max_id = max_id  # int
   |
info: Union variant `bound method ReadHistory.__init__(*, peer: InputPeer, max_id: int) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method ReadHistory.__init__(*, peer: InputPeer, max_id: int) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/retract_vote.py:37:17
   |
35 |         r = await self.invoke(
36 |             raw.functions.messages.SendVote(
37 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
38 |                 msg_id=message_id,
39 |                 options=[],
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_vote.py:42:9
   |
40 |     QUALNAME = "functions.messages.SendVote"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", msg_id: int, options: List[bytes]) -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.msg_id = msg_id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/search_global.py:77:25
   |
75 |                         min_date=0,
76 |                         max_date=0,
77 |                         offset_rate=offset_date,
   |                         ^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `int | None`
78 |                         offset_peer=offset_peer,
79 |                         offset_id=offset_id,
   |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/messages/search_global.py:69:9
   |
67 |     QUALNAME = "functions.messages.SearchGlobal"
68 |
69 |     def __init__(self, *, q: str, filter: "raw.base.MessagesFilter", min_date: int, max_date: int, offset_rate: int, offset_peer: "raw…
   |         ^^^^^^^^                                                                                   ---------------- Parameter declared here
70 |         self.q = q  # string
71 |         self.filter = filter  # MessagesFilter
   |
info: Union variant `bound method SearchGlobal.__init__(*, q: str, filter: MessagesFilter, min_date: int, max_date: int, offset_rate: int, offset_peer: InputPeer, offset_id: int, limit: int, broadcasts_only: bool | None = None, groups_only: bool | None = None, users_only: bool | None = None, folder_id: int | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method SearchGlobal.__init__(*, q: str, filter: MessagesFilter, min_date: int, max_date: int, offset_rate: int, offset_peer: InputPeer, offset_id: int, limit: int, broadcasts_only: bool | None = None, groups_only: bool | None = None, users_only: bool | None = None, folder_id: int | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/search_global.py:78:25
   |
76 |                         max_date=0,
77 |                         offset_rate=offset_date,
78 |                         offset_peer=offset_peer,
   |                         ^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
79 |                         offset_id=offset_id,
80 |                         limit=limit,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/search_global.py:69:9
   |
67 | … QUALNAME = "functions.messages.SearchGlobal"
68 | …
69 | … def __init__(self, *, q: str, filter: "raw.base.MessagesFilter", min_date: int, max_date: int, offset_rate: int, offset_peer: "raw.base.InputPeer", off…
   |       ^^^^^^^^                                                                                                     --------------------------------- Parameter declared here
70 | …     self.q = q  # string
71 | …     self.filter = filter  # MessagesFilter
   |
info: Union variant `bound method SearchGlobal.__init__(*, q: str, filter: MessagesFilter, min_date: int, max_date: int, offset_rate: int, offset_peer: InputPeer, offset_id: int, limit: int, broadcasts_only: bool | None = None, groups_only: bool | None = None, users_only: bool | None = None, folder_id: int | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method SearchGlobal.__init__(*, q: str, filter: MessagesFilter, min_date: int, max_date: int, offset_rate: int, offset_peer: InputPeer, offset_id: int, limit: int, broadcasts_only: bool | None = None, groups_only: bool | None = None, users_only: bool | None = None, folder_id: int | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
  --> pyrogram/methods/messages/search_global.py:92:51
   |
91 |             offset_date = utils.datetime_to_timestamp(last.date)
92 |             offset_peer = await self.resolve_peer(last.chat.id)
   |                                                   ^^^^^^^^^^^^
93 |             offset_id = last.id
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/search_global_hashtag_messages.py:66:25
   |
64 |                     raw.functions.channels.SearchPosts(
65 |                         hashtag=hashtag,
66 |                         offset_rate=utils.datetime_to_timestamp(offset_date),
   |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `int | None`
67 |                         offset_peer=offset_peer,
68 |                         offset_id=offset_id,
   |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/channels/search_posts.py:54:9
   |
52 |     QUALNAME = "functions.channels.SearchPosts"
53 |
54 |     def __init__(self, *, offset_rate: int, offset_peer: "raw.base.InputPeer", offset_id: int, limit: int, hashtag: Optional[str] = No…
   |         ^^^^^^^^          ---------------- Parameter declared here
55 |         self.offset_rate = offset_rate  # int
56 |         self.offset_peer = offset_peer  # InputPeer
   |
info: Union variant `bound method SearchPosts.__init__(*, offset_rate: int, offset_peer: InputPeer, offset_id: int, limit: int, hashtag: str | None = None, query: str | None = None, allow_paid_stars: int | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method SearchPosts.__init__(*, offset_rate: int, offset_peer: InputPeer, offset_id: int, limit: int, hashtag: str | None = None, query: str | None = None, allow_paid_stars: int | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/search_global_hashtag_messages.py:67:25
   |
65 |                         hashtag=hashtag,
66 |                         offset_rate=utils.datetime_to_timestamp(offset_date),
67 |                         offset_peer=offset_peer,
   |                         ^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
68 |                         offset_id=offset_id,
69 |                         limit=limit,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/channels/search_posts.py:54:9
   |
52 |     QUALNAME = "functions.channels.SearchPosts"
53 |
54 |     def __init__(self, *, offset_rate: int, offset_peer: "raw.base.InputPeer", offset_id: int, limit: int, hashtag: Optional[str] = No…
   |         ^^^^^^^^                            --------------------------------- Parameter declared here
55 |         self.offset_rate = offset_rate  # int
56 |         self.offset_peer = offset_peer  # InputPeer
   |
info: Union variant `bound method SearchPosts.__init__(*, offset_rate: int, offset_peer: InputPeer, offset_id: int, limit: int, hashtag: str | None = None, query: str | None = None, allow_paid_stars: int | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method SearchPosts.__init__(*, offset_rate: int, offset_peer: InputPeer, offset_id: int, limit: int, hashtag: str | None = None, query: str | None = None, allow_paid_stars: int | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `int | None` is not assignable to `datetime | None`
  --> pyrogram/methods/messages/search_global_hashtag_messages.py:80:13
   |
78 |             last = messages[-1]
79 |
80 |             offset_date = utils.datetime_to_timestamp(last.date)
   |             -----------   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `int | None`
   |             |
   |             Declared type `datetime | None`
81 |             offset_peer = await self.resolve_peer(last.chat.id)
82 |             offset_id = last.id
   |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
  --> pyrogram/methods/messages/search_global_hashtag_messages.py:81:51
   |
80 |             offset_date = utils.datetime_to_timestamp(last.date)
81 |             offset_peer = await self.resolve_peer(last.chat.id)
   |                                                   ^^^^^^^^^^^^
82 |             offset_id = last.id
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/search_messages.py:34:13
   |
32 |             min_id=0,
33 |             max_id=0,
34 |             from_id=(await client.resolve_peer(from_user) if from_user else None),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `Unknown | None`
35 |             hash=0,
36 |             top_msg_id=thread_id,
   |
info: Element `None` of this union is not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/search.py:78:9
   |
76 | … QUALNAME = "functions.messages.Search"
77 | …
78 | … def __init__(self, *, peer: "raw.base.InputPeer", q: str, filter: "raw.base.MessagesFilter", min_date: int, max_date: int, offset_id: int, add_offset: int, limit: int, max_id: int, min_id: int, hash: int, from_id: "raw.base.InputPeer" = None, sav…
   |       ^^^^^^^^                                                                                                                                                                                                 ------------------------------------ Parameter declared here
79 | …     self.peer = peer  # InputPeer
80 | …     self.q = q  # string
   |
info: Union variant `bound method Search.__init__(*, peer: InputPeer, q: str, filter: MessagesFilter, min_date: int, max_date: int, offset_id: int, add_offset: int, limit: int, max_id: int, min_id: int, hash: int, from_id: InputPeer = None, saved_peer_id: InputPeer = None, saved_reaction: list[Reaction] | None = None, top_msg_id: int | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method Search.__init__(*, peer: InputPeer, q: str, filter: MessagesFilter, min_date: int, max_date: int, offset_id: int, add_offset: int, limit: int, max_id: int, min_id: int, hash: int, from_id: InputPeer = None, saved_peer_id: InputPeer = None, saved_reaction: list[Reaction] | None = None, top_msg_id: int | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/search_messages_count.py:49:17
   |
47 |         r = await self.invoke(
48 |             raw.functions.messages.Search(
49 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
50 |                 q=query,
51 |                 filter=filter.value(),
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/search.py:78:9
   |
76 |     QUALNAME = "functions.messages.Search"
77 |
78 |     def __init__(self, *, peer: "raw.base.InputPeer", q: str, filter: "raw.base.MessagesFilter", min_date: int, max_date: int, offset_…
   |         ^^^^^^^^          -------------------------- Parameter declared here
79 |         self.peer = peer  # InputPeer
80 |         self.q = q  # string
   |
info: Union variant `bound method Search.__init__(*, peer: InputPeer, q: str, filter: MessagesFilter, min_date: int, max_date: int, offset_id: int, add_offset: int, limit: int, max_id: int, min_id: int, hash: int, from_id: InputPeer = None, saved_peer_id: InputPeer = None, saved_reaction: list[Reaction] | None = None, top_msg_id: int | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method Search.__init__(*, peer: InputPeer, q: str, filter: MessagesFilter, min_date: int, max_date: int, offset_id: int, add_offset: int, limit: int, max_id: int, min_id: int, hash: int, from_id: InputPeer = None, saved_peer_id: InputPeer = None, saved_reaction: list[Reaction] | None = None, top_msg_id: int | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/search_messages_count.py:59:17
   |
57 |                 min_id=0,
58 |                 max_id=0,
59 |                 from_id=(await self.resolve_peer(from_user) if from_user else None),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel | None`
60 |                 hash=0,
61 |                 top_msg_id=thread_id,
   |
info: Union element `InputUser`, and 2 more union elements, are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/search.py:78:9
   |
76 | … QUALNAME = "functions.messages.Search"
77 | …
78 | … def __init__(self, *, peer: "raw.base.InputPeer", q: str, filter: "raw.base.MessagesFilter", min_date: int, max_date: int, offset_id: int, add_offset: int, limit: int, max_id: int, min_id: int, hash: int, from_id: "raw.base.InputPeer" = None, sav…
   |       ^^^^^^^^                                                                                                                                                                                                 ------------------------------------ Parameter declared here
79 | …     self.peer = peer  # InputPeer
80 | …     self.q = q  # string
   |
info: Union variant `bound method Search.__init__(*, peer: InputPeer, q: str, filter: MessagesFilter, min_date: int, max_date: int, offset_id: int, add_offset: int, limit: int, max_id: int, min_id: int, hash: int, from_id: InputPeer = None, saved_peer_id: InputPeer = None, saved_reaction: list[Reaction] | None = None, top_msg_id: int | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method Search.__init__(*, peer: InputPeer, q: str, filter: MessagesFilter, min_date: int, max_date: int, offset_id: int, add_offset: int, limit: int, max_id: int, min_id: int, hash: int, from_id: InputPeer = None, saved_peer_id: InputPeer = None, saved_reaction: list[Reaction] | None = None, top_msg_id: int | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
  --> pyrogram/methods/messages/send_animation.py:55:9
   |
53 |           update_stickersets_order: bool | None = None,
54 |           suggested_post: types.SuggestedPost | None = None,
55 | /         reply_markup: types.InlineKeyboardMarkup
56 | |         | types.ReplyKeyboardMarkup
57 | |         | types.ReplyKeyboardRemove
58 | |         | types.ForceReply = None,
   | |_________________________________^
59 |           progress: Callable | None = None,
60 |           progress_args: tuple = (),
   |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/send_animation.py:252:50
    |
250 |             if isinstance(animation, str):
251 |                 if await AsyncPath(animation).is_file():
252 |                     thumb = await self.save_file(thumb)
    |                                                  ^^^^^ Expected `str | BinaryIO`, found `str | BinaryIO | None`
253 |                     file = await self.save_file(
254 |                         animation,
    |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/send_animation.py:288:46
    |
286 |                     media.spoiler = has_spoiler
287 |             else:
288 |                 thumb = await self.save_file(thumb)
    |                                              ^^^^^ Expected `str | BinaryIO`, found `str | BinaryIO | None`
289 |                 file = await self.save_file(
290 |                     animation,
    |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_animation.py:317:25
    |
315 |                 try:
316 |                     rpc = raw.functions.messages.SendMedia(
317 |                         peer=await self.resolve_peer(chat_id),
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
318 |                         media=media,
319 |                         silent=disable_notification or None,
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^          -------------------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_animation.py:321:25
    |
319 |                         silent=disable_notification or None,
320 |                         reply_to=reply_to,
321 |                         random_id=self.rnd_id(),
    |                         ^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | MsgId`
322 |                         schedule_date=utils.datetime_to_timestamp(schedule_date),
323 |                         noforwards=protect_content,
    |
info: Element `MsgId` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^                                                                                  -------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_animation.py:331:25
    |
329 |                           update_stickersets_order=update_stickersets_order,
330 |                           schedule_repeat_period=schedule_repeat_period,
331 | /                         send_as=await self.resolve_peer(send_as)
332 | |                         if send_as
333 | |                         else None,
    | |_________________________________^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel | None`
334 |                           quick_reply_shortcut=await utils.get_input_quick_reply_shortcut(
335 |                               quick_reply_shortcut,
    |
info: Union element `InputUser`, and 2 more union elements, are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMedia"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, entities: Optional[List["raw.base.MessageEntity"]] = None, schedule_date: Optional[int] = None, schedule_repeat_period: Optional[int] = None, send_as: "raw.base.InputPeer" = None, qui…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   ------------------------------------ Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_animation.py:334:25
    |
332 |                           if send_as
333 |                           else None,
334 | /                         quick_reply_shortcut=await utils.get_input_quick_reply_shortcut(
335 | |                             quick_reply_shortcut,
336 | |                         )
337 | |                         if quick_reply_shortcut
338 | |                         else None,
    | |_________________________________^ Expected `InputQuickReplyShortcut`, found `Any | None`
339 |                           allow_paid_stars=allow_paid_stars,
340 |                           suggested_post=await suggested_post.write()
    |
info: Element `None` of this union is not assignable to `InputQuickReplyShortcut`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMedia"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, entities: Optional[List["raw.base.MessageEntity"]] = None, schedule_date: Optional[int] = None, schedule_repeat_period: Optional[int] = None, send_as: "raw.base.InputPeer" = None, quick_reply_shortcut: "raw.base.InputQuickReplyShortcut" = None, eff…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         --------------------------------------------------------------- Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_animation.py:340:25
    |
338 |                           else None,
339 |                           allow_paid_stars=allow_paid_stars,
340 | /                         suggested_post=await suggested_post.write()
341 | |                         if suggested_post
342 | |                         else None,
    | |_________________________________^ Expected `pyrogram.raw.base.suggested_post.SuggestedPost`, found `pyrogram.raw.types.suggested_post.SuggestedPost | None`
343 |                           reply_markup=await reply_markup.write(self)
344 |                           if reply_markup
    |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.suggested_post.SuggestedPost`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMedia"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, entities: Optional[List["raw.base.MessageEntity"]] = None, schedule_date: Optional[int] = None, schedule_repeat_period: Optional[int] = None, send_as: "raw.base.InputPeer" = None, quick_reply_shortcut: "raw.base.InputQuickReplyShortcut" = None, effect: Optional[int] = None, allow_paid_stars: Optional[int] = None, suggested_post: "raw.base.SuggestedPost" = None) -> …
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ----------------------------------------------- Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_animation.py:343:25
    |
341 |                           if suggested_post
342 |                           else None,
343 | /                         reply_markup=await reply_markup.write(self)
344 | |                         if reply_markup
345 | |                         else None,
    | |_________________________________^ Expected `ReplyMarkup`, found `Unknown | None`
346 |                           **await utils.parse_text_entities(
347 |                               self,
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMedia"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, ent…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                        ------------------------------------------- Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `None | Unknown`
   --> pyrogram/methods/messages/send_animation.py:365:33
    |
363 |                     await self.save_file(
364 |                         animation,
365 |                         file_id=file.id,
    |                                 ^^^^^^^
366 |                         file_part=e.value,
367 |                     )
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/send_animation.py:366:25
    |
364 |                         animation,
365 |                         file_id=file.id,
366 |                         file_part=e.value,
    |                         ^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | int | str | RpcError | None`
367 |                     )
368 |                 else:
    |
info: Union element `str`, and 2 more union elements, are not assignable to `int`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |         ------------------ Parameter declared here
29 |         progress: Callable | None = None,
30 |         progress_args: tuple = (),
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
  --> pyrogram/methods/messages/send_audio.py:44:9
   |
42 |           protect_content: bool | None = None,
43 |           allow_paid_broadcast: bool | None = None,
44 | /         reply_markup: types.InlineKeyboardMarkup
45 | |         | types.ReplyKeyboardMarkup
46 | |         | types.ReplyKeyboardRemove
47 | |         | types.ForceReply = None,
   | |_________________________________^
48 |           progress: Callable | None = None,
49 |           progress_args: tuple = (),
   |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/send_audio.py:210:50
    |
208 |             if isinstance(audio, str):
209 |                 if await AsyncPath(audio).is_file():
210 |                     thumb = await self.save_file(thumb)
    |                                                  ^^^^^ Expected `str | BinaryIO`, found `str | BinaryIO | None`
211 |                     file = await self.save_file(
212 |                         audio,
    |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/send_audio.py:236:46
    |
234 |                     media = utils.get_input_media_from_file_id(audio, FileType.AUDIO)
235 |             else:
236 |                 thumb = await self.save_file(thumb)
    |                                              ^^^^^ Expected `str | BinaryIO`, found `str | BinaryIO | None`
237 |                 file = await self.save_file(
238 |                     audio,
    |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_audio.py:262:25
    |
260 |                 try:
261 |                     rpc = raw.functions.messages.SendMedia(
262 |                         peer=await self.resolve_peer(chat_id),
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
263 |                         media=media,
264 |                         silent=disable_notification or None,
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^          -------------------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_audio.py:266:25
    |
264 |                         silent=disable_notification or None,
265 |                         reply_to=reply_to,
266 |                         random_id=self.rnd_id(),
    |                         ^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | MsgId`
267 |                         schedule_date=utils.datetime_to_timestamp(schedule_date),
268 |                         noforwards=protect_content,
    |
info: Element `MsgId` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^                                                                                  -------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_audio.py:271:25
    |
269 |                           allow_paid_floodskip=allow_paid_broadcast,
270 |                           effect=message_effect_id,
271 | /                         reply_markup=await reply_markup.write(self)
272 | |                         if reply_markup
273 | |                         else None,
    | |_________________________________^ Expected `ReplyMarkup`, found `Unknown | None`
274 |                           **await utils.parse_text_entities(
275 |                               self,
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMedia"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, ent…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                        ------------------------------------------- Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `None | Unknown`
   --> pyrogram/methods/messages/send_audio.py:291:57
    |
289 |                         r = await self.invoke(rpc)
290 |                 except FilePartMissing as e:
291 |                     await self.save_file(audio, file_id=file.id, file_part=e.value)
    |                                                         ^^^^^^^
292 |                 else:
293 |                     for i in r.updates:
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/send_audio.py:291:66
    |
289 |                         r = await self.invoke(rpc)
290 |                 except FilePartMissing as e:
291 |                     await self.save_file(audio, file_id=file.id, file_part=e.value)
    |                                                                  ^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | int | str | RpcError | None`
292 |                 else:
293 |                     for i in r.updates:
    |
info: Union element `str`, and 2 more union elements, are not assignable to `int`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |         ------------------ Parameter declared here
29 |         progress: Callable | None = None,
30 |         progress_args: tuple = (),
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
  --> pyrogram/methods/messages/send_cached_media.py:32:9
   |
30 |           allow_paid_broadcast: bool | None = None,
31 |           invert_media: bool = False,
32 | /         reply_markup: types.InlineKeyboardMarkup
33 | |         | types.ReplyKeyboardMarkup
34 | |         | types.ReplyKeyboardRemove
35 | |         | types.ForceReply = None,
   | |_________________________________^
36 |       ) -> types.Message | None:
37 |           """Send any media stored on the Telegram servers using a file_id.
   |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_cached_media.py:141:17
    |
139 |         r = await self.invoke(
140 |             raw.functions.messages.SendMedia(
141 |                 peer=await self.resolve_peer(chat_id),
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
142 |                 media=media,
143 |                 silent=disable_notification or None,
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^          -------------------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_cached_media.py:145:17
    |
143 |                 silent=disable_notification or None,
144 |                 reply_to=reply_to,
145 |                 random_id=self.rnd_id(),
    |                 ^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | MsgId`
146 |                 schedule_date=utils.datetime_to_timestamp(schedule_date),
147 |                 noforwards=protect_content,
    |
info: Element `MsgId` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^                                                                                  -------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_cached_media.py:150:17
    |
148 |                   allow_paid_floodskip=allow_paid_broadcast,
149 |                   invert_media=invert_media,
150 | /                 reply_markup=await reply_markup.write(self)
151 | |                 if reply_markup
152 | |                 else None,
    | |_________________________^ Expected `ReplyMarkup`, found `Unknown | None`
153 |                   **await utils.parse_text_entities(
154 |                       self,
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMedia"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, ent…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                        ------------------------------------------- Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `Client` has no attribute `_get_raw_stickers`
  --> pyrogram/methods/messages/send_chat_action.py:88:40
   |
86 |                 raise ValueError("Invalid Argument Provided")
87 |             if emoji_message_interaction is None:
88 |                 _, sticker_set = await self._get_raw_stickers(
   |                                        ^^^^^^^^^^^^^^^^^^^^^^
89 |                     raw.types.InputStickerSetAnimatedEmojiAnimations(),
90 |                 )
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_chat_action.py:112:13
    |
110 |             action = action.value()
111 |         rpc = raw.functions.messages.SetTyping(
112 |             peer=await self.resolve_peer(chat_id),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
113 |             action=action,
114 |             top_msg_id=message_thread_id,
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/set_typing.py:42:9
   |
40 |     QUALNAME = "functions.messages.SetTyping"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", action: "raw.base.SendMessageAction", top_msg_id: Optional[int] = None) -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.action = action  # SendMessageAction
   |
info: Union variant `bound method SetTyping.__init__(*, peer: InputPeer, action: SendMessageAction, top_msg_id: int | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method SetTyping.__init__(*, peer: InputPeer, action: SendMessageAction, top_msg_id: int | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
  --> pyrogram/methods/messages/send_contact.py:32:9
   |
30 |           allow_paid_broadcast: bool | None = None,
31 |           message_effect_id: int | None = None,
32 | /         reply_markup: types.InlineKeyboardMarkup
33 | |         | types.ReplyKeyboardMarkup
34 | |         | types.ReplyKeyboardRemove
35 | |         | types.ForceReply = None,
   | |_________________________________^
36 |       ) -> types.Message:
37 |           """Send phone contacts.
   |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_contact.py:130:13
    |
129 |         rpc = raw.functions.messages.SendMedia(
130 |             peer=await self.resolve_peer(chat_id),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
131 |             media=raw.types.InputMediaContact(
132 |                 phone_number=phone_number,
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^          -------------------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_contact.py:140:13
    |
138 |             silent=disable_notification or None,
139 |             reply_to=reply_to,
140 |             random_id=self.rnd_id(),
    |             ^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | MsgId`
141 |             schedule_date=utils.datetime_to_timestamp(schedule_date),
142 |             noforwards=protect_content,
    |
info: Element `MsgId` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^                                                                                  -------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_contact.py:144:13
    |
142 |             noforwards=protect_content,
143 |             allow_paid_floodskip=allow_paid_broadcast,
144 |             reply_markup=await reply_markup.write(self) if reply_markup else None,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `ReplyMarkup`, found `Unknown | None`
145 |             effect=message_effect_id,
146 |         )
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMedia"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, ent…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                        ------------------------------------------- Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
   --> pyrogram/methods/messages/send_contact.py:173:16
    |
171 |                     business_connection_id=business_connection_id,
172 |                 )
173 |         return None
    |                ^^^^ expected `Message`, found `None`
    |
   ::: pyrogram/methods/messages/send_contact.py:36:10
    |
 34 |         | types.ReplyKeyboardRemove
 35 |         | types.ForceReply = None,
 36 |     ) -> types.Message:
    |          ------------- Expected `Message` because of return type
 37 |         """Send phone contacts.
    |
info: rule `invalid-return-type` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
  --> pyrogram/methods/messages/send_dice.py:30:9
   |
28 |           allow_paid_broadcast: bool | None = None,
29 |           message_effect_id: int | None = None,
30 | /         reply_markup: types.InlineKeyboardMarkup
31 | |         | types.ReplyKeyboardMarkup
32 | |         | types.ReplyKeyboardRemove
33 | |         | types.ForceReply = None,
   | |_________________________________^
34 |       ) -> types.Message | None:
35 |           """Send a dice with a random value from 1 to 6.
   |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_dice.py:134:13
    |
133 |         rpc = raw.functions.messages.SendMedia(
134 |             peer=await self.resolve_peer(chat_id),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
135 |             media=raw.types.InputMediaDice(emoticon=emoji),
136 |             silent=disable_notification or None,
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^          -------------------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_dice.py:138:13
    |
136 |             silent=disable_notification or None,
137 |             reply_to=reply_to,
138 |             random_id=self.rnd_id(),
    |             ^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | MsgId`
139 |             schedule_date=utils.datetime_to_timestamp(schedule_date),
140 |             noforwards=protect_content,
    |
info: Element `MsgId` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^                                                                                  -------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_dice.py:142:13
    |
140 |             noforwards=protect_content,
141 |             allow_paid_floodskip=allow_paid_broadcast,
142 |             reply_markup=await reply_markup.write(self) if reply_markup else None,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `ReplyMarkup`, found `Unknown | None`
143 |             effect=message_effect_id,
144 |             message="",
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMedia"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, ent…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                        ------------------------------------------- Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
  --> pyrogram/methods/messages/send_document.py:42:9
   |
40 |           protect_content: bool | None = None,
41 |           allow_paid_broadcast: bool | None = None,
42 | /         reply_markup: types.InlineKeyboardMarkup
43 | |         | types.ReplyKeyboardMarkup
44 | |         | types.ReplyKeyboardRemove
45 | |         | types.ForceReply = None,
   | |_________________________________^
46 |           progress: Callable | None = None,
47 |           progress_args: tuple = (),
   |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/send_document.py:197:50
    |
195 |             if isinstance(document, str):
196 |                 if await AsyncPath(document).is_file():
197 |                     thumb = await self.save_file(thumb)
    |                                                  ^^^^^ Expected `str | BinaryIO`, found `str | BinaryIO | None`
198 |                     file = await self.save_file(
199 |                         document,
    |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/send_document.py:223:46
    |
221 |                     )
222 |             else:
223 |                 thumb = await self.save_file(thumb)
    |                                              ^^^^^ Expected `str | BinaryIO`, found `str | BinaryIO | None`
224 |                 file = await self.save_file(
225 |                     document,
    |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_document.py:244:25
    |
242 |                 try:
243 |                     rpc = raw.functions.messages.SendMedia(
244 |                         peer=await self.resolve_peer(chat_id),
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
245 |                         media=media,
246 |                         silent=disable_notification or None,
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^          -------------------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_document.py:248:25
    |
246 |                         silent=disable_notification or None,
247 |                         reply_to=reply_to,
248 |                         random_id=self.rnd_id(),
    |                         ^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | MsgId`
249 |                         schedule_date=utils.datetime_to_timestamp(schedule_date),
250 |                         noforwards=protect_content,
    |
info: Element `MsgId` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^                                                                                  -------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_document.py:253:25
    |
251 |                           allow_paid_floodskip=allow_paid_broadcast,
252 |                           effect=message_effect_id,
253 | /                         reply_markup=await reply_markup.write(self)
254 | |                         if reply_markup
255 | |                         else None,
    | |_________________________________^ Expected `ReplyMarkup`, found `Unknown | None`
256 |                           **await utils.parse_text_entities(
257 |                               self,
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMedia"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, ent…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                        ------------------------------------------- Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `None | Unknown`
   --> pyrogram/methods/messages/send_document.py:275:33
    |
273 |                     await self.save_file(
274 |                         document,
275 |                         file_id=file.id,
    |                                 ^^^^^^^
276 |                         file_part=e.value,
277 |                     )
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/send_document.py:276:25
    |
274 |                         document,
275 |                         file_id=file.id,
276 |                         file_part=e.value,
    |                         ^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | int | str | RpcError | None`
277 |                     )
278 |                 else:
    |
info: Union element `str`, and 2 more union elements, are not assignable to `int`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |         ------------------ Parameter declared here
29 |         progress: Callable | None = None,
30 |         progress_args: tuple = (),
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
  --> pyrogram/methods/messages/send_location.py:32:9
   |
30 |           allow_paid_broadcast: bool | None = None,
31 |           message_effect_id: int | None = None,
32 | /         reply_markup: types.InlineKeyboardMarkup
33 | |         | types.ReplyKeyboardMarkup
34 | |         | types.ReplyKeyboardRemove
35 | |         | types.ForceReply = None,
   | |_________________________________^
36 |       ) -> types.Message:
37 |           """Send points on the map.
   |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_location.py:127:13
    |
126 |         rpc = raw.functions.messages.SendMedia(
127 |             peer=await self.resolve_peer(chat_id),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
128 |             media=raw.types.InputMediaGeoPoint(
129 |                 geo_point=raw.types.InputGeoPoint(
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^          -------------------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_location.py:132:21
    |
130 |                     lat=latitude,
131 |                     long=longitude,
132 |                     accuracy_radius=horizontal_accuracy,
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int | None`, found `int | float | None`
133 |                 ),
134 |             ),
    |
info: Element `float` of this union is not assignable to `int | None`
info: Method defined here
  --> pyrogram/raw/types/input_geo_point.py:41:9
   |
39 |     QUALNAME = "types.InputGeoPoint"
40 |
41 |     def __init__(self, *, lat: float, long: float, accuracy_radius: Optional[int] = None) -> None:
   |         ^^^^^^^^                                   ------------------------------------- Parameter declared here
42 |         self.lat = lat  # double
43 |         self.long = long  # double
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_location.py:138:13
    |
136 |             silent=disable_notification or None,
137 |             reply_to=reply_to,
138 |             random_id=self.rnd_id(),
    |             ^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | MsgId`
139 |             schedule_date=utils.datetime_to_timestamp(schedule_date),
140 |             noforwards=protect_content,
    |
info: Element `MsgId` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^                                                                                  -------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_location.py:142:13
    |
140 |             noforwards=protect_content,
141 |             allow_paid_floodskip=allow_paid_broadcast,
142 |             reply_markup=await reply_markup.write(self) if reply_markup else None,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `ReplyMarkup`, found `Unknown | None`
143 |             effect=message_effect_id,
144 |         )
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMedia"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, ent…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                        ------------------------------------------- Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
   --> pyrogram/methods/messages/send_location.py:171:16
    |
169 |                     business_connection_id=business_connection_id,
170 |                 )
171 |         return None
    |                ^^^^ expected `Message`, found `None`
    |
   ::: pyrogram/methods/messages/send_location.py:36:10
    |
 34 |         | types.ReplyKeyboardRemove
 35 |         | types.ForceReply = None,
 36 |     ) -> types.Message:
    |          ------------- Expected `Message` because of return type
 37 |         """Send points on the map.
    |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_media_group.py:178:33
    |
176 |                         media = await self.invoke(
177 |                             raw.functions.messages.UploadMedia(
178 |                                 peer=await self.resolve_peer(chat_id),
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
179 |                                 media=raw.types.InputMediaUploadedPhoto(
180 |                                     file=await self.save_file(i.media),
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/upload_media.py:42:9
   |
40 |     QUALNAME = "functions.messages.UploadMedia"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", business_connection_id: Optional[str] = None) -> N…
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `pyrogram.raw.types.input_media_photo.InputMediaPhoto` is not assignable to `list[pyrogram.types.input_media.input_media_photo.InputMediaPhoto | InputMediaVideo | InputMediaAudio | InputMediaDocument | InputMediaAnimation]`
   --> pyrogram/methods/messages/send_media_group.py:186:25
    |
184 |                           )
185 |
186 |                           media = raw.types.InputMediaPhoto(
    |  _________________________-----___^
    | |                         |
    | |                         Declared type `list[InputMediaPhoto | InputMediaVideo | InputMediaAudio | InputMediaDocument | InputMediaAnimation]`
187 | |                             id=raw.types.InputPhoto(
188 | |                                 id=media.photo.id,
189 | |                                 access_hash=media.photo.access_hash,
190 | |                                 file_reference=media.photo.file_reference,
191 | |                             ),
192 | |                             spoiler=i.has_spoiler,
193 | |                         )
    | |_________________________^ Incompatible value of type `InputMediaPhoto`
194 |                       elif re.match("^https?://", i.media):
195 |                           media = await self.invoke(
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_media_group.py:197:33
    |
195 |                         media = await self.invoke(
196 |                             raw.functions.messages.UploadMedia(
197 |                                 peer=await self.resolve_peer(chat_id),
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
198 |                                 media=raw.types.InputMediaPhotoExternal(
199 |                                     url=i.media,
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/upload_media.py:42:9
   |
40 |     QUALNAME = "functions.messages.UploadMedia"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", business_connection_id: Optional[str] = None) -> N…
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `pyrogram.raw.types.input_media_photo.InputMediaPhoto` is not assignable to `list[pyrogram.types.input_media.input_media_photo.InputMediaPhoto | InputMediaVideo | InputMediaAudio | InputMediaDocument | InputMediaAnimation]`
   --> pyrogram/methods/messages/send_media_group.py:205:25
    |
203 |                           )
204 |
205 |                           media = raw.types.InputMediaPhoto(
    |  _________________________-----___^
    | |                         |
    | |                         Declared type `list[InputMediaPhoto | InputMediaVideo | InputMediaAudio | InputMediaDocument | InputMediaAnimation]`
206 | |                             id=raw.types.InputPhoto(
207 | |                                 id=media.photo.id,
208 | |                                 access_hash=media.photo.access_hash,
209 | |                                 file_reference=media.photo.file_reference,
210 | |                             ),
211 | |                             spoiler=i.has_spoiler,
212 | |                         )
    | |_________________________^ Incompatible value of type `InputMediaPhoto`
213 |                       else:
214 |                           media = utils.get_input_media_from_file_id(
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_media_group.py:221:29
    |
219 |                     media = await self.invoke(
220 |                         raw.functions.messages.UploadMedia(
221 |                             peer=await self.resolve_peer(chat_id),
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
222 |                             media=raw.types.InputMediaUploadedPhoto(
223 |                                 file=await self.save_file(i.media),
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/upload_media.py:42:9
   |
40 |     QUALNAME = "functions.messages.UploadMedia"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", business_connection_id: Optional[str] = None) -> N…
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `pyrogram.raw.types.input_media_photo.InputMediaPhoto` is not assignable to `list[pyrogram.types.input_media.input_media_photo.InputMediaPhoto | InputMediaVideo | InputMediaAudio | InputMediaDocument | InputMediaAnimation]`
   --> pyrogram/methods/messages/send_media_group.py:229:21
    |
227 |                       )
228 |
229 |                       media = raw.types.InputMediaPhoto(
    |  _____________________-----___^
    | |                     |
    | |                     Declared type `list[InputMediaPhoto | InputMediaVideo | InputMediaAudio | InputMediaDocument | InputMediaAnimation]`
230 | |                         id=raw.types.InputPhoto(
231 | |                             id=media.photo.id,
232 | |                             access_hash=media.photo.access_hash,
233 | |                             file_reference=media.photo.file_reference,
234 | |                         ),
235 | |                         spoiler=i.has_spoiler,
236 | |                     )
    | |_____________________^ Incompatible value of type `InputMediaPhoto`
237 |               elif isinstance(i, types.InputMediaVideo | types.InputMediaAnimation):
238 |                   if isinstance(i.media, str):
    |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Attribute `supports_streaming` is not defined on `InputMediaAnimation & ~InputMediaPhoto` in union `(InputMediaVideo & ~InputMediaPhoto) | (InputMediaAnimation & ~InputMediaPhoto)`
   --> pyrogram/methods/messages/send_media_group.py:257:39
    |
255 | …                     supports_streaming=True
256 | …                     if is_animation
257 | …                     else (i.supports_streaming or None),
    |                             ^^^^^^^^^^^^^^^^^^^^
258 | …                     duration=i.duration,
259 | …                     w=i.width,
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_media_group.py:270:33
    |
268 |                         media = await self.invoke(
269 |                             raw.functions.messages.UploadMedia(
270 |                                 peer=await self.resolve_peer(chat_id),
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
271 |                                 media=raw.types.InputMediaUploadedDocument(
272 |                                     file=await self.save_file(i.media),
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/upload_media.py:42:9
   |
40 |     QUALNAME = "functions.messages.UploadMedia"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", business_connection_id: Optional[str] = None) -> N…
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/send_media_group.py:273:64
    |
271 | …                     media=raw.types.InputMediaUploadedDocument(
272 | …                         file=await self.save_file(i.media),
273 | …                         thumb=await self.save_file(i.thumb),
    |                                                      ^^^^^^^ Expected `str | BinaryIO`, found `Unknown | str | None`
274 | …                         spoiler=i.has_spoiler,
275 | …                         mime_type=self.guess_mime_type(i.media)
    |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `pyrogram.raw.types.input_media_document.InputMediaDocument` is not assignable to `list[InputMediaPhoto | InputMediaVideo | InputMediaAudio | pyrogram.types.input_media.input_media_document.InputMediaDocument | InputMediaAnimation]`
   --> pyrogram/methods/messages/send_media_group.py:283:25
    |
281 |                           )
282 |
283 |                           media = raw.types.InputMediaDocument(
    |  _________________________-----___^
    | |                         |
    | |                         Declared type `list[InputMediaPhoto | InputMediaVideo | InputMediaAudio | InputMediaDocument | InputMediaAnimation]`
284 | |                             id=raw.types.InputDocument(
285 | |                                 id=media.document.id,
286 | |                                 access_hash=media.document.access_hash,
287 | |                                 file_reference=media.document.file_reference,
288 | |                             ),
289 | |                             spoiler=i.has_spoiler,
290 | |                         )
    | |_________________________^ Incompatible value of type `InputMediaDocument`
291 |                       elif re.match("^https?://", i.media):
292 |                           media = await self.invoke(
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_media_group.py:294:33
    |
292 |                         media = await self.invoke(
293 |                             raw.functions.messages.UploadMedia(
294 |                                 peer=await self.resolve_peer(chat_id),
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
295 |                                 media=raw.types.InputMediaDocumentExternal(
296 |                                     url=i.media,
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/upload_media.py:42:9
   |
40 |     QUALNAME = "functions.messages.UploadMedia"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", business_connection_id: Optional[str] = None) -> N…
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `pyrogram.raw.types.input_media_document.InputMediaDocument` is not assignable to `list[InputMediaPhoto | InputMediaVideo | InputMediaAudio | pyrogram.types.input_media.input_media_document.InputMediaDocument | InputMediaAnimation]`
   --> pyrogram/methods/messages/send_media_group.py:302:25
    |
300 |                           )
301 |
302 |                           media = raw.types.InputMediaDocument(
    |  _________________________-----___^
    | |                         |
    | |                         Declared type `list[InputMediaPhoto | InputMediaVideo | InputMediaAudio | InputMediaDocument | InputMediaAnimation]`
303 | |                             id=raw.types.InputDocument(
304 | |                                 id=media.document.id,
305 | |                                 access_hash=media.document.access_hash,
306 | |                                 file_reference=media.document.file_reference,
307 | |                             ),
308 | |                             spoiler=i.has_spoiler,
309 | |                         )
    | |_________________________^ Incompatible value of type `InputMediaDocument`
310 |                       else:
311 |                           media = utils.get_input_media_from_file_id(
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_media_group.py:318:29
    |
316 |                     media = await self.invoke(
317 |                         raw.functions.messages.UploadMedia(
318 |                             peer=await self.resolve_peer(chat_id),
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
319 |                             media=raw.types.InputMediaUploadedDocument(
320 |                                 file=await self.save_file(i.media),
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/upload_media.py:42:9
   |
40 |     QUALNAME = "functions.messages.UploadMedia"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", business_connection_id: Optional[str] = None) -> N…
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/send_media_group.py:321:60
    |
319 | …                     media=raw.types.InputMediaUploadedDocument(
320 | …                         file=await self.save_file(i.media),
321 | …                         thumb=await self.save_file(i.thumb),
    |                                                      ^^^^^^^ Expected `str | BinaryIO`, found `Unknown | str | None`
322 | …                         spoiler=i.has_spoiler,
323 | …                         mime_type=self.guess_mime_type(
    |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `supports_streaming` is not defined on `InputMediaAnimation & ~InputMediaPhoto` in union `(InputMediaVideo & ~InputMediaPhoto) | (InputMediaAnimation & ~InputMediaPhoto)`
   --> pyrogram/methods/messages/send_media_group.py:329:60
    |
327 | …                     attributes=[
328 | …                         raw.types.DocumentAttributeVideo(
329 | …                             supports_streaming=i.supports_streaming
    |                                                  ^^^^^^^^^^^^^^^^^^^^
330 | …                             or None,
331 | …                             duration=i.duration,
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-assignment]: Object of type `pyrogram.raw.types.input_media_document.InputMediaDocument` is not assignable to `list[InputMediaPhoto | InputMediaVideo | InputMediaAudio | pyrogram.types.input_media.input_media_document.InputMediaDocument | InputMediaAnimation]`
   --> pyrogram/methods/messages/send_media_group.py:347:21
    |
345 |                       )
346 |
347 |                       media = raw.types.InputMediaDocument(
    |  _____________________-----___^
    | |                     |
    | |                     Declared type `list[InputMediaPhoto | InputMediaVideo | InputMediaAudio | InputMediaDocument | InputMediaAnimation]`
348 | |                         id=raw.types.InputDocument(
349 | |                             id=media.document.id,
350 | |                             access_hash=media.document.access_hash,
351 | |                             file_reference=media.document.file_reference,
352 | |                         ),
353 | |                         spoiler=i.has_spoiler,
354 | |                     )
    | |_____________________^ Incompatible value of type `InputMediaDocument`
355 |               elif isinstance(i, types.InputMediaAudio):
356 |                   if isinstance(i.media, str):
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_media_group.py:360:33
    |
358 |                         media = await self.invoke(
359 |                             raw.functions.messages.UploadMedia(
360 |                                 peer=await self.resolve_peer(chat_id),
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
361 |                                 media=raw.types.InputMediaUploadedDocument(
362 |                                     mime_type=self.guess_mime_type(i.media)
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/upload_media.py:42:9
   |
40 |     QUALNAME = "functions.messages.UploadMedia"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", business_connection_id: Optional[str] = None) -> N…
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/send_media_group.py:365:64
    |
363 | …                     or "audio/mpeg",
364 | …                     file=await self.save_file(i.media),
365 | …                     thumb=await self.save_file(i.thumb),
    |                                                  ^^^^^^^ Expected `str | BinaryIO`, found `Unknown | str | None`
366 | …                     attributes=[
367 | …                         raw.types.DocumentAttributeAudio(
    |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `pyrogram.raw.types.input_media_document.InputMediaDocument` is not assignable to `list[InputMediaPhoto | InputMediaVideo | InputMediaAudio | pyrogram.types.input_media.input_media_document.InputMediaDocument | InputMediaAnimation]`
   --> pyrogram/methods/messages/send_media_group.py:380:25
    |
378 |                           )
379 |
380 |                           media = raw.types.InputMediaDocument(
    |  _________________________-----___^
    | |                         |
    | |                         Declared type `list[InputMediaPhoto | InputMediaVideo | InputMediaAudio | InputMediaDocument | InputMediaAnimation]`
381 | |                             id=raw.types.InputDocument(
382 | |                                 id=media.document.id,
383 | |                                 access_hash=media.document.access_hash,
384 | |                                 file_reference=media.document.file_reference,
385 | |                             ),
386 | |                         )
    | |_________________________^ Incompatible value of type `InputMediaDocument`
387 |                       elif re.match("^https?://", i.media):
388 |                           media = await self.invoke(
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_media_group.py:390:33
    |
388 |                         media = await self.invoke(
389 |                             raw.functions.messages.UploadMedia(
390 |                                 peer=await self.resolve_peer(chat_id),
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
391 |                                 media=raw.types.InputMediaDocumentExternal(
392 |                                     url=i.media,
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/upload_media.py:42:9
   |
40 |     QUALNAME = "functions.messages.UploadMedia"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", business_connection_id: Optional[str] = None) -> N…
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `pyrogram.raw.types.input_media_document.InputMediaDocument` is not assignable to `list[InputMediaPhoto | InputMediaVideo | InputMediaAudio | pyrogram.types.input_media.input_media_document.InputMediaDocument | InputMediaAnimation]`
   --> pyrogram/methods/messages/send_media_group.py:397:25
    |
395 |                           )
396 |
397 |                           media = raw.types.InputMediaDocument(
    |  _________________________-----___^
    | |                         |
    | |                         Declared type `list[InputMediaPhoto | InputMediaVideo | InputMediaAudio | InputMediaDocument | InputMediaAnimation]`
398 | |                             id=raw.types.InputDocument(
399 | |                                 id=media.document.id,
400 | |                                 access_hash=media.document.access_hash,
401 | |                                 file_reference=media.document.file_reference,
402 | |                             ),
403 | |                         )
    | |_________________________^ Incompatible value of type `InputMediaDocument`
404 |                       else:
405 |                           media = utils.get_input_media_from_file_id(
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_media_group.py:412:29
    |
410 |                     media = await self.invoke(
411 |                         raw.functions.messages.UploadMedia(
412 |                             peer=await self.resolve_peer(chat_id),
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
413 |                             media=raw.types.InputMediaUploadedDocument(
414 |                                 mime_type=self.guess_mime_type(
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/upload_media.py:42:9
   |
40 |     QUALNAME = "functions.messages.UploadMedia"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", business_connection_id: Optional[str] = None) -> N…
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/send_media_group.py:419:60
    |
417 | …                     or "audio/mpeg",
418 | …                     file=await self.save_file(i.media),
419 | …                     thumb=await self.save_file(i.thumb),
    |                                                  ^^^^^^^ Expected `str | BinaryIO`, found `Unknown | str | None`
420 | …                     attributes=[
421 | …                         raw.types.DocumentAttributeAudio(
    |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `pyrogram.raw.types.input_media_document.InputMediaDocument` is not assignable to `list[InputMediaPhoto | InputMediaVideo | InputMediaAudio | pyrogram.types.input_media.input_media_document.InputMediaDocument | InputMediaAnimation]`
   --> pyrogram/methods/messages/send_media_group.py:438:21
    |
436 |                       )
437 |
438 |                       media = raw.types.InputMediaDocument(
    |  _____________________-----___^
    | |                     |
    | |                     Declared type `list[InputMediaPhoto | InputMediaVideo | InputMediaAudio | InputMediaDocument | InputMediaAnimation]`
439 | |                         id=raw.types.InputDocument(
440 | |                             id=media.document.id,
441 | |                             access_hash=media.document.access_hash,
442 | |                             file_reference=media.document.file_reference,
443 | |                         ),
444 | |                     )
    | |_____________________^ Incompatible value of type `InputMediaDocument`
445 |               elif isinstance(i, types.InputMediaDocument):
446 |                   if isinstance(i.media, str):
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_media_group.py:450:33
    |
448 |                         media = await self.invoke(
449 |                             raw.functions.messages.UploadMedia(
450 |                                 peer=await self.resolve_peer(chat_id),
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
451 |                                 media=raw.types.InputMediaUploadedDocument(
452 |                                     mime_type=self.guess_mime_type(i.media)
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/upload_media.py:42:9
   |
40 |     QUALNAME = "functions.messages.UploadMedia"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", business_connection_id: Optional[str] = None) -> N…
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/send_media_group.py:455:64
    |
453 | …                     or "application/zip",
454 | …                     file=await self.save_file(i.media),
455 | …                     thumb=await self.save_file(i.thumb),
    |                                                  ^^^^^^^ Expected `str | BinaryIO`, found `Unknown | str | None`
456 | …                     attributes=[
457 | …                         raw.types.DocumentAttributeFilename(
    |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `pyrogram.raw.types.input_media_document.InputMediaDocument` is not assignable to `list[InputMediaPhoto | InputMediaVideo | InputMediaAudio | pyrogram.types.input_media.input_media_document.InputMediaDocument | InputMediaAnimation]`
   --> pyrogram/methods/messages/send_media_group.py:465:25
    |
463 |                           )
464 |
465 |                           media = raw.types.InputMediaDocument(
    |  _________________________-----___^
    | |                         |
    | |                         Declared type `list[InputMediaPhoto | InputMediaVideo | InputMediaAudio | InputMediaDocument | InputMediaAnimation]`
466 | |                             id=raw.types.InputDocument(
467 | |                                 id=media.document.id,
468 | |                                 access_hash=media.document.access_hash,
469 | |                                 file_reference=media.document.file_reference,
470 | |                             ),
471 | |                         )
    | |_________________________^ Incompatible value of type `InputMediaDocument`
472 |                       elif re.match("^https?://", i.media):
473 |                           media = await self.invoke(
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_media_group.py:475:33
    |
473 |                         media = await self.invoke(
474 |                             raw.functions.messages.UploadMedia(
475 |                                 peer=await self.resolve_peer(chat_id),
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
476 |                                 media=raw.types.InputMediaDocumentExternal(
477 |                                     url=i.media,
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/upload_media.py:42:9
   |
40 |     QUALNAME = "functions.messages.UploadMedia"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", business_connection_id: Optional[str] = None) -> N…
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `pyrogram.raw.types.input_media_document.InputMediaDocument` is not assignable to `list[InputMediaPhoto | InputMediaVideo | InputMediaAudio | pyrogram.types.input_media.input_media_document.InputMediaDocument | InputMediaAnimation]`
   --> pyrogram/methods/messages/send_media_group.py:482:25
    |
480 |                           )
481 |
482 |                           media = raw.types.InputMediaDocument(
    |  _________________________-----___^
    | |                         |
    | |                         Declared type `list[InputMediaPhoto | InputMediaVideo | InputMediaAudio | InputMediaDocument | InputMediaAnimation]`
483 | |                             id=raw.types.InputDocument(
484 | |                                 id=media.document.id,
485 | |                                 access_hash=media.document.access_hash,
486 | |                                 file_reference=media.document.file_reference,
487 | |                             ),
488 | |                         )
    | |_________________________^ Incompatible value of type `InputMediaDocument`
489 |                       else:
490 |                           media = utils.get_input_media_from_file_id(
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_media_group.py:497:29
    |
495 |                     media = await self.invoke(
496 |                         raw.functions.messages.UploadMedia(
497 |                             peer=await self.resolve_peer(chat_id),
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
498 |                             media=raw.types.InputMediaUploadedDocument(
499 |                                 mime_type=self.guess_mime_type(
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/upload_media.py:42:9
   |
40 |     QUALNAME = "functions.messages.UploadMedia"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", business_connection_id: Optional[str] = None) -> N…
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/send_media_group.py:504:60
    |
502 | …                     or "application/zip",
503 | …                     file=await self.save_file(i.media),
504 | …                     thumb=await self.save_file(i.thumb),
    |                                                  ^^^^^^^ Expected `str | BinaryIO`, found `Unknown | str | None`
505 | …                     attributes=[
506 | …                         raw.types.DocumentAttributeFilename(
    |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `pyrogram.raw.types.input_media_document.InputMediaDocument` is not assignable to `list[InputMediaPhoto | InputMediaVideo | InputMediaAudio | pyrogram.types.input_media.input_media_document.InputMediaDocument | InputMediaAnimation]`
   --> pyrogram/methods/messages/send_media_group.py:518:21
    |
516 |                       )
517 |
518 |                       media = raw.types.InputMediaDocument(
    |  _____________________-----___^
    | |                     |
    | |                     Declared type `list[InputMediaPhoto | InputMediaVideo | InputMediaAudio | InputMediaDocument | InputMediaAnimation]`
519 | |                         id=raw.types.InputDocument(
520 | |                             id=media.document.id,
521 | |                             access_hash=media.document.access_hash,
522 | |                             file_reference=media.document.file_reference,
523 | |                         ),
524 | |                     )
    | |_____________________^ Incompatible value of type `InputMediaDocument`
525 |               else:
526 |                   raise ValueError(
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_media_group.py:532:21
    |
530 |             multi_media.append(
531 |                 raw.types.InputSingleMedia(
532 |                     media=media,
    |                     ^^^^^^^^^^^ Expected `InputMedia`, found `list[InputMediaPhoto | InputMediaVideo | InputMediaAudio | InputMediaDocument | InputMediaAnimation] | Any`
533 |                     random_id=self.rnd_id(),
534 |                     **await self.parser.parse(i.caption, i.parse_mode),
    |
info: Element `list[InputMediaPhoto | InputMediaVideo | InputMediaAudio | InputMediaDocument | InputMediaAnimation]` of this union is not assignable to `InputMedia`
info: Method defined here
  --> pyrogram/raw/types/input_single_media.py:44:9
   |
42 |     QUALNAME = "types.InputSingleMedia"
43 |
44 |     def __init__(self, *, media: "raw.base.InputMedia", random_id: int, message: str, entities: Optional[List["raw.base.MessageEntity"…
   |         ^^^^^^^^          ---------------------------- Parameter declared here
45 |         self.media = media  # InputMedia
46 |         self.random_id = random_id  # long
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_media_group.py:533:21
    |
531 |                 raw.types.InputSingleMedia(
532 |                     media=media,
533 |                     random_id=self.rnd_id(),
    |                     ^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | MsgId`
534 |                     **await self.parser.parse(i.caption, i.parse_mode),
535 |                 ),
    |
info: Element `MsgId` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/types/input_single_media.py:44:9
   |
42 |     QUALNAME = "types.InputSingleMedia"
43 |
44 |     def __init__(self, *, media: "raw.base.InputMedia", random_id: int, message: str, entities: Optional[List["raw.base.MessageEntity"…
   |         ^^^^^^^^                                        -------------- Parameter declared here
45 |         self.media = media  # InputMedia
46 |         self.random_id = random_id  # long
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `parse` is incorrect
   --> pyrogram/methods/messages/send_media_group.py:534:58
    |
532 |                     media=media,
533 |                     random_id=self.rnd_id(),
534 |                     **await self.parser.parse(i.caption, i.parse_mode),
    |                                                          ^^^^^^^^^^^^ Expected `ParseMode | None`, found `Unknown | str | None`
535 |                 ),
536 |             )
    |
info: Element `str` of this union is not assignable to `ParseMode | None`
info: Method defined here
  --> pyrogram/parser/parser.py:16:15
   |
14 |         self.markdown = Markdown(client)
15 |
16 |     async def parse(self, text: str, mode: enums.ParseMode | None = None):
   |               ^^^^^                  ----------------------------------- Parameter declared here
17 |         text = str(text or "").strip()
   |
info: Union variant `bound method Parser.parse(text: str, mode: ParseMode | None = None) -> CoroutineType[Any, Any, Unknown]` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method Parser.parse(text: str, mode: ParseMode | None = None) -> CoroutineType[Any, Any, Unknown])`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_media_group.py:539:13
    |
538 |         rpc = raw.functions.messages.SendMultiMedia(
539 |             peer=await self.resolve_peer(chat_id),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
540 |             multi_media=multi_media,
541 |             silent=disable_notification or None,
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_multi_media.py:78:9
   |
76 |     QUALNAME = "functions.messages.SendMultiMedia"
77 |
78 |     def __init__(self, *, peer: "raw.base.InputPeer", multi_media: List["raw.base.InputSingleMedia"], silent: Optional[bool] = None, b…
   |         ^^^^^^^^          -------------------------- Parameter declared here
79 |         self.peer = peer  # InputPeer
80 |         self.multi_media = multi_media  # Vector<InputSingleMedia>
   |
info: rule `invalid-argument-type` is enabled by default

error[unknown-argument]: Argument `schedule_repeat_period` does not match any known parameter of bound method `__init__`
   --> pyrogram/methods/messages/send_media_group.py:551:13
    |
549 |             clear_draft=clear_draft,
550 |             update_stickersets_order=update_stickersets_order,
551 |             schedule_repeat_period=schedule_repeat_period,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
552 |             send_as=await self.resolve_peer(send_as) if send_as else None,
553 |             quick_reply_shortcut=await utils.get_input_quick_reply_shortcut(
    |
info: Method signature here
  --> pyrogram/raw/functions/messages/send_multi_media.py:78:9
   |
76 | … QUALNAME = "functions.messages.SendMultiMedia"
77 | …
78 | … def __init__(self, *, peer: "raw.base.InputPeer", multi_media: List["raw.base.InputSingleMedia"], silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, schedule_date: Optional[int] = None, send_as: "raw.base.InputPeer" = None, quick_reply_shortcut: "raw.base.InputQuickReplyShortcut" = None, effect: Optional[int] = None, allow_paid_stars: Optional[int] = None) -> None:
   |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
79 | …     self.peer = peer  # InputPeer
80 | …     self.multi_media = multi_media  # Vector<InputSingleMedia>
   |
info: rule `unknown-argument` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_media_group.py:552:13
    |
550 |             update_stickersets_order=update_stickersets_order,
551 |             schedule_repeat_period=schedule_repeat_period,
552 |             send_as=await self.resolve_peer(send_as) if send_as else None,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel | None`
553 |             quick_reply_shortcut=await utils.get_input_quick_reply_shortcut(
554 |                 quick_reply_shortcut,
    |
info: Union element `InputUser`, and 2 more union elements, are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_multi_media.py:78:9
   |
76 | … QUALNAME = "functions.messages.SendMultiMedia"
77 | …
78 | … def __init__(self, *, peer: "raw.base.InputPeer", multi_media: List["raw.base.InputSingleMedia"], silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, schedule_date: Optional[int] = None, send_as: "raw.base.InputPeer" = None, qui…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                                                 ------------------------------------ Parameter declared here
79 | …     self.peer = peer  # InputPeer
80 | …     self.multi_media = multi_media  # Vector<InputSingleMedia>
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_media_group.py:553:13
    |
551 |               schedule_repeat_period=schedule_repeat_period,
552 |               send_as=await self.resolve_peer(send_as) if send_as else None,
553 | /             quick_reply_shortcut=await utils.get_input_quick_reply_shortcut(
554 | |                 quick_reply_shortcut,
555 | |             )
556 | |             if quick_reply_shortcut
557 | |             else None,
    | |_____________________^ Expected `InputQuickReplyShortcut`, found `Any | None`
558 |               allow_paid_stars=allow_paid_stars,
559 |           )
    |
info: Element `None` of this union is not assignable to `InputQuickReplyShortcut`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_multi_media.py:78:9
   |
76 | … QUALNAME = "functions.messages.SendMultiMedia"
77 | …
78 | … def __init__(self, *, peer: "raw.base.InputPeer", multi_media: List["raw.base.InputSingleMedia"], silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, schedule_date: Optional[int] = None, send_as: "raw.base.InputPeer" = None, quick_reply_shortcut: "raw.base.InputQuickReplyShortcut" = None, eff…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       --------------------------------------------------------------- Parameter declared here
79 | …     self.peer = peer  # InputPeer
80 | …     self.multi_media = multi_media  # Vector<InputSingleMedia>
   |
info: rule `invalid-argument-type` is enabled by default

error[missing-argument]: No argument provided for required parameter `topics` of bound method `__init__`
   --> pyrogram/methods/messages/send_media_group.py:574:13
    |
572 |           return await utils.parse_messages(
573 |               self,
574 | /             raw.types.messages.Messages(
575 | |                 messages=[
576 | |                     m.message
577 | |                     for m in filter(
578 | |                         lambda u: isinstance(
579 | |                             u,
580 | |                             raw.types.UpdateNewMessage
581 | |                             | raw.types.UpdateNewChannelMessage
582 | |                             | raw.types.UpdateNewScheduledMessage
583 | |                             | raw.types.UpdateBotNewBusinessMessage,
584 | |                         ),
585 | |                         r.updates,
586 | |                     )
587 | |                 ],
588 | |                 users=r.users,
589 | |                 chats=r.chats,
590 | |             ),
    | |_____________^
591 |               business_connection_id=business_connection_id,
592 |           )
    |
info: Union variant `bound method Messages.__init__(*, messages: list[Message], topics: list[ForumTopic], chats: list[Chat], users: list[User]) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method Messages.__init__(*, messages: list[Message], topics: list[ForumTopic], chats: list[Chat], users: list[User]) -> None)`
info: rule `missing-argument` is enabled by default

error[invalid-argument-type]: Argument to function `parse_messages` is incorrect
   --> pyrogram/methods/messages/send_media_group.py:591:13
    |
589 |                 chats=r.chats,
590 |             ),
591 |             business_connection_id=business_connection_id,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `str`, found `str | None`
592 |         )
    |
info: Element `None` of this union is not assignable to `str`
info: Function defined here
  --> pyrogram/utils.py:77:11
   |
77 | async def parse_messages(
   |           ^^^^^^^^^^^^^^
78 |     client,
79 |     messages: raw.types.messages.Messages | None,
80 |     is_scheduled: bool = False,
81 |     business_connection_id: str = "",
   |     -------------------------------- Parameter declared here
82 |     r: raw.base.Updates | None = None,
83 | ) -> list[types.Message]:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
  --> pyrogram/methods/messages/send_message.py:41:9
   |
39 |           update_stickersets_order: bool | None = None,
40 |           suggested_post: types.SuggestedPost | None = None,
41 | /         reply_markup: types.InlineKeyboardMarkup
42 | |         | types.ReplyKeyboardMarkup
43 | |         | types.ReplyKeyboardRemove
44 | |         | types.ForceReply = None,
   | |_________________________________^
45 |       ) -> types.Message:
46 |           """Send text messages.
   |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_message.py:199:13
    |
198 |         rpc = raw.functions.messages.SendMessage(
199 |             peer=await self.resolve_peer(chat_id),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
200 |             no_webpage=disable_web_page_preview or None,
201 |             silent=disable_notification or None,
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_message.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMessage"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", message: str, random_id: int, no_webpage: Optional[bool] = None, silent: Optiona…
   |         ^^^^^^^^          -------------------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.message = message  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_message.py:203:13
    |
201 |             silent=disable_notification or None,
202 |             reply_to=reply_to,
203 |             random_id=self.rnd_id(),
    |             ^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | MsgId`
204 |             schedule_date=utils.datetime_to_timestamp(schedule_date),
205 |             reply_markup=await reply_markup.write(self) if reply_markup else None,
    |
info: Element `MsgId` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_message.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMessage"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", message: str, random_id: int, no_webpage: Optional[bool] = None, silent: Optiona…
   |         ^^^^^^^^                                                    -------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.message = message  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_message.py:205:13
    |
203 |             random_id=self.rnd_id(),
204 |             schedule_date=utils.datetime_to_timestamp(schedule_date),
205 |             reply_markup=await reply_markup.write(self) if reply_markup else None,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `ReplyMarkup`, found `Unknown | None`
206 |             message=message,
207 |             entities=entities,
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_message.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMessage"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", message: str, random_id: int, no_webpage: Optional[bool] = None, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, ent…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                             ------------------------------------------- Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.message = message  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_message.py:216:13
    |
214 |             update_stickersets_order=update_stickersets_order,
215 |             schedule_repeat_period=schedule_repeat_period,
216 |             send_as=await self.resolve_peer(send_as) if send_as else None,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel | None`
217 |             quick_reply_shortcut=await utils.get_input_quick_reply_shortcut(
218 |                 quick_reply_shortcut,
    |
info: Union element `InputUser`, and 2 more union elements, are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_message.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMessage"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", message: str, random_id: int, no_webpage: Optional[bool] = None, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, entities: Optional[List["raw.base.MessageEntity"]] = None, schedule_date: Optional[int] = None, schedule_repeat_period: Optional[int] = None, send_as: "raw.base.InputPeer" = None, qui…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        ------------------------------------ Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.message = message  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_message.py:217:13
    |
215 |               schedule_repeat_period=schedule_repeat_period,
216 |               send_as=await self.resolve_peer(send_as) if send_as else None,
217 | /             quick_reply_shortcut=await utils.get_input_quick_reply_shortcut(
218 | |                 quick_reply_shortcut,
219 | |             )
220 | |             if quick_reply_shortcut
221 | |             else None,
    | |_____________________^ Expected `InputQuickReplyShortcut`, found `Any | None`
222 |               allow_paid_stars=allow_paid_stars,
223 |               suggested_post=await suggested_post.write() if suggested_post else None,
    |
info: Element `None` of this union is not assignable to `InputQuickReplyShortcut`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_message.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMessage"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", message: str, random_id: int, no_webpage: Optional[bool] = None, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, entities: Optional[List["raw.base.MessageEntity"]] = None, schedule_date: Optional[int] = None, schedule_repeat_period: Optional[int] = None, send_as: "raw.base.InputPeer" = None, quick_reply_shortcut: "raw.base.InputQuickReplyShortcut" = None, eff…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              --------------------------------------------------------------- Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.message = message  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_message.py:223:13
    |
221 |             else None,
222 |             allow_paid_stars=allow_paid_stars,
223 |             suggested_post=await suggested_post.write() if suggested_post else None,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `pyrogram.raw.base.suggested_post.SuggestedPost`, found `pyrogram.raw.types.suggested_post.SuggestedPost | None`
224 |         )
225 |         if business_connection_id is not None:
    |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.suggested_post.SuggestedPost`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_message.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMessage"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", message: str, random_id: int, no_webpage: Optional[bool] = None, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, entities: Optional[List["raw.base.MessageEntity"]] = None, schedule_date: Optional[int] = None, schedule_repeat_period: Optional[int] = None, send_as: "raw.base.InputPeer" = None, quick_reply_shortcut: "raw.base.InputQuickReplyShortcut" = None, effect: Optional[int] = None, allow_paid_stars: Optional[int] = None, suggested_post: "raw.base.SuggestedPost" = None) -> …
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     ----------------------------------------------- Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.message = message  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `(InputPeer & ~InputPeerUser) | (InputUser & ~InputPeerUser) | (InputChannel & ~InputPeerUser)` has no attribute `chat_id`
   --> pyrogram/methods/messages/send_message.py:241:23
    |
239 |                 peer.user_id
240 |                 if isinstance(peer, raw.types.InputPeerUser)
241 |                 else -peer.chat_id
    |                       ^^^^^^^^^^^^
242 |             )
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_message.py:255:17
    |
253 |                   outgoing=r.out,
254 |                   reply_markup=reply_markup,
255 | /                 entities=[
256 | |                     types.MessageEntity._parse(None, entity, {})
257 | |                     for entity in entities
258 | |                 ]
259 | |                 if entities
260 | |                 else None,
    | |_________________________^ Expected `list[MessageEntity] | None`, found `list[MessageEntity | None] | None`
261 |                   client=self,
262 |               )
    |
info: Element `list[MessageEntity | None]` of this union is not assignable to `list[MessageEntity] | None`
info: Method defined here
   --> pyrogram/types/messages_and_media/message.py:473:9
    |
471 |     # TODO: Add game missing field, Also connected_website
472 |
473 |     def __init__(
    |         ^^^^^^^^
474 |         self,
475 |         *,
    |
   ::: pyrogram/types/messages_and_media/message.py:514:9
    |
512 |         has_media_spoiler: bool | None = None,
513 |         text: Str  | None = None,
514 |         entities: list[types.MessageEntity] | None = None,
    |         ------------------------------------------------- Parameter declared here
515 |         caption_entities: list[types.MessageEntity] | None = None,
516 |         quote_text: str | None = None,
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
   --> pyrogram/methods/messages/send_message.py:280:16
    |
278 |                     business_connection_id=business_connection_id,
279 |                 )
280 |         return None
    |                ^^^^ expected `Message`, found `None`
    |
   ::: pyrogram/methods/messages/send_message.py:45:10
    |
 43 |         | types.ReplyKeyboardRemove
 44 |         | types.ForceReply = None,
 45 |     ) -> types.Message:
    |          ------------- Expected `Message` because of return type
 46 |         """Send text messages.
    |
info: rule `invalid-return-type` is enabled by default

error[unresolved-attribute]: Module `pyrogram.types` has no member `InputPaidMediaPhoto`
  --> pyrogram/methods/messages/send_paid_media.py:24:21
   |
22 |         chat_id: int | str,
23 |         star_count: int,
24 |         media: list[types.InputPaidMediaPhoto | types.InputPaidMediaVideo],
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^
25 |         caption: str = "",
26 |         parse_mode: enums.ParseMode | None = None,
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Module `pyrogram.types` has no member `InputPaidMediaVideo`
  --> pyrogram/methods/messages/send_paid_media.py:24:49
   |
22 |         chat_id: int | str,
23 |         star_count: int,
24 |         media: list[types.InputPaidMediaPhoto | types.InputPaidMediaVideo],
   |                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^
25 |         caption: str = "",
26 |         parse_mode: enums.ParseMode | None = None,
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Module `pyrogram.types` has no member `InputPaidMediaPhoto`
  --> pyrogram/methods/messages/send_paid_media.py:81:30
   |
79 |         await self.resolve_peer(chat_id)
80 |         for i in media:
81 |             if isinstance(i, types.InputPaidMediaPhoto):
   |                              ^^^^^^^^^^^^^^^^^^^^^^^^^
82 |                 if isinstance(i.media, str):
83 |                     if await AsyncPath(i.media).is_file():
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/send_paid_media.py:86:33
   |
84 |                         media = await self.invoke(
85 |                             raw.functions.messages.UploadMedia(
86 |                                 peer=await self.resolve_peer(chat_id),
   |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
87 |                                 media=raw.types.InputMediaUploadedPhoto(
88 |                                     file=await self.save_file(i.media),
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/upload_media.py:42:9
   |
40 |     QUALNAME = "functions.messages.UploadMedia"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", business_connection_id: Optional[str] = None) -> N…
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `InputMediaPhoto` is not assignable to `list[Unknown]`
   --> pyrogram/methods/messages/send_paid_media.py:93:25
    |
 91 |                           )
 92 |
 93 |                           media = raw.types.InputMediaPhoto(
    |  _________________________-----___^
    | |                         |
    | |                         Declared type `list[Unknown]`
 94 | |                             id=raw.types.InputPhoto(
 95 | |                                 id=media.photo.id,
 96 | |                                 access_hash=media.photo.access_hash,
 97 | |                                 file_reference=media.photo.file_reference,
 98 | |                             ),
 99 | |                         )
    | |_________________________^ Incompatible value of type `InputMediaPhoto`
100 |                       elif re.match("^https?://", i.media):
101 |                           media = await self.invoke(
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_paid_media.py:103:33
    |
101 |                         media = await self.invoke(
102 |                             raw.functions.messages.UploadMedia(
103 |                                 peer=await self.resolve_peer(chat_id),
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
104 |                                 media=raw.types.InputMediaPhotoExternal(url=i.media),
105 |                             ),
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/upload_media.py:42:9
   |
40 |     QUALNAME = "functions.messages.UploadMedia"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", business_connection_id: Optional[str] = None) -> N…
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `InputMediaPhoto` is not assignable to `list[Unknown]`
   --> pyrogram/methods/messages/send_paid_media.py:108:25
    |
106 |                           )
107 |
108 |                           media = raw.types.InputMediaPhoto(
    |  _________________________-----___^
    | |                         |
    | |                         Declared type `list[Unknown]`
109 | |                             id=raw.types.InputPhoto(
110 | |                                 id=media.photo.id,
111 | |                                 access_hash=media.photo.access_hash,
112 | |                                 file_reference=media.photo.file_reference,
113 | |                             ),
114 | |                         )
    | |_________________________^ Incompatible value of type `InputMediaPhoto`
115 |                       else:
116 |                           media = utils.get_input_media_from_file_id(
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_paid_media.py:123:29
    |
121 |                     media = await self.invoke(
122 |                         raw.functions.messages.UploadMedia(
123 |                             peer=await self.resolve_peer(chat_id),
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
124 |                             media=raw.types.InputMediaUploadedPhoto(
125 |                                 file=await self.save_file(i.media),
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/upload_media.py:42:9
   |
40 |     QUALNAME = "functions.messages.UploadMedia"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", business_connection_id: Optional[str] = None) -> N…
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `InputMediaPhoto` is not assignable to `list[Unknown]`
   --> pyrogram/methods/messages/send_paid_media.py:130:21
    |
128 |                       )
129 |
130 |                       media = raw.types.InputMediaPhoto(
    |  _____________________-----___^
    | |                     |
    | |                     Declared type `list[Unknown]`
131 | |                         id=raw.types.InputPhoto(
132 | |                             id=media.photo.id,
133 | |                             access_hash=media.photo.access_hash,
134 | |                             file_reference=media.photo.file_reference,
135 | |                         ),
136 | |                     )
    | |_____________________^ Incompatible value of type `InputMediaPhoto`
137 |               elif isinstance(i, types.InputPaidMediaVideo):
138 |                   if isinstance(i.media, str):
    |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Module `pyrogram.types` has no member `InputPaidMediaVideo`
   --> pyrogram/methods/messages/send_paid_media.py:137:32
    |
135 |                         ),
136 |                     )
137 |             elif isinstance(i, types.InputPaidMediaVideo):
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^
138 |                 if isinstance(i.media, str):
139 |                     if await AsyncPath(i.media).is_file():
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_paid_media.py:153:33
    |
151 |                         media = await self.invoke(
152 |                             raw.functions.messages.UploadMedia(
153 |                                 peer=await self.resolve_peer(chat_id),
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
154 |                                 media=raw.types.InputMediaUploadedDocument(
155 |                                     file=await self.save_file(i.media),
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/upload_media.py:42:9
   |
40 |     QUALNAME = "functions.messages.UploadMedia"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", business_connection_id: Optional[str] = None) -> N…
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `InputMediaDocument` is not assignable to `list[Unknown]`
   --> pyrogram/methods/messages/send_paid_media.py:165:25
    |
163 |                           )
164 |
165 |                           media = raw.types.InputMediaDocument(
    |  _________________________-----___^
    | |                         |
    | |                         Declared type `list[Unknown]`
166 | |                             id=raw.types.InputDocument(
167 | |                                 id=media.document.id,
168 | |                                 access_hash=media.document.access_hash,
169 | |                                 file_reference=media.document.file_reference,
170 | |                             ),
171 | |                         )
    | |_________________________^ Incompatible value of type `InputMediaDocument`
172 |                       elif re.match("^https?://", i.media):
173 |                           media = await self.invoke(
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_paid_media.py:175:33
    |
173 |                         media = await self.invoke(
174 |                             raw.functions.messages.UploadMedia(
175 |                                 peer=await self.resolve_peer(chat_id),
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
176 |                                 media=raw.types.InputMediaDocumentExternal(
177 |                                     url=i.media,
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/upload_media.py:42:9
   |
40 |     QUALNAME = "functions.messages.UploadMedia"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", business_connection_id: Optional[str] = None) -> N…
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `InputMediaDocument` is not assignable to `list[Unknown]`
   --> pyrogram/methods/messages/send_paid_media.py:182:25
    |
180 |                           )
181 |
182 |                           media = raw.types.InputMediaDocument(
    |  _________________________-----___^
    | |                         |
    | |                         Declared type `list[Unknown]`
183 | |                             id=raw.types.InputDocument(
184 | |                                 id=media.document.id,
185 | |                                 access_hash=media.document.access_hash,
186 | |                                 file_reference=media.document.file_reference,
187 | |                             ),
188 | |                         )
    | |_________________________^ Incompatible value of type `InputMediaDocument`
189 |                       else:
190 |                           media = utils.get_input_media_from_file_id(
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_paid_media.py:197:29
    |
195 |                     media = await self.invoke(
196 |                         raw.functions.messages.UploadMedia(
197 |                             peer=await self.resolve_peer(chat_id),
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
198 |                             media=raw.types.InputMediaUploadedDocument(
199 |                                 file=await self.save_file(i.media),
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/upload_media.py:42:9
   |
40 |     QUALNAME = "functions.messages.UploadMedia"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", business_connection_id: Optional[str] = None) -> N…
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `InputMediaDocument` is not assignable to `list[Unknown]`
   --> pyrogram/methods/messages/send_paid_media.py:225:21
    |
223 |                       )
224 |
225 |                       media = raw.types.InputMediaDocument(
    |  _____________________-----___^
    | |                     |
    | |                     Declared type `list[Unknown]`
226 | |                         id=raw.types.InputDocument(
227 | |                             id=media.document.id,
228 | |                             access_hash=media.document.access_hash,
229 | |                             file_reference=media.document.file_reference,
230 | |                         ),
231 | |                     )
    | |_____________________^ Incompatible value of type `InputMediaDocument`
232 |               else:
233 |                   raise ValueError(
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_paid_media.py:239:13
    |
238 |         rpc = raw.functions.messages.SendMedia(
239 |             peer=await self.resolve_peer(chat_id),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
240 |             media=raw.types.InputMediaPaidMedia(
241 |                 stars_amount=star_count,
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^          -------------------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_paid_media.py:245:13
    |
243 |             ),
244 |             silent=disable_notification or None,
245 |             random_id=self.rnd_id(),
    |             ^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | MsgId`
246 |             schedule_date=utils.datetime_to_timestamp(schedule_date),
247 |             noforwards=protect_content,
    |
info: Element `MsgId` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^                                                                                  -------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `Client` has no attribute `business_user_connection_cache`
   --> pyrogram/methods/messages/send_paid_media.py:259:35
    |
257 |         business_connection = None
258 |         if business_connection_id:
259 |             business_connection = self.business_user_connection_cache[
    |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
260 |                 business_connection_id
261 |             ]
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `_raw` is not defined on `Message` in union `(Unknown & ~AlwaysFalsy) | Message`
   --> pyrogram/methods/messages/send_paid_media.py:268:17
    |
266 |             session = await get_session(
267 |                 self,
268 |                 business_connection._raw.connection.dc_id,
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^
269 |             )
270 |         if business_connection_id:
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `invoke` is not defined on `None` in union `None | Unknown`
   --> pyrogram/methods/messages/send_paid_media.py:271:23
    |
269 |             )
270 |         if business_connection_id:
271 |             r = await session.invoke(
    |                       ^^^^^^^^^^^^^^
272 |                 raw.functions.InvokeWithBusinessConnection(
273 |                     query=rpc,
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-return-type]: Return type does not match returned value
   --> pyrogram/methods/messages/send_paid_media.py:309:16
    |
307 |                     replies=0,
308 |                 )
309 |         return None
    |                ^^^^ expected `Message`, found `None`
    |
   ::: pyrogram/methods/messages/send_paid_media.py:33:10
    |
 31 |         business_connection_id: str | None = None,
 32 |         schedule_date: datetime | None = None,
 33 |     ) -> types.Message:
    |          ------------- Expected `Message` because of return type
 34 |         """Use this method to send paid media.
    |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/send_paid_reaction.py:49:17
   |
47 |         r = await self.invoke(
48 |             raw.functions.messages.SendPaidReaction(
49 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
50 |                 msg_id=message_id,
51 |                 random_id=self.rnd_id(),
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_paid_reaction.py:48:9
   |
46 |     QUALNAME = "functions.messages.SendPaidReaction"
47 |
48 |     def __init__(self, *, peer: "raw.base.InputPeer", msg_id: int, count: int, random_id: int, private: "raw.base.PaidReactionPrivacy"…
   |         ^^^^^^^^          -------------------------- Parameter declared here
49 |         self.peer = peer  # InputPeer
50 |         self.msg_id = msg_id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/send_paid_reaction.py:51:17
   |
49 |                 peer=await self.resolve_peer(chat_id),
50 |                 msg_id=message_id,
51 |                 random_id=self.rnd_id(),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | MsgId`
52 |                 count=star_count,
53 |                 private=is_anonymous,
   |
info: Element `MsgId` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_paid_reaction.py:48:9
   |
46 |     QUALNAME = "functions.messages.SendPaidReaction"
47 |
48 |     def __init__(self, *, peer: "raw.base.InputPeer", msg_id: int, count: int, random_id: int, private: "raw.base.PaidReactionPrivacy"…
   |         ^^^^^^^^                                                               -------------- Parameter declared here
49 |         self.peer = peer  # InputPeer
50 |         self.msg_id = msg_id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/send_paid_reaction.py:52:17
   |
50 |                 msg_id=message_id,
51 |                 random_id=self.rnd_id(),
52 |                 count=star_count,
   |                 ^^^^^^^^^^^^^^^^ Expected `int`, found `int | None`
53 |                 private=is_anonymous,
54 |             ),
   |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_paid_reaction.py:48:9
   |
46 |     QUALNAME = "functions.messages.SendPaidReaction"
47 |
48 |     def __init__(self, *, peer: "raw.base.InputPeer", msg_id: int, count: int, random_id: int, private: "raw.base.PaidReactionPrivacy"…
   |         ^^^^^^^^                                                   ---------- Parameter declared here
49 |         self.peer = peer  # InputPeer
50 |         self.msg_id = msg_id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/send_paid_reaction.py:53:17
   |
51 |                 random_id=self.rnd_id(),
52 |                 count=star_count,
53 |                 private=is_anonymous,
   |                 ^^^^^^^^^^^^^^^^^^^^ Expected `PaidReactionPrivacy`, found `bool`
54 |             ),
55 |         )
   |
info: Method defined here
  --> pyrogram/raw/functions/messages/send_paid_reaction.py:48:9
   |
46 | … QUALNAME = "functions.messages.SendPaidReaction"
47 | …
48 | … def __init__(self, *, peer: "raw.base.InputPeer", msg_id: int, count: int, random_id: int, private: "raw.base.PaidReactionPrivacy" = None) -> …
   |       ^^^^^^^^                                                                               ---------------------------------------------- Parameter declared here
49 | …     self.peer = peer  # InputPeer
50 | …     self.msg_id = msg_id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/messages/send_paid_reaction.py:59:24
   |
57 |         for i in r.updates:
58 |             if isinstance(i, raw.types.UpdateMessageReactions):
59 |                 return types.MessageReactions._parse(self, i.reactions, users)
   |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `MessageReactions`, found `MessageReactions | None`
60 |         # TODO
61 |         return r
   |
  ::: pyrogram/methods/messages/send_paid_reaction.py:18:10
   |
16 |         star_count: int | None = None,
17 |         is_anonymous: bool = False,
18 |     ) -> types.MessageReactions:
   |          ---------------------- Expected `MessageReactions` because of return type
19 |         """Adds the paid message reaction to a message.
   |
info: rule `invalid-return-type` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
  --> pyrogram/methods/messages/send_photo.py:50:9
   |
48 |           update_stickersets_order: bool | None = None,
49 |           suggested_post: types.SuggestedPost | None = None,
50 | /         reply_markup: types.InlineKeyboardMarkup
51 | |         | types.ReplyKeyboardMarkup
52 | |         | types.ReplyKeyboardRemove
53 | |         | types.ForceReply = None,
   | |_________________________________^
54 |           progress: Callable | None = None,
55 |           progress_args: tuple = (),
   |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_photo.py:267:25
    |
265 |                 try:
266 |                     rpc = raw.functions.messages.SendMedia(
267 |                         peer=await self.resolve_peer(chat_id),
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
268 |                         media=media,
269 |                         silent=disable_notification or None,
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^          -------------------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_photo.py:271:25
    |
269 |                         silent=disable_notification or None,
270 |                         reply_to=reply_to,
271 |                         random_id=self.rnd_id(),
    |                         ^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | MsgId`
272 |                         schedule_date=utils.datetime_to_timestamp(schedule_date),
273 |                         noforwards=protect_content,
    |
info: Element `MsgId` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^                                                                                  -------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_photo.py:281:25
    |
279 |                           update_stickersets_order=update_stickersets_order,
280 |                           schedule_repeat_period=schedule_repeat_period,
281 | /                         send_as=await self.resolve_peer(send_as)
282 | |                         if send_as
283 | |                         else None,
    | |_________________________________^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel | None`
284 |                           quick_reply_shortcut=await utils.get_input_quick_reply_shortcut(
285 |                               quick_reply_shortcut,
    |
info: Union element `InputUser`, and 2 more union elements, are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMedia"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, entities: Optional[List["raw.base.MessageEntity"]] = None, schedule_date: Optional[int] = None, schedule_repeat_period: Optional[int] = None, send_as: "raw.base.InputPeer" = None, qui…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   ------------------------------------ Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_photo.py:284:25
    |
282 |                           if send_as
283 |                           else None,
284 | /                         quick_reply_shortcut=await utils.get_input_quick_reply_shortcut(
285 | |                             quick_reply_shortcut,
286 | |                         )
287 | |                         if quick_reply_shortcut
288 | |                         else None,
    | |_________________________________^ Expected `InputQuickReplyShortcut`, found `Any | None`
289 |                           allow_paid_stars=allow_paid_stars,
290 |                           suggested_post=await suggested_post.write()
    |
info: Element `None` of this union is not assignable to `InputQuickReplyShortcut`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMedia"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, entities: Optional[List["raw.base.MessageEntity"]] = None, schedule_date: Optional[int] = None, schedule_repeat_period: Optional[int] = None, send_as: "raw.base.InputPeer" = None, quick_reply_shortcut: "raw.base.InputQuickReplyShortcut" = None, eff…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         --------------------------------------------------------------- Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_photo.py:290:25
    |
288 |                           else None,
289 |                           allow_paid_stars=allow_paid_stars,
290 | /                         suggested_post=await suggested_post.write()
291 | |                         if suggested_post
292 | |                         else None,
    | |_________________________________^ Expected `pyrogram.raw.base.suggested_post.SuggestedPost`, found `pyrogram.raw.types.suggested_post.SuggestedPost | None`
293 |                           reply_markup=await reply_markup.write(self)
294 |                           if reply_markup
    |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.suggested_post.SuggestedPost`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMedia"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, entities: Optional[List["raw.base.MessageEntity"]] = None, schedule_date: Optional[int] = None, schedule_repeat_period: Optional[int] = None, send_as: "raw.base.InputPeer" = None, quick_reply_shortcut: "raw.base.InputQuickReplyShortcut" = None, effect: Optional[int] = None, allow_paid_stars: Optional[int] = None, suggested_post: "raw.base.SuggestedPost" = None) -> …
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ----------------------------------------------- Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_photo.py:293:25
    |
291 |                           if suggested_post
292 |                           else None,
293 | /                         reply_markup=await reply_markup.write(self)
294 | |                         if reply_markup
295 | |                         else None,
    | |_________________________________^ Expected `ReplyMarkup`, found `Unknown | None`
296 |                           **await utils.parse_text_entities(
297 |                               self,
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMedia"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, ent…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                        ------------------------------------------- Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `None | Unknown`
   --> pyrogram/methods/messages/send_photo.py:313:57
    |
311 |                         r = await self.invoke(rpc)
312 |                 except FilePartMissing as e:
313 |                     await self.save_file(photo, file_id=file.id, file_part=e.value)
    |                                                         ^^^^^^^
314 |                 else:
315 |                     for i in r.updates:
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/send_photo.py:313:66
    |
311 |                         r = await self.invoke(rpc)
312 |                 except FilePartMissing as e:
313 |                     await self.save_file(photo, file_id=file.id, file_part=e.value)
    |                                                                  ^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | int | str | RpcError | None`
314 |                 else:
315 |                     for i in r.updates:
    |
info: Union element `str`, and 2 more union elements, are not assignable to `int`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |         ------------------ Parameter declared here
29 |         progress: Callable | None = None,
30 |         progress_args: tuple = (),
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
  --> pyrogram/methods/messages/send_poll.py:41:9
   |
39 |           schedule_date: datetime | None = None,
40 |           message_effect_id: int | None = None,
41 | /         reply_markup: types.InlineKeyboardMarkup
42 | |         | types.ReplyKeyboardMarkup
43 | |         | types.ReplyKeyboardRemove
44 | |         | types.ForceReply = None,
   | |_________________________________^
45 |       ) -> types.Message:
46 |           """Send a new poll.
   |
info: rule `invalid-parameter-default` is enabled by default

warning[possibly-missing-attribute]: Submodule `utils` may not be available as an attribute on module `pyrogram`
   --> pyrogram/methods/messages/send_poll.py:194:19
    |
192 |         ).values()
193 |         q, q_entities = (
194 |             await pyrogram.utils.parse_text_entities(
    |                   ^^^^^^^^^^^^^^
195 |                 self,
196 |                 question,
    |
help: Consider explicitly importing `pyrogram.utils`
info: rule `possibly-missing-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_poll.py:203:13
    |
202 |         rpc = raw.functions.messages.SendMedia(
203 |             peer=await self.resolve_peer(chat_id),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
204 |             media=raw.types.InputMediaPoll(
205 |                 poll=raw.types.Poll(
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^          -------------------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_poll.py:206:21
    |
204 |             media=raw.types.InputMediaPoll(
205 |                 poll=raw.types.Poll(
206 |                     id=self.rnd_id(),
    |                     ^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | MsgId`
207 |                     question=raw.types.TextWithEntities(
208 |                         text=q,
    |
info: Element `MsgId` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/types/poll.py:59:9
   |
57 |     QUALNAME = "types.Poll"
58 |
59 |     def __init__(self, *, id: int, question: "raw.base.TextWithEntities", answers: List["raw.base.PollAnswer"], closed: Optional[bool]…
   |         ^^^^^^^^          ------- Parameter declared here
60 |         self.id = id  # long
61 |         self.question = question  # TextWithEntities
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_poll.py:234:13
    |
232 |             silent=disable_notification,
233 |             reply_to=reply_to,
234 |             random_id=self.rnd_id(),
    |             ^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | MsgId`
235 |             schedule_date=utils.datetime_to_timestamp(schedule_date),
236 |             noforwards=protect_content,
    |
info: Element `MsgId` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^                                                                                  -------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_poll.py:238:13
    |
236 |             noforwards=protect_content,
237 |             allow_paid_floodskip=allow_paid_broadcast,
238 |             reply_markup=await reply_markup.write(self) if reply_markup else None,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `ReplyMarkup`, found `Unknown | None`
239 |             effect=message_effect_id,
240 |         )
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMedia"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, ent…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                        ------------------------------------------- Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
   --> pyrogram/methods/messages/send_poll.py:267:16
    |
265 |                     business_connection_id=business_connection_id,
266 |                 )
267 |         return None
    |                ^^^^ expected `Message`, found `None`
    |
   ::: pyrogram/methods/messages/send_poll.py:45:10
    |
 43 |         | types.ReplyKeyboardRemove
 44 |         | types.ForceReply = None,
 45 |     ) -> types.Message:
    |          ------------- Expected `Message` because of return type
 46 |         """Send a new poll.
    |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/send_reaction.py:85:21
   |
83 |             r = await self.invoke(
84 |                 raw.functions.messages.SendReaction(
85 |                     peer=await self.resolve_peer(chat_id),
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
86 |                     msg_id=message_id,
87 |                     reaction=reaction,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_reaction.py:48:9
   |
46 |     QUALNAME = "functions.messages.SendReaction"
47 |
48 |     def __init__(self, *, peer: "raw.base.InputPeer", msg_id: int, big: Optional[bool] = None, add_to_recent: Optional[bool] = None, r…
   |         ^^^^^^^^          -------------------------- Parameter declared here
49 |         self.peer = peer  # InputPeer
50 |         self.msg_id = msg_id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/messages/send_reaction.py:94:28
   |
92 |             for i in r.updates:
93 |                 if isinstance(i, raw.types.UpdateMessageReactions):
94 |                     return types.MessageReactions._parse(self, i.reactions)
   |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `MessageReactions`, found `MessageReactions | None`
95 |             return None
96 |         if story_id is not None:
   |
  ::: pyrogram/methods/messages/send_reaction.py:16:10
   |
14 |         big: bool = False,
15 |         add_to_recent: bool = False,
16 |     ) -> types.MessageReactions:
   |          ---------------------- Expected `MessageReactions` because of return type
17 |         """Use this method to send reactions on a message/stories.
18 |         Service messages can't be reacted to.
   |
info: rule `invalid-return-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/messages/send_reaction.py:95:20
   |
93 |                 if isinstance(i, raw.types.UpdateMessageReactions):
94 |                     return types.MessageReactions._parse(self, i.reactions)
95 |             return None
   |                    ^^^^ expected `MessageReactions`, found `None`
96 |         if story_id is not None:
97 |             await self.invoke(
   |
  ::: pyrogram/methods/messages/send_reaction.py:16:10
   |
14 |         big: bool = False,
15 |         add_to_recent: bool = False,
16 |     ) -> types.MessageReactions:
   |          ---------------------- Expected `MessageReactions` because of return type
17 |         """Use this method to send reactions on a message/stories.
18 |         Service messages can't be reacted to.
   |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_reaction.py:99:21
    |
 97 |             await self.invoke(
 98 |                 raw.functions.stories.SendReaction(
 99 |                     peer=await self.resolve_peer(chat_id),
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
100 |                     story_id=story_id,
101 |                     reaction=raw.types.ReactionEmoji(emoticon=emoji)
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/stories/send_reaction.py:45:9
   |
43 |     QUALNAME = "functions.stories.SendReaction"
44 |
45 |     def __init__(self, *, peer: "raw.base.InputPeer", story_id: int, reaction: "raw.base.Reaction", add_to_recent: Optional[bool] = No…
   |         ^^^^^^^^          -------------------------- Parameter declared here
46 |         self.peer = peer  # InputPeer
47 |         self.story_id = story_id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_reaction.py:101:21
    |
 99 |                       peer=await self.resolve_peer(chat_id),
100 |                       story_id=story_id,
101 | /                     reaction=raw.types.ReactionEmoji(emoticon=emoji)
102 | |                     if emoji
103 | |                     else None,
    | |_____________________________^ Expected `Reaction`, found `ReactionEmoji | None`
104 |                       add_to_recent=add_to_recent,
105 |                   ),
    |
info: Element `None` of this union is not assignable to `Reaction`
info: Method defined here
  --> pyrogram/raw/functions/stories/send_reaction.py:45:9
   |
43 |     QUALNAME = "functions.stories.SendReaction"
44 |
45 |     def __init__(self, *, peer: "raw.base.InputPeer", story_id: int, reaction: "raw.base.Reaction", add_to_recent: Optional[bool] = No…
   |         ^^^^^^^^                                                     ----------------------------- Parameter declared here
46 |         self.peer = peer  # InputPeer
47 |         self.story_id = story_id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_reaction.py:101:54
    |
 99 |                     peer=await self.resolve_peer(chat_id),
100 |                     story_id=story_id,
101 |                     reaction=raw.types.ReactionEmoji(emoticon=emoji)
    |                                                      ^^^^^^^^^^^^^^ Expected `str`, found `(int & ~AlwaysFalsy) | (str & ~AlwaysFalsy) | (list[int | str] & ~AlwaysFalsy)`
102 |                     if emoji
103 |                     else None,
    |
info: Union elements `int & ~AlwaysFalsy` and `list[int | str] & ~AlwaysFalsy` are not assignable to `str`
info: Method defined here
  --> pyrogram/raw/types/reaction_emoji.py:35:9
   |
33 |     QUALNAME = "types.ReactionEmoji"
34 |
35 |     def __init__(self, *, emoticon: str) -> None:
   |         ^^^^^^^^          ------------- Parameter declared here
36 |         self.emoticon = emoticon  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
   --> pyrogram/methods/messages/send_reaction.py:107:20
    |
105 |                 ),
106 |             )
107 |             return True
    |                    ^^^^ expected `MessageReactions`, found `Literal[True]`
108 |         raise ValueError("You need to pass one of message_id!")
    |
   ::: pyrogram/methods/messages/send_reaction.py:16:10
    |
 14 |         big: bool = False,
 15 |         add_to_recent: bool = False,
 16 |     ) -> types.MessageReactions:
    |          ---------------------- Expected `MessageReactions` because of return type
 17 |         """Use this method to send reactions on a message/stories.
 18 |         Service messages can't be reacted to.
    |
info: rule `invalid-return-type` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
  --> pyrogram/methods/messages/send_sticker.py:38:9
   |
36 |           allow_paid_broadcast: bool | None = None,
37 |           message_effect_id: int | None = None,
38 | /         reply_markup: types.InlineKeyboardMarkup
39 | |         | types.ReplyKeyboardMarkup
40 | |         | types.ReplyKeyboardRemove
41 | |         | types.ForceReply = None,
   | |_________________________________^
42 |           progress: Callable | None = None,
43 |           progress_args: tuple = (),
   |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_sticker.py:184:33
    |
182 | …                     ),
183 | …                     raw.types.DocumentAttributeSticker(
184 | …                         alt=emoji,
    |                           ^^^^^^^^^ Expected `str`, found `str | None`
185 | …                         stickerset=raw.types.InputStickerSetEmpty(),
186 | …                     ),
    |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/raw/types/document_attribute_sticker.py:44:9
   |
42 |     QUALNAME = "types.DocumentAttributeSticker"
43 |
44 |     def __init__(self, *, alt: str, stickerset: "raw.base.InputStickerSet", mask: Optional[bool] = None, mask_coords: "raw.base.MaskCo…
   |         ^^^^^^^^          -------- Parameter declared here
45 |         self.alt = alt  # string
46 |         self.stickerset = stickerset  # InputStickerSet
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_sticker.py:213:25
    |
211 |                 try:
212 |                     rpc = raw.functions.messages.SendMedia(
213 |                         peer=await self.resolve_peer(chat_id),
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
214 |                         media=media,
215 |                         silent=disable_notification or None,
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^          -------------------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_sticker.py:217:25
    |
215 |                         silent=disable_notification or None,
216 |                         reply_to=reply_to,
217 |                         random_id=self.rnd_id(),
    |                         ^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | MsgId`
218 |                         schedule_date=utils.datetime_to_timestamp(schedule_date),
219 |                         noforwards=protect_content,
    |
info: Element `MsgId` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^                                                                                  -------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_sticker.py:222:25
    |
220 |                           allow_paid_floodskip=allow_paid_broadcast,
221 |                           effect=message_effect_id,
222 | /                         reply_markup=await reply_markup.write(self)
223 | |                         if reply_markup
224 | |                         else None,
    | |_________________________________^ Expected `ReplyMarkup`, found `Unknown | None`
225 |                           message="",
226 |                       )
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMedia"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, ent…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                        ------------------------------------------- Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `None | Unknown`
   --> pyrogram/methods/messages/send_sticker.py:237:59
    |
235 |                         r = await self.invoke(rpc)
236 |                 except FilePartMissing as e:
237 |                     await self.save_file(sticker, file_id=file.id, file_part=e.value)
    |                                                           ^^^^^^^
238 |                 else:
239 |                     for i in r.updates:
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/send_sticker.py:237:68
    |
235 |                         r = await self.invoke(rpc)
236 |                 except FilePartMissing as e:
237 |                     await self.save_file(sticker, file_id=file.id, file_part=e.value)
    |                                                                    ^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | int | str | RpcError | None`
238 |                 else:
239 |                     for i in r.updates:
    |
info: Union element `str`, and 2 more union elements, are not assignable to `int`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |         ------------------ Parameter declared here
29 |         progress: Callable | None = None,
30 |         progress_args: tuple = (),
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
  --> pyrogram/methods/messages/send_venue.py:34:9
   |
32 |           allow_paid_broadcast: bool | None = None,
33 |           message_effect_id: int | None = None,
34 | /         reply_markup: types.InlineKeyboardMarkup
35 | |         | types.ReplyKeyboardMarkup
36 | |         | types.ReplyKeyboardRemove
37 | |         | types.ForceReply = None,
   | |_________________________________^
38 |       ) -> types.Message:
39 |           """Send information about a venue.
   |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_venue.py:141:13
    |
140 |         rpc = raw.functions.messages.SendMedia(
141 |             peer=await self.resolve_peer(chat_id),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
142 |             media=raw.types.InputMediaVenue(
143 |                 geo_point=raw.types.InputGeoPoint(lat=latitude, long=longitude),
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^          -------------------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_venue.py:153:13
    |
151 |             silent=disable_notification or None,
152 |             reply_to=reply_to,
153 |             random_id=self.rnd_id(),
    |             ^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | MsgId`
154 |             schedule_date=utils.datetime_to_timestamp(schedule_date),
155 |             noforwards=protect_content,
    |
info: Element `MsgId` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^                                                                                  -------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_venue.py:157:13
    |
155 |             noforwards=protect_content,
156 |             allow_paid_floodskip=allow_paid_broadcast,
157 |             reply_markup=await reply_markup.write(self) if reply_markup else None,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `ReplyMarkup`, found `Unknown | None`
158 |             effect=message_effect_id,
159 |         )
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMedia"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, ent…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                        ------------------------------------------- Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
   --> pyrogram/methods/messages/send_venue.py:186:16
    |
184 |                     business_connection_id=business_connection_id,
185 |                 )
186 |         return None
    |                ^^^^ expected `Message`, found `None`
    |
   ::: pyrogram/methods/messages/send_venue.py:38:10
    |
 36 |         | types.ReplyKeyboardRemove
 37 |         | types.ForceReply = None,
 38 |     ) -> types.Message:
    |          ------------- Expected `Message` because of return type
 39 |         """Send information about a venue.
    |
info: rule `invalid-return-type` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
  --> pyrogram/methods/messages/send_video.py:56:9
   |
54 |           update_stickersets_order: bool | None = None,
55 |           suggested_post: types.SuggestedPost | None = None,
56 | /         reply_markup: types.InlineKeyboardMarkup
57 | |         | types.ReplyKeyboardMarkup
58 | |         | types.ReplyKeyboardRemove
59 | |         | types.ForceReply = None,
   | |_________________________________^
60 |           progress: Callable | None = None,
61 |           progress_args: tuple = (),
   |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/send_video.py:257:50
    |
255 |             if isinstance(video, str):
256 |                 if await AsyncPath(video).is_file():
257 |                     thumb = await self.save_file(thumb)
    |                                                  ^^^^^ Expected `str | BinaryIO`, found `str | BinaryIO | None`
258 |                     file = await self.save_file(
259 |                         video,
    |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/send_video.py:295:46
    |
293 |                     media.spoiler = has_spoiler
294 |             else:
295 |                 thumb = await self.save_file(thumb)
    |                                              ^^^^^ Expected `str | BinaryIO`, found `str | BinaryIO | None`
296 |                 file = await self.save_file(
297 |                     video,
    |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_video.py:324:25
    |
322 |                 try:
323 |                     rpc = raw.functions.messages.SendMedia(
324 |                         peer=await self.resolve_peer(chat_id),
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
325 |                         media=media,
326 |                         silent=disable_notification or None,
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^          -------------------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_video.py:328:25
    |
326 |                         silent=disable_notification or None,
327 |                         reply_to=reply_to,
328 |                         random_id=self.rnd_id(),
    |                         ^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | MsgId`
329 |                         schedule_date=utils.datetime_to_timestamp(schedule_date),
330 |                         noforwards=protect_content,
    |
info: Element `MsgId` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^                                                                                  -------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_video.py:338:25
    |
336 |                           update_stickersets_order=update_stickersets_order,
337 |                           schedule_repeat_period=schedule_repeat_period,
338 | /                         send_as=await self.resolve_peer(send_as)
339 | |                         if send_as
340 | |                         else None,
    | |_________________________________^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel | None`
341 |                           quick_reply_shortcut=await utils.get_input_quick_reply_shortcut(
342 |                               quick_reply_shortcut,
    |
info: Union element `InputUser`, and 2 more union elements, are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMedia"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, entities: Optional[List["raw.base.MessageEntity"]] = None, schedule_date: Optional[int] = None, schedule_repeat_period: Optional[int] = None, send_as: "raw.base.InputPeer" = None, qui…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   ------------------------------------ Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_video.py:341:25
    |
339 |                           if send_as
340 |                           else None,
341 | /                         quick_reply_shortcut=await utils.get_input_quick_reply_shortcut(
342 | |                             quick_reply_shortcut,
343 | |                         )
344 | |                         if quick_reply_shortcut
345 | |                         else None,
    | |_________________________________^ Expected `InputQuickReplyShortcut`, found `Any | None`
346 |                           allow_paid_stars=allow_paid_stars,
347 |                           suggested_post=await suggested_post.write()
    |
info: Element `None` of this union is not assignable to `InputQuickReplyShortcut`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMedia"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, entities: Optional[List["raw.base.MessageEntity"]] = None, schedule_date: Optional[int] = None, schedule_repeat_period: Optional[int] = None, send_as: "raw.base.InputPeer" = None, quick_reply_shortcut: "raw.base.InputQuickReplyShortcut" = None, eff…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         --------------------------------------------------------------- Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_video.py:347:25
    |
345 |                           else None,
346 |                           allow_paid_stars=allow_paid_stars,
347 | /                         suggested_post=await suggested_post.write()
348 | |                         if suggested_post
349 | |                         else None,
    | |_________________________________^ Expected `pyrogram.raw.base.suggested_post.SuggestedPost`, found `pyrogram.raw.types.suggested_post.SuggestedPost | None`
350 |                           reply_markup=await reply_markup.write(self)
351 |                           if reply_markup
    |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.suggested_post.SuggestedPost`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMedia"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, entities: Optional[List["raw.base.MessageEntity"]] = None, schedule_date: Optional[int] = None, schedule_repeat_period: Optional[int] = None, send_as: "raw.base.InputPeer" = None, quick_reply_shortcut: "raw.base.InputQuickReplyShortcut" = None, effect: Optional[int] = None, allow_paid_stars: Optional[int] = None, suggested_post: "raw.base.SuggestedPost" = None) -> …
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ----------------------------------------------- Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_video.py:350:25
    |
348 |                           if suggested_post
349 |                           else None,
350 | /                         reply_markup=await reply_markup.write(self)
351 | |                         if reply_markup
352 | |                         else None,
    | |_________________________________^ Expected `ReplyMarkup`, found `Unknown | None`
353 |                           **await utils.parse_text_entities(
354 |                               self,
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMedia"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, ent…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                        ------------------------------------------- Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `None | Unknown`
   --> pyrogram/methods/messages/send_video.py:370:57
    |
368 |                         r = await self.invoke(rpc)
369 |                 except FilePartMissing as e:
370 |                     await self.save_file(video, file_id=file.id, file_part=e.value)
    |                                                         ^^^^^^^
371 |                 else:
372 |                     for i in r.updates:
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/send_video.py:370:66
    |
368 |                         r = await self.invoke(rpc)
369 |                 except FilePartMissing as e:
370 |                     await self.save_file(video, file_id=file.id, file_part=e.value)
    |                                                                  ^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | int | str | RpcError | None`
371 |                 else:
372 |                     for i in r.updates:
    |
info: Union element `str`, and 2 more union elements, are not assignable to `int`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |         ------------------ Parameter declared here
29 |         progress: Callable | None = None,
30 |         progress_args: tuple = (),
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
  --> pyrogram/methods/messages/send_video_note.py:39:9
   |
37 |           ttl_seconds: int | None = None,
38 |           message_effect_id: int | None = None,
39 | /         reply_markup: types.InlineKeyboardMarkup
40 | |         | types.ReplyKeyboardMarkup
41 | |         | types.ReplyKeyboardRemove
42 | |         | types.ForceReply = None,
   | |_________________________________^
43 |           progress: Callable | None = None,
44 |           progress_args: tuple = (),
   |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/send_video_note.py:189:50
    |
187 |             if isinstance(video_note, str):
188 |                 if await AsyncPath(video_note).is_file():
189 |                     thumb = await self.save_file(thumb)
    |                                                  ^^^^^ Expected `str | BinaryIO`, found `str | BinaryIO | None`
190 |                     file = await self.save_file(
191 |                         video_note,
    |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/send_video_note.py:215:46
    |
213 |                     )
214 |             else:
215 |                 thumb = await self.save_file(thumb)
    |                                              ^^^^^ Expected `str | BinaryIO`, found `str | BinaryIO | None`
216 |                 file = await self.save_file(
217 |                     video_note,
    |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_video_note.py:238:25
    |
236 |                 try:
237 |                     rpc = raw.functions.messages.SendMedia(
238 |                         peer=await self.resolve_peer(chat_id),
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
239 |                         media=media,
240 |                         silent=disable_notification or None,
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^          -------------------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_video_note.py:242:25
    |
240 |                         silent=disable_notification or None,
241 |                         reply_to=reply_to,
242 |                         random_id=self.rnd_id(),
    |                         ^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | MsgId`
243 |                         schedule_date=utils.datetime_to_timestamp(schedule_date),
244 |                         noforwards=protect_content,
    |
info: Element `MsgId` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^                                                                                  -------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_video_note.py:247:25
    |
245 |                           allow_paid_floodskip=allow_paid_broadcast,
246 |                           effect=message_effect_id,
247 | /                         reply_markup=await reply_markup.write(self)
248 | |                         if reply_markup
249 | |                         else None,
    | |_________________________________^ Expected `ReplyMarkup`, found `Unknown | None`
250 |                           message="",
251 |                       )
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMedia"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, ent…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                        ------------------------------------------- Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `None | Unknown`
   --> pyrogram/methods/messages/send_video_note.py:264:33
    |
262 |                     await self.save_file(
263 |                         video_note,
264 |                         file_id=file.id,
    |                                 ^^^^^^^
265 |                         file_part=e.value,
266 |                     )
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/send_video_note.py:265:25
    |
263 |                         video_note,
264 |                         file_id=file.id,
265 |                         file_part=e.value,
    |                         ^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | int | str | RpcError | None`
266 |                     )
267 |                 else:
    |
info: Union element `str`, and 2 more union elements, are not assignable to `int`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |         ------------------ Parameter declared here
29 |         progress: Callable | None = None,
30 |         progress_args: tuple = (),
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
  --> pyrogram/methods/messages/send_voice.py:39:9
   |
37 |           allow_paid_broadcast: bool | None = None,
38 |           message_effect_id: int | None = None,
39 | /         reply_markup: types.InlineKeyboardMarkup
40 | |         | types.ReplyKeyboardMarkup
41 | |         | types.ReplyKeyboardRemove
42 | |         | types.ForceReply = None,
   | |_________________________________^
43 |           progress: Callable | None = None,
44 |           progress_args: tuple = (),
   |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_voice.py:221:25
    |
219 |                 try:
220 |                     rpc = raw.functions.messages.SendMedia(
221 |                         peer=await self.resolve_peer(chat_id),
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
222 |                         media=media,
223 |                         silent=disable_notification or None,
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^          -------------------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_voice.py:225:25
    |
223 |                         silent=disable_notification or None,
224 |                         reply_to=reply_to,
225 |                         random_id=self.rnd_id(),
    |                         ^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | MsgId`
226 |                         schedule_date=utils.datetime_to_timestamp(schedule_date),
227 |                         noforwards=protect_content,
    |
info: Element `MsgId` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^                                                                                  -------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_voice.py:230:25
    |
228 |                           allow_paid_floodskip=allow_paid_broadcast,
229 |                           effect=message_effect_id,
230 | /                         reply_markup=await reply_markup.write(self)
231 | |                         if reply_markup
232 | |                         else None,
    | |_________________________________^ Expected `ReplyMarkup`, found `Unknown | None`
233 |                           **await utils.parse_text_entities(
234 |                               self,
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMedia"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, ent…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                        ------------------------------------------- Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `None | Unknown`
   --> pyrogram/methods/messages/send_voice.py:250:57
    |
248 |                         r = await self.invoke(rpc)
249 |                 except FilePartMissing as e:
250 |                     await self.save_file(voice, file_id=file.id, file_part=e.value)
    |                                                         ^^^^^^^
251 |                 else:
252 |                     for i in r.updates:
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
   --> pyrogram/methods/messages/send_voice.py:250:66
    |
248 |                         r = await self.invoke(rpc)
249 |                 except FilePartMissing as e:
250 |                     await self.save_file(voice, file_id=file.id, file_part=e.value)
    |                                                                  ^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | int | str | RpcError | None`
251 |                 else:
252 |                     for i in r.updates:
    |
info: Union element `str`, and 2 more union elements, are not assignable to `int`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |         ------------------ Parameter declared here
29 |         progress: Callable | None = None,
30 |         progress_args: tuple = (),
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
  --> pyrogram/methods/messages/send_web_page.py:34:9
   |
32 |           allow_paid_broadcast: bool | None = None,
33 |           message_effect_id: int | None = None,
34 | /         reply_markup: types.InlineKeyboardMarkup
35 | |         | types.ReplyKeyboardMarkup
36 | |         | types.ReplyKeyboardRemove
37 | |         | types.ForceReply = None,
   | |_________________________________^
38 |       ) -> types.Message:
39 |           """Send text Web Page Preview.
   |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_web_page.py:148:13
    |
146 |         )
147 |         rpc = raw.functions.messages.SendMedia(
148 |             peer=await self.resolve_peer(chat_id),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
149 |             silent=disable_notification or None,
150 |             reply_to=reply_to,
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^          -------------------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_web_page.py:151:13
    |
149 |             silent=disable_notification or None,
150 |             reply_to=reply_to,
151 |             random_id=self.rnd_id(),
    |             ^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | MsgId`
152 |             schedule_date=utils.datetime_to_timestamp(schedule_date),
153 |             reply_markup=await reply_markup.write(self) if reply_markup else None,
    |
info: Element `MsgId` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 |     QUALNAME = "functions.messages.SendMedia"
95 |
96 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[boo…
   |         ^^^^^^^^                                                                                  -------------- Parameter declared here
97 |         self.peer = peer  # InputPeer
98 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_web_page.py:153:13
    |
151 |             random_id=self.rnd_id(),
152 |             schedule_date=utils.datetime_to_timestamp(schedule_date),
153 |             reply_markup=await reply_markup.write(self) if reply_markup else None,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `ReplyMarkup`, found `Unknown | None`
154 |             message=message,
155 |             media=media,
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_media.py:96:9
   |
94 | … QUALNAME = "functions.messages.SendMedia"
95 | …
96 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", message: str, random_id: int, silent: Optional[bool] = None, background: Optional[bool] = None, clear_draft: Optional[bool] = None, noforwards: Optional[bool] = None, update_stickersets_order: Optional[bool] = None, invert_media: Optional[bool] = None, allow_paid_floodskip: Optional[bool] = None, reply_to: "raw.base.InputReplyTo" = None, reply_markup: "raw.base.ReplyMarkup" = None, ent…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                        ------------------------------------------- Parameter declared here
97 | …     self.peer = peer  # InputPeer
98 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `(InputPeer & ~InputPeerUser) | (InputUser & ~InputPeerUser) | (InputChannel & ~InputPeerUser)` has no attribute `chat_id`
   --> pyrogram/methods/messages/send_web_page.py:178:23
    |
176 |                 peer.user_id
177 |                 if isinstance(peer, raw.types.InputPeerUser)
178 |                 else -peer.chat_id
    |                       ^^^^^^^^^^^^
179 |             )
180 |             return types.Message(
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/messages/send_web_page.py:191:17
    |
189 |                   outgoing=r.out,
190 |                   reply_markup=reply_markup,
191 | /                 entities=[
192 | |                     types.MessageEntity._parse(None, entity, {})
193 | |                     for entity in entities
194 | |                 ]
195 | |                 if entities
196 | |                 else None,
    | |_________________________^ Expected `list[MessageEntity] | None`, found `list[MessageEntity | None] | None`
197 |                   client=self,
198 |               )
    |
info: Element `list[MessageEntity | None]` of this union is not assignable to `list[MessageEntity] | None`
info: Method defined here
   --> pyrogram/types/messages_and_media/message.py:473:9
    |
471 |     # TODO: Add game missing field, Also connected_website
472 |
473 |     def __init__(
    |         ^^^^^^^^
474 |         self,
475 |         *,
    |
   ::: pyrogram/types/messages_and_media/message.py:514:9
    |
512 |         has_media_spoiler: bool | None = None,
513 |         text: Str  | None = None,
514 |         entities: list[types.MessageEntity] | None = None,
    |         ------------------------------------------------- Parameter declared here
515 |         caption_entities: list[types.MessageEntity] | None = None,
516 |         quote_text: str | None = None,
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
   --> pyrogram/methods/messages/send_web_page.py:216:16
    |
214 |                     business_connection_id=business_connection_id,
215 |                 )
216 |         return None
    |                ^^^^ expected `Message`, found `None`
    |
   ::: pyrogram/methods/messages/send_web_page.py:38:10
    |
 36 |         | types.ReplyKeyboardRemove
 37 |         | types.ForceReply = None,
 38 |     ) -> types.Message:
    |          ------------- Expected `Message` because of return type
 39 |         """Send text Web Page Preview.
    |
info: rule `invalid-return-type` is enabled by default

error[unresolved-attribute]: Attribute `poll` is not defined on `list[Message]`, `DraftMessage` in union `Message | list[Message] | DraftMessage`
  --> pyrogram/methods/messages/stop_poll.py:45:16
   |
43 |                 await app.stop_poll(chat_id, message_id)
44 |         """
45 |         poll = (await self.get_messages(chat_id, message_id)).poll
   |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
46 |
47 |         rpc = raw.functions.messages.EditMessage(
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/stop_poll.py:48:13
   |
47 |         rpc = raw.functions.messages.EditMessage(
48 |             peer=await self.resolve_peer(chat_id),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
49 |             id=message_id,
50 |             media=raw.types.InputMediaPoll(
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/edit_message.py:66:9
   |
64 |     QUALNAME = "functions.messages.EditMessage"
65 |
66 |     def __init__(self, *, peer: "raw.base.InputPeer", id: int, no_webpage: Optional[bool] = None, invert_media: Optional[bool] = None,…
   |         ^^^^^^^^          -------------------------- Parameter declared here
67 |         self.peer = peer  # InputPeer
68 |         self.id = id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Poll | None`
  --> pyrogram/methods/messages/stop_poll.py:52:28
   |
50 |             media=raw.types.InputMediaPoll(
51 |                 poll=raw.types.Poll(
52 |                     id=int(poll.id),
   |                            ^^^^^^^
53 |                     closed=True,
54 |                     question="",
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/stop_poll.py:54:21
   |
52 |                     id=int(poll.id),
53 |                     closed=True,
54 |                     question="",
   |                     ^^^^^^^^^^^ Expected `TextWithEntities`, found `Literal[""]`
55 |                     answers=[],
56 |                 ),
   |
info: Method defined here
  --> pyrogram/raw/types/poll.py:59:9
   |
57 |     QUALNAME = "types.Poll"
58 |
59 |     def __init__(self, *, id: int, question: "raw.base.TextWithEntities", answers: List["raw.base.PollAnswer"], closed: Optional[bool]…
   |         ^^^^^^^^                   ------------------------------------- Parameter declared here
60 |         self.id = id  # long
61 |         self.question = question  # TextWithEntities
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/stop_poll.py:58:13
   |
56 |                 ),
57 |             ),
58 |             reply_markup=await reply_markup.write(self) if reply_markup else None,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `ReplyMarkup`, found `Unknown | None`
59 |         )
60 |         if business_connection_id is not None:
   |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/functions/messages/edit_message.py:66:9
   |
64 | … QUALNAME = "functions.messages.EditMessage"
65 | …
66 | … def __init__(self, *, peer: "raw.base.InputPeer", id: int, no_webpage: Optional[bool] = None, invert_media: Optional[bool] = None, message: Optional[str] = None, media: "raw.base.InputMedia" = None, reply_markup: "raw.base.ReplyMarkup" = None, ent…
   |       ^^^^^^^^                                                                                                                                                                                           ------------------------------------------- Parameter declared here
67 | …     self.peer = peer  # InputPeer
68 | …     self.id = id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/messages/stream_media.py:17:10
   |
15 |         limit: int = 0,
16 |         offset: int = 0,
17 |     ) -> str | BinaryIO | None:
   |          ^^^^^^^^^^^^^^^^^^^^^ expected `str | BinaryIO | None`, found `types.AsyncGeneratorType`
18 |         """Stream the media from a message chunk by chunk.
   |
info: Function is inferred as returning `types.AsyncGeneratorType` because it is an async generator function
info: See https://docs.python.org/3/glossary.html#term-asynchronous-generator for more details
info: rule `invalid-return-type` is enabled by default

error[not-iterable]: Object of type `AsyncGenerator[bytes, None] | None` may not be async-iterable
   --> pyrogram/methods/messages/stream_media.py:99:28
    |
 97 |             offset += chunks
 98 |
 99 |         async for chunk in self.get_file(file_id_obj, file_size, limit, offset):
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
100 |             yield chunk
    |
info: Its `__aiter__` attribute (with type `bound method AsyncGenerator[bytes, None].__aiter__() -> AsyncIterator[bytes]`) may not be callable
info: rule `not-iterable` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/translate_text.py:43:17
   |
41 |             raw.functions.messages.TranslateText(
42 |                 to_lang=to_language_code,
43 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
44 |                 id=ids,
45 |             ),
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/translate_text.py:45:9
   |
43 |     QUALNAME = "functions.messages.TranslateText"
44 |
45 |     def __init__(self, *, to_lang: str, peer: "raw.base.InputPeer" = None, id: Optional[List[int]] = None, text: Optional[List["raw.ba…
   |         ^^^^^^^^                        --------------------------------- Parameter declared here
46 |         self.to_lang = to_lang  # string
47 |         self.peer = peer  # flags.0?InputPeer
   |
info: Union variant `bound method TranslateText.__init__(*, to_lang: str, peer: InputPeer = None, id: list[int] | None = None, text: list[TextWithEntities] | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method TranslateText.__init__(*, to_lang: str, peer: InputPeer = None, id: list[int] | None = None, text: list[TextWithEntities] | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-type-form]: Function `id` is not valid in a type expression
  --> pyrogram/methods/messages/vote_poll.py:11:21
   |
 9 |         self: pyrogram.Client,
10 |         chat_id: int | str,
11 |         message_id: id,
   |                     ^^
12 |         options: int | list[int],
13 |     ) -> types.Poll:
   |
info: rule `invalid-type-form` is enabled by default

error[unresolved-attribute]: Attribute `poll` is not defined on `list[Message]`, `DraftMessage` in union `Message | list[Message] | DraftMessage`
  --> pyrogram/methods/messages/vote_poll.py:40:16
   |
38 |         """
39 |
40 |         poll = (await self.get_messages(chat_id, message_id)).poll
   |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
41 |         options = [options] if not isinstance(options, list) else options
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/vote_poll.py:45:17
   |
43 |         r = await self.invoke(
44 |             raw.functions.messages.SendVote(
45 |                 peer=await self.resolve_peer(chat_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
46 |                 msg_id=message_id,
47 |                 options=[poll.options[option].data for option in options],
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/messages/send_vote.py:42:9
   |
40 |     QUALNAME = "functions.messages.SendVote"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", msg_id: int, options: List[bytes]) -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.msg_id = msg_id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/messages/vote_poll.py:47:17
   |
45 |                 peer=await self.resolve_peer(chat_id),
46 |                 msg_id=message_id,
47 |                 options=[poll.options[option].data for option in options],
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `list[bytes]`, found `list[bytes | Unknown | None]`
48 |             ),
49 |         )
   |
info: Method defined here
  --> pyrogram/raw/functions/messages/send_vote.py:42:9
   |
40 |     QUALNAME = "functions.messages.SendVote"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", msg_id: int, options: List[bytes]) -> None:
   |         ^^^^^^^^                                                   -------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.msg_id = msg_id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `options` is not defined on `None` in union `Unknown | Poll | None`
  --> pyrogram/methods/messages/vote_poll.py:47:26
   |
45 |                 peer=await self.resolve_peer(chat_id),
46 |                 msg_id=message_id,
47 |                 options=[poll.options[option].data for option in options],
   |                          ^^^^^^^^^^^^
48 |             ),
49 |         )
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/stickers/create_sticker_set.py:75:17
   |
73 |         r = await self.invoke(
74 |             raw.functions.stickers.CreateStickerSet(
75 |                 user_id=await self.resolve_peer(user_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputUser`, found `InputPeer | InputUser | InputChannel`
76 |                 title=title,
77 |                 short_name=short_name,
   |
info: Union elements `InputPeer` and `InputChannel` are not assignable to `InputUser`
info: Method defined here
  --> pyrogram/raw/functions/stickers/create_sticker_set.py:60:9
   |
58 |     QUALNAME = "functions.stickers.CreateStickerSet"
59 |
60 |     def __init__(self, *, user_id: "raw.base.InputUser", title: str, short_name: str, stickers: List["raw.base.InputStickerSetItem"], …
   |         ^^^^^^^^          ----------------------------- Parameter declared here
61 |         self.user_id = user_id  # InputUser
62 |         self.title = title  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/stickers/create_sticker_set.py:85:16
   |
83 |         )
84 |
85 |         return types.StickerSet._parse(r.set)
   |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `Message | None`, found `StickerSet`
   |
  ::: pyrogram/methods/stickers/create_sticker_set.py:21:10
   |
19 |         emoji: str = "🤔",
20 |         masks: bool | None = None,
21 |     ) -> types.Message | None:
   |          -------------------- Expected `Message | None` because of return type
22 |         """Create a new stickerset.
   |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/stories/delete_stories.py:48:20
   |
47 |         is_iterable = not isinstance(story_ids, int)
48 |         ids = list(story_ids) if is_iterable else [story_ids]
   |                    ^^^^^^^^^ Expected `Iterable[Unknown]`, found `int | Iterable[int]`
49 |
50 |         if chat_id:
   |
info: Element `int` of this union is not assignable to `Iterable[Unknown]`
info: Matching overload defined here
    --> stdlib/builtins.pyi:2839:9
     |
2837 |     def __init__(self) -> None: ...
2838 |     @overload
2839 |     def __init__(self, iterable: Iterable[_T], /) -> None: ...
     |         ^^^^^^^^       ---------------------- Parameter declared here
2840 |     def copy(self) -> list[_T]:
2841 |         """Return a shallow copy of the list."""
     |
info: Non-matching overloads for bound method `__init__`:
info:   (self) -> None
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/stories/delete_stories.py:56:67
   |
55 |         try:
56 |             await self.invoke(raw.functions.stories.DeleteStories(peer=peer, id=ids))
   |                                                                   ^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
57 |         except Exception as e:
58 |             print(e)
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/stories/delete_stories.py:39:9
   |
37 |     QUALNAME = "functions.stories.DeleteStories"
38 |
39 |     def __init__(self, *, peer: "raw.base.InputPeer", id: List[int]) -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
40 |         self.peer = peer  # InputPeer
41 |         self.id = id  # Vector<int>
   |
info: Union variant `bound method DeleteStories.__init__(*, peer: InputPeer, id: list[int]) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method DeleteStories.__init__(*, peer: InputPeer, id: list[int]) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/stories/delete_stories.py:56:78
   |
55 |         try:
56 |             await self.invoke(raw.functions.stories.DeleteStories(peer=peer, id=ids))
   |                                                                              ^^^^^^ Expected `list[int]`, found `list[Unknown] | list[Unknown | int | Iterable[int]]`
57 |         except Exception as e:
58 |             print(e)
   |
info: Element `list[Unknown | int | Iterable[int]]` of this union is not assignable to `list[int]`
info: Method defined here
  --> pyrogram/raw/functions/stories/delete_stories.py:39:9
   |
37 |     QUALNAME = "functions.stories.DeleteStories"
38 |
39 |     def __init__(self, *, peer: "raw.base.InputPeer", id: List[int]) -> None:
   |         ^^^^^^^^                                      ------------- Parameter declared here
40 |         self.peer = peer  # InputPeer
41 |         self.id = id  # Vector<int>
   |
info: Union variant `bound method DeleteStories.__init__(*, peer: InputPeer, id: list[int]) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method DeleteStories.__init__(*, peer: InputPeer, id: list[int]) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `append` is not defined on `None` in union `None | list[Unknown | StoriesPrivacyRules]`
   --> pyrogram/methods/stories/edit_story.py:221:13
    |
219 |         if allowed_users and len(allowed_users) > 0:
220 |             users = [await self.resolve_peer(user_id) for user_id in allowed_users]
221 |             privacy_rules.append(raw.types.InputPrivacyValueAllowUsers(users=users))
    |             ^^^^^^^^^^^^^^^^^^^^
222 |         if denied_users and len(denied_users) > 0:
223 |             users = [await self.resolve_peer(user_id) for user_id in denied_users]
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/stories/edit_story.py:221:72
    |
219 |         if allowed_users and len(allowed_users) > 0:
220 |             users = [await self.resolve_peer(user_id) for user_id in allowed_users]
221 |             privacy_rules.append(raw.types.InputPrivacyValueAllowUsers(users=users))
    |                                                                        ^^^^^^^^^^^ Expected `list[InputUser]`, found `list[Unknown | InputPeer | InputUser | InputChannel]`
222 |         if denied_users and len(denied_users) > 0:
223 |             users = [await self.resolve_peer(user_id) for user_id in denied_users]
    |
info: Method defined here
  --> pyrogram/raw/types/input_privacy_value_allow_users.py:35:9
   |
33 |     QUALNAME = "types.InputPrivacyValueAllowUsers"
34 |
35 |     def __init__(self, *, users: List["raw.base.InputUser"]) -> None:
   |         ^^^^^^^^          --------------------------------- Parameter declared here
36 |         self.users = users  # Vector<InputUser>
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `append` is not defined on `None` in union `None | list[Unknown | StoriesPrivacyRules]`
   --> pyrogram/methods/stories/edit_story.py:224:13
    |
222 |         if denied_users and len(denied_users) > 0:
223 |             users = [await self.resolve_peer(user_id) for user_id in denied_users]
224 |             privacy_rules.append(
    |             ^^^^^^^^^^^^^^^^^^^^
225 |                 raw.types.InputPrivacyValueDisallowUsers(users=users),
226 |             )
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/stories/edit_story.py:225:58
    |
223 |             users = [await self.resolve_peer(user_id) for user_id in denied_users]
224 |             privacy_rules.append(
225 |                 raw.types.InputPrivacyValueDisallowUsers(users=users),
    |                                                          ^^^^^^^^^^^ Expected `list[InputUser]`, found `list[Unknown | InputPeer | InputUser | InputChannel]`
226 |             )
    |
info: Method defined here
  --> pyrogram/raw/types/input_privacy_value_disallow_users.py:35:9
   |
33 |     QUALNAME = "types.InputPrivacyValueDisallowUsers"
34 |
35 |     def __init__(self, *, users: List["raw.base.InputUser"]) -> None:
   |         ^^^^^^^^          --------------------------------- Parameter declared here
36 |         self.users = users  # Vector<InputUser>
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/stories/edit_story.py:231:17
    |
229 |             raw.functions.stories.EditStory(
230 |                 id=story_id,
231 |                 peer=peer,
    |                 ^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
232 |                 media=media,
233 |                 privacy_rules=privacy_rules,
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/stories/edit_story.py:54:9
   |
52 |     QUALNAME = "functions.stories.EditStory"
53 |
54 |     def __init__(self, *, peer: "raw.base.InputPeer", id: int, media: "raw.base.InputMedia" = None, media_areas: Optional[List["raw.ba…
   |         ^^^^^^^^          -------------------------- Parameter declared here
55 |         self.peer = peer  # InputPeer
56 |         self.id = id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/stories/edit_story.py:232:17
    |
230 |                 id=story_id,
231 |                 peer=peer,
232 |                 media=media,
    |                 ^^^^^^^^^^^ Expected `InputMedia`, found `None | InputMediaUploadedDocument | InputMediaDocumentExternal | ... omitted 3 union elements`
233 |                 privacy_rules=privacy_rules,
234 |                 caption=text,
    |
info: Element `None` of this union is not assignable to `InputMedia`
info: Method defined here
  --> pyrogram/raw/functions/stories/edit_story.py:54:9
   |
52 |     QUALNAME = "functions.stories.EditStory"
53 |
54 |     def __init__(self, *, peer: "raw.base.InputPeer", id: int, media: "raw.base.InputMedia" = None, media_areas: Optional[List["raw.ba…
   |         ^^^^^^^^                                               ----------------------------------- Parameter declared here
55 |         self.peer = peer  # InputPeer
56 |         self.id = id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/stories/edit_story.py:233:17
    |
231 |                 peer=peer,
232 |                 media=media,
233 |                 privacy_rules=privacy_rules,
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `list[InputPrivacyRule] | None`, found `None | list[Unknown | StoriesPrivacyRules]`
234 |                 caption=text,
235 |                 entities=entities,
    |
info: Element `list[Unknown | StoriesPrivacyRules]` of this union is not assignable to `list[InputPrivacyRule] | None`
info: Method defined here
  --> pyrogram/raw/functions/stories/edit_story.py:54:9
   |
52 | … QUALNAME = "functions.stories.EditStory"
53 | …
54 | … def __init__(self, *, peer: "raw.base.InputPeer", id: int, media: "raw.base.InputMedia" = None, media_areas: Optional[List["raw.base.MediaArea"]] = None, caption: Optional[str] = None, entities: Optional[List["raw.base.MessageEntity"]] = None, privacy_rules: Optional[List["raw.base.InputPrivacyRule"]] = None) -> …
   |       ^^^^^^^^                                                                                                                                                                                                                                        ----------------------------------------------------------------- Parameter declared here
55 | …     self.peer = peer  # InputPeer
56 | …     self.id = id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `InputMediaArea` has no attribute `write`
   --> pyrogram/methods/stories/edit_story.py:237:27
    |
235 |                 entities=entities,
236 |                 media_areas=[
237 |                     await media_area.write(self) for media_area in media_areas
    |                           ^^^^^^^^^^^^^^^^
238 |                 ],
239 |             ),
    |
info: rule `unresolved-attribute` is enabled by default

error[not-iterable]: Object of type `list[InputMediaArea] | None` may not be iterable
   --> pyrogram/methods/stories/edit_story.py:237:68
    |
235 |                 entities=entities,
236 |                 media_areas=[
237 |                     await media_area.write(self) for media_area in media_areas
    |                                                                    ^^^^^^^^^^^
238 |                 ],
239 |             ),
    |
info: It may not have an `__iter__` method or a `__getitem__` method
info: rule `not-iterable` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/stories/export_story_link.py:46:53
   |
44 |         peer = await self.resolve_peer(chat_id)
45 |
46 |         rpc = raw.functions.stories.ExportStoryLink(peer=peer, id=story_id)
   |                                                     ^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
47 |
48 |         r = await self.invoke(rpc, sleep_threshold=-1)
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/stories/export_story_link.py:39:9
   |
37 |     QUALNAME = "functions.stories.ExportStoryLink"
38 |
39 |     def __init__(self, *, peer: "raw.base.InputPeer", id: int) -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
40 |         self.peer = peer  # InputPeer
41 |         self.id = id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/stories/get_peer_stories.py:47:52
   |
45 |         peer = await self.resolve_peer(chat_id)
46 |
47 |         rpc = raw.functions.stories.GetPeerStories(peer=peer)
   |                                                    ^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
48 |
49 |         r = await self.invoke(rpc, sleep_threshold=-1)
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/stories/get_peer_stories.py:36:9
   |
34 |     QUALNAME = "functions.stories.GetPeerStories"
35 |
36 |     def __init__(self, *, peer: "raw.base.InputPeer") -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
37 |         self.peer = peer  # InputPeer
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/methods/stories/get_peer_stories.py:52:57
   |
51 |         for story in r.stories.stories:
52 |             yield await types.Story._parse(self, story, peer)
   |                                                         ^^^^ Expected `PeerChannel | PeerUser | InputPeerChannel | InputPeerUser`, found `InputPeer | InputUser | InputChannel`
   |
info: Function defined here
   --> pyrogram/types/stories/story.py:162:15
    |
161 |       @staticmethod
162 |       async def _parse(
    |                 ^^^^^^
163 |           client: pyrogram.Client,
164 |           stories: raw.base.StoryItem,
165 | /         peer: raw.types.PeerChannel
166 | |         | raw.types.PeerUser
167 | |         | raw.types.InputPeerChannel
168 | |         | raw.types.InputPeerUser,
    | |_________________________________- Parameter declared here
169 |       ) -> Story:
170 |           if isinstance(stories, raw.types.StoryItemSkipped):
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/stories/get_stories.py:56:20
   |
55 |         is_iterable = not isinstance(story_ids, int)
56 |         ids = list(story_ids) if is_iterable else [story_ids]
   |                    ^^^^^^^^^ Expected `Iterable[Unknown]`, found `int | Iterable[int]`
57 |
58 |         rpc = raw.functions.stories.GetStoriesByID(peer=peer, id=ids)
   |
info: Element `int` of this union is not assignable to `Iterable[Unknown]`
info: Matching overload defined here
    --> stdlib/builtins.pyi:2839:9
     |
2837 |     def __init__(self) -> None: ...
2838 |     @overload
2839 |     def __init__(self, iterable: Iterable[_T], /) -> None: ...
     |         ^^^^^^^^       ---------------------- Parameter declared here
2840 |     def copy(self) -> list[_T]:
2841 |         """Return a shallow copy of the list."""
     |
info: Non-matching overloads for bound method `__init__`:
info:   (self) -> None
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/stories/get_stories.py:58:52
   |
56 |         ids = list(story_ids) if is_iterable else [story_ids]
57 |
58 |         rpc = raw.functions.stories.GetStoriesByID(peer=peer, id=ids)
   |                                                    ^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
59 |
60 |         r = await self.invoke(rpc, sleep_threshold=-1)
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/stories/get_stories_by_id.py:39:9
   |
37 |     QUALNAME = "functions.stories.GetStoriesByID"
38 |
39 |     def __init__(self, *, peer: "raw.base.InputPeer", id: List[int]) -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
40 |         self.peer = peer  # InputPeer
41 |         self.id = id  # Vector<int>
   |
info: Union variant `bound method GetStoriesByID.__init__(*, peer: InputPeer, id: list[int]) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetStoriesByID.__init__(*, peer: InputPeer, id: list[int]) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/stories/get_stories.py:58:63
   |
56 |         ids = list(story_ids) if is_iterable else [story_ids]
57 |
58 |         rpc = raw.functions.stories.GetStoriesByID(peer=peer, id=ids)
   |                                                               ^^^^^^ Expected `list[int]`, found `list[Unknown] | list[Unknown | int | Iterable[int]]`
59 |
60 |         r = await self.invoke(rpc, sleep_threshold=-1)
   |
info: Element `list[Unknown | int | Iterable[int]]` of this union is not assignable to `list[int]`
info: Method defined here
  --> pyrogram/raw/functions/stories/get_stories_by_id.py:39:9
   |
37 |     QUALNAME = "functions.stories.GetStoriesByID"
38 |
39 |     def __init__(self, *, peer: "raw.base.InputPeer", id: List[int]) -> None:
   |         ^^^^^^^^                                      ------------- Parameter declared here
40 |         self.peer = peer  # InputPeer
41 |         self.id = id  # Vector<int>
   |
info: Union variant `bound method GetStoriesByID.__init__(*, peer: InputPeer, id: list[int]) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetStoriesByID.__init__(*, peer: InputPeer, id: list[int]) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/methods/stories/get_stories.py:64:56
   |
62 |         if is_iterable:
63 |             return types.List(
64 |                 [await types.Story._parse(self, story, peer) for story in r.stories],
   |                                                        ^^^^ Expected `PeerChannel | PeerUser | InputPeerChannel | InputPeerUser`, found `InputPeer | InputUser | InputChannel`
65 |             )
66 |         return (
   |
info: Function defined here
   --> pyrogram/types/stories/story.py:162:15
    |
161 |       @staticmethod
162 |       async def _parse(
    |                 ^^^^^^
163 |           client: pyrogram.Client,
164 |           stories: raw.base.StoryItem,
165 | /         peer: raw.types.PeerChannel
166 | |         | raw.types.PeerUser
167 | |         | raw.types.InputPeerChannel
168 | |         | raw.types.InputPeerUser,
    | |_________________________________- Parameter declared here
169 |       ) -> Story:
170 |           if isinstance(stories, raw.types.StoryItemSkipped):
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/stories/get_stories.py:67:13
   |
65 |               )
66 |           return (
67 | /             await types.Story._parse(self, r.stories[0], peer)
68 | |             if r.stories and len(r.stories) > 0
69 | |             else None
   | |_____________________^ expected `Story | list[Story]`, found `Story | None`
70 |           )
   |
  ::: pyrogram/methods/stories/get_stories.py:20:10
   |
18 |           chat_id: int | str,
19 |           story_ids: int | Iterable[int],
20 |       ) -> types.Story | list[types.Story]:
   |            ------------------------------- Expected `Story | list[Story]` because of return type
21 |           """Get one or more story from an user by using story identifiers.
   |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/methods/stories/get_stories.py:67:58
   |
65 |             )
66 |         return (
67 |             await types.Story._parse(self, r.stories[0], peer)
   |                                                          ^^^^ Expected `PeerChannel | PeerUser | InputPeerChannel | InputPeerUser`, found `InputPeer | InputUser | InputChannel`
68 |             if r.stories and len(r.stories) > 0
69 |             else None
   |
info: Function defined here
   --> pyrogram/types/stories/story.py:162:15
    |
161 |       @staticmethod
162 |       async def _parse(
    |                 ^^^^^^
163 |           client: pyrogram.Client,
164 |           stories: raw.base.StoryItem,
165 | /         peer: raw.types.PeerChannel
166 | |         | raw.types.PeerUser
167 | |         | raw.types.InputPeerChannel
168 | |         | raw.types.InputPeerUser,
    | |_________________________________- Parameter declared here
169 |       ) -> Story:
170 |           if isinstance(stories, raw.types.StoryItemSkipped):
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/stories/get_stories_history.py:58:13
   |
57 |         rpc = raw.functions.stories.GetStoriesArchive(
58 |             peer=peer,
   |             ^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
59 |             offset_id=offset_id,
60 |             limit=limit,
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/stories/get_stories_archive.py:42:9
   |
40 |     QUALNAME = "functions.stories.GetStoriesArchive"
41 |
42 |     def __init__(self, *, peer: "raw.base.InputPeer", offset_id: int, limit: int) -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
43 |         self.peer = peer  # InputPeer
44 |         self.offset_id = offset_id  # int
   |
info: Union variant `bound method GetStoriesArchive.__init__(*, peer: InputPeer, offset_id: int, limit: int) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetStoriesArchive.__init__(*, peer: InputPeer, offset_id: int, limit: int) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/methods/stories/get_stories_history.py:66:57
   |
65 |         for story in r.stories:
66 |             yield await types.Story._parse(self, story, peer)
   |                                                         ^^^^ Expected `PeerChannel | PeerUser | InputPeerChannel | InputPeerUser`, found `InputPeer | InputUser | InputChannel`
   |
info: Function defined here
   --> pyrogram/types/stories/story.py:162:15
    |
161 |       @staticmethod
162 |       async def _parse(
    |                 ^^^^^^
163 |           client: pyrogram.Client,
164 |           stories: raw.base.StoryItem,
165 | /         peer: raw.types.PeerChannel
166 | |         | raw.types.PeerUser
167 | |         | raw.types.InputPeerChannel
168 | |         | raw.types.InputPeerUser,
    | |_________________________________- Parameter declared here
169 |       ) -> Story:
170 |           if isinstance(stories, raw.types.StoryItemSkipped):
    |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `name` is not defined on `str` in union `str | BinaryIO`
  --> pyrogram/methods/stories/send_story.py:25:57
   |
23 |         file = await self.save_file(video)
24 |         return raw.types.InputMediaUploadedDocument(
25 |             mime_type=self.guess_mime_type(file_name or video.name) or "video/mp4",
   |                                                         ^^^^^^^^^^
26 |             file=file,
27 |             attributes=[
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `_upload_video` is incorrect
   --> pyrogram/methods/stories/send_story.py:188:54
    |
186 |                 else:
187 |                     video = await self.download_media(video, in_memory=True)
188 |                     media = await self._upload_video(file_name, video)
    |                                                      ^^^^^^^^^ Expected `str`, found `str | None`
189 |             else:
190 |                 media = await self._upload_video(file_name, video)
    |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/methods/stories/send_story.py:18:15
   |
16 |         return message, entities
17 |
18 |     async def _upload_video(
   |               ^^^^^^^^^^^^^
19 |         self: pyrogram.Client,
20 |         file_name: str,
   |         -------------- Parameter declared here
21 |         video: str | BinaryIO,
22 |     ):
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `_upload_video` is incorrect
   --> pyrogram/methods/stories/send_story.py:188:65
    |
186 |                 else:
187 |                     video = await self.download_media(video, in_memory=True)
188 |                     media = await self._upload_video(file_name, video)
    |                                                                 ^^^^^ Expected `str | BinaryIO`, found `str | BinaryIO | None`
189 |             else:
190 |                 media = await self._upload_video(file_name, video)
    |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/stories/send_story.py:18:15
   |
16 |         return message, entities
17 |
18 |     async def _upload_video(
   |               ^^^^^^^^^^^^^
19 |         self: pyrogram.Client,
20 |         file_name: str,
21 |         video: str | BinaryIO,
   |         --------------------- Parameter declared here
22 |     ):
23 |         file = await self.save_file(video)
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `_upload_video` is incorrect
   --> pyrogram/methods/stories/send_story.py:190:50
    |
188 |                     media = await self._upload_video(file_name, video)
189 |             else:
190 |                 media = await self._upload_video(file_name, video)
    |                                                  ^^^^^^^^^ Expected `str`, found `str | None`
191 |         elif forward_from_chat_id is None:
192 |             raise ValueError(
    |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/methods/stories/send_story.py:18:15
   |
16 |         return message, entities
17 |
18 |     async def _upload_video(
   |               ^^^^^^^^^^^^^
19 |         self: pyrogram.Client,
20 |         file_name: str,
   |         -------------- Parameter declared here
21 |         video: str | BinaryIO,
22 |     ):
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/stories/send_story.py:215:72
    |
213 |         if allowed_users and len(allowed_users) > 0:
214 |             users = [await self.resolve_peer(user_id) for user_id in allowed_users]
215 |             privacy_rules.append(raw.types.InputPrivacyValueAllowUsers(users=users))
    |                                                                        ^^^^^^^^^^^ Expected `list[InputUser]`, found `list[Unknown | InputPeer | InputUser | InputChannel]`
216 |         if denied_users and len(denied_users) > 0:
217 |             users = [await self.resolve_peer(user_id) for user_id in denied_users]
    |
info: Method defined here
  --> pyrogram/raw/types/input_privacy_value_allow_users.py:35:9
   |
33 |     QUALNAME = "types.InputPrivacyValueAllowUsers"
34 |
35 |     def __init__(self, *, users: List["raw.base.InputUser"]) -> None:
   |         ^^^^^^^^          --------------------------------- Parameter declared here
36 |         self.users = users  # Vector<InputUser>
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/stories/send_story.py:219:58
    |
217 |             users = [await self.resolve_peer(user_id) for user_id in denied_users]
218 |             privacy_rules.append(
219 |                 raw.types.InputPrivacyValueDisallowUsers(users=users),
    |                                                          ^^^^^^^^^^^ Expected `list[InputUser]`, found `list[Unknown | InputPeer | InputUser | InputChannel]`
220 |             )
    |
info: Method defined here
  --> pyrogram/raw/types/input_privacy_value_disallow_users.py:35:9
   |
33 |     QUALNAME = "types.InputPrivacyValueDisallowUsers"
34 |
35 |     def __init__(self, *, users: List["raw.base.InputUser"]) -> None:
   |         ^^^^^^^^          --------------------------------- Parameter declared here
36 |         self.users = users  # Vector<InputUser>
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/stories/send_story.py:233:17
    |
231 |         r = await self.invoke(
232 |             raw.functions.stories.SendStory(
233 |                 peer=peer,
    |                 ^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
234 |                 media=media,
235 |                 privacy_rules=privacy_rules,
    |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/stories/send_story.py:75:9
   |
73 |     QUALNAME = "functions.stories.SendStory"
74 |
75 |     def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", privacy_rules: List["raw.base.InputPrivacyRule"], …
   |         ^^^^^^^^          -------------------------- Parameter declared here
76 |         self.peer = peer  # InputPeer
77 |         self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/stories/send_story.py:235:17
    |
233 |                 peer=peer,
234 |                 media=media,
235 |                 privacy_rules=privacy_rules,
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `list[InputPrivacyRule]`, found `list[Unknown | StoriesPrivacyRules]`
236 |                 random_id=self.rnd_id(),
237 |                 pinned=pinned,
    |
info: Method defined here
  --> pyrogram/raw/functions/stories/send_story.py:75:9
   |
73 | … QUALNAME = "functions.stories.SendStory"
74 | …
75 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", privacy_rules: List["raw.base.InputPrivacyRule"], ran…
   |       ^^^^^^^^                                                                    ------------------------------------------------ Parameter declared here
76 | …     self.peer = peer  # InputPeer
77 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/stories/send_story.py:236:17
    |
234 |                 media=media,
235 |                 privacy_rules=privacy_rules,
236 |                 random_id=self.rnd_id(),
    |                 ^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | MsgId`
237 |                 pinned=pinned,
238 |                 noforwards=protect_content,
    |
info: Element `MsgId` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/functions/stories/send_story.py:75:9
   |
73 | … QUALNAME = "functions.stories.SendStory"
74 | …
75 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", privacy_rules: List["raw.base.InputPrivacyRule"], random_id: int, pin…
   |       ^^^^^^^^                                                                                                                      -------------- Parameter declared here
76 | …     self.peer = peer  # InputPeer
77 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/stories/send_story.py:242:17
    |
240 |                 entities=entities,
241 |                 period=period,
242 |                 fwd_from_id=forward_from_chat,
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `None | InputPeer | InputUser | InputChannel`
243 |                 fwd_from_story=forward_from_story_id
244 |                 if forward_from_chat_id is not None
    |
info: Union element `None`, and 2 more union elements, are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/stories/send_story.py:75:9
   |
73 | … QUALNAME = "functions.stories.SendStory"
74 | …
75 | … def __init__(self, *, peer: "raw.base.InputPeer", media: "raw.base.InputMedia", privacy_rules: List["raw.base.InputPrivacyRule"], random_id: int, pinned: Optional[bool] = None, noforwards: Optional[bool] = None, fwd_modified: Optional[bool] = None, media_areas: Optional[List["raw.base.MediaArea"]] = None, caption: Optional[str] = None, entities: Optional[List["raw.base.MessageEntity"]] = None, period: Optional[int] = None, fwd_from_id: "raw.base.InputPeer" = None, fwd…
   |       ^^^^^^^^                                                                                                                                                                                                                                                                                                                                                                                                                               ---------------------------------------- Parameter declared here
76 | …     self.peer = peer  # InputPeer
77 | …     self.media = media  # InputMedia
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `InputMediaArea` has no attribute `write`
   --> pyrogram/methods/stories/send_story.py:250:27
    |
248 |                 ),
249 |                 media_areas=[
250 |                     await media_area.write(self) for media_area in media_areas
    |                           ^^^^^^^^^^^^^^^^
251 |                 ]
252 |                 if media_areas is not None
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/users/block_user.py:30:46
   |
28 |         return bool(
29 |             await self.invoke(
30 |                 raw.functions.contacts.Block(id=await self.resolve_peer(user_id)),
   |                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
31 |             ),
32 |         )
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/contacts/block.py:39:9
   |
37 |     QUALNAME = "functions.contacts.Block"
38 |
39 |     def __init__(self, *, id: "raw.base.InputPeer", my_stories_from: Optional[bool] = None) -> None:
   |         ^^^^^^^^          ------------------------ Parameter declared here
40 |         self.id = id  # InputPeer
41 |         self.my_stories_from = my_stories_from  # flags.0?true
   |
info: Union variant `bound method Block.__init__(*, id: InputPeer, my_stories_from: bool | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method Block.__init__(*, id: InputPeer, my_stories_from: bool | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/users/delete_account.py:36:17
   |
34 |               raw.functions.account.DeleteAccount(
35 |                   reason=reason,
36 | /                 password=compute_password_check(
37 | |                     await self.invoke(raw.functions.account.GetPassword()),
38 | |                     password,
39 | |                 )
40 | |                 if password
41 | |                 else None,
   | |_________________________^ Expected `pyrogram.raw.base.input_check_password_srp.InputCheckPasswordSRP`, found `pyrogram.raw.types.input_check_password_srp.InputCheckPasswordSRP | None`
42 |               ),
43 |           )
   |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.input_check_password_srp.InputCheckPasswordSRP`
info: Method defined here
  --> pyrogram/raw/functions/account/delete_account.py:39:9
   |
37 |     QUALNAME = "functions.account.DeleteAccount"
38 |
39 |     def __init__(self, *, reason: str, password: "raw.base.InputCheckPasswordSRP" = None) -> None:
   |         ^^^^^^^^                       ------------------------------------------------- Parameter declared here
40 |         self.reason = reason  # string
41 |         self.password = password  # flags.0?InputCheckPasswordSRP
   |
info: Union variant `bound method DeleteAccount.__init__(*, reason: str, password: InputCheckPasswordSRP = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method DeleteAccount.__init__(*, reason: str, password: InputCheckPasswordSRP = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/users/get_chat_photos.py:50:55
   |
48 |         if isinstance(peer_id, raw.types.InputPeerChannel):
49 |             r = await self.invoke(
50 |                 raw.functions.channels.GetFullChannel(channel=peer_id),
   |                                                       ^^^^^^^^^^^^^^^ Expected `InputChannel`, found `InputPeerChannel`
51 |             )
   |
info: Method defined here
  --> pyrogram/raw/functions/channels/get_full_channel.py:36:9
   |
34 |     QUALNAME = "functions.channels.GetFullChannel"
35 |
36 |     def __init__(self, *, channel: "raw.base.InputChannel") -> None:
   |         ^^^^^^^^          -------------------------------- Parameter declared here
37 |         self.channel = channel  # InputChannel
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `is_bot` is not defined on `None` in union `User | None`
  --> pyrogram/methods/users/get_chat_photos.py:62:20
   |
60 |                 current = [*current, current_animation]
61 |             extra = []
62 |             if not self.me.is_bot:
   |                    ^^^^^^^^^^^^^^
63 |                 r = await utils.parse_messages(
64 |                     self,
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `file_id` is not defined on `list[Unknown]` in union `Unknown | (Photo & ~AlwaysFalsy) | list[Unknown] | (Animation & ~AlwaysFalsy)`
  --> pyrogram/methods/users/get_chat_photos.py:88:28
   |
86 |                     photos = (
87 |                         (current + extra)
88 |                         if current[0].file_id != extra[0].file_id
   |                            ^^^^^^^^^^^^^^^^^^
89 |                         else extra
90 |                     )
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `file_id` is not defined on `None` in union `Unknown | Photo | None`
  --> pyrogram/methods/users/get_chat_photos.py:88:50
   |
86 |                     photos = (
87 |                         (current + extra)
88 |                         if current[0].file_id != extra[0].file_id
   |                                                  ^^^^^^^^^^^^^^^^
89 |                         else extra
90 |                     )
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/methods/users/get_chat_photos.py:116:25
    |
114 |                 r = await self.invoke(
115 |                     raw.functions.photos.GetUserPhotos(
116 |                         user_id=peer_id,
    |                         ^^^^^^^^^^^^^^^ Expected `InputUser`, found `(InputPeer & ~InputPeerChannel) | (InputUser & ~InputPeerChannel) | (InputChannel & ~InputPeerChannel)`
117 |                         offset=offset,
118 |                         max_id=0,
    |
info: Union elements `InputPeer & ~InputPeerChannel` and `InputChannel & ~InputPeerChannel` are not assignable to `InputUser`
info: Method defined here
  --> pyrogram/raw/functions/photos/get_user_photos.py:45:9
   |
43 |     QUALNAME = "functions.photos.GetUserPhotos"
44 |
45 |     def __init__(self, *, user_id: "raw.base.InputUser", offset: int, max_id: int, limit: int) -> None:
   |         ^^^^^^^^          ----------------------------- Parameter declared here
46 |         self.user_id = user_id  # InputUser
47 |         self.offset = offset  # int
   |
info: Union variant `bound method GetUserPhotos.__init__(*, user_id: InputUser, offset: int, max_id: int, limit: int) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetUserPhotos.__init__(*, user_id: InputUser, offset: int, max_id: int, limit: int) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/users/get_chat_photos_count.py:46:17
   |
44 |         r = await self.invoke(
45 |             raw.functions.photos.GetUserPhotos(
46 |                 user_id=peer_id,
   |                 ^^^^^^^^^^^^^^^ Expected `InputUser`, found `(InputPeer & ~InputPeerChannel) | (InputUser & ~InputPeerChannel) | (InputChannel & ~InputPeerChannel)`
47 |                 offset=0,
48 |                 max_id=0,
   |
info: Union elements `InputPeer & ~InputPeerChannel` and `InputChannel & ~InputPeerChannel` are not assignable to `InputUser`
info: Method defined here
  --> pyrogram/raw/functions/photos/get_user_photos.py:45:9
   |
43 |     QUALNAME = "functions.photos.GetUserPhotos"
44 |
45 |     def __init__(self, *, user_id: "raw.base.InputUser", offset: int, max_id: int, limit: int) -> None:
   |         ^^^^^^^^          ----------------------------- Parameter declared here
46 |         self.user_id = user_id  # InputUser
47 |         self.offset = offset  # int
   |
info: Union variant `bound method GetUserPhotos.__init__(*, user_id: InputUser, offset: int, max_id: int, limit: int) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetUserPhotos.__init__(*, user_id: InputUser, offset: int, max_id: int, limit: int) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/users/get_common_chats.py:41:21
   |
39 |             r = await self.invoke(
40 |                 raw.functions.messages.GetCommonChats(
41 |                     user_id=peer,
   |                     ^^^^^^^^^^^^ Expected `InputUser`, found `InputPeerUser`
42 |                     max_id=0,
43 |                     limit=100,
   |
info: Method defined here
  --> pyrogram/raw/functions/messages/get_common_chats.py:42:9
   |
40 |     QUALNAME = "functions.messages.GetCommonChats"
41 |
42 |     def __init__(self, *, user_id: "raw.base.InputUser", max_id: int, limit: int) -> None:
   |         ^^^^^^^^          ----------------------------- Parameter declared here
43 |         self.user_id = user_id  # InputUser
44 |         self.max_id = max_id  # long
   |
info: Union variant `bound method GetCommonChats.__init__(*, user_id: InputUser, max_id: int, limit: int) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetCommonChats.__init__(*, user_id: InputUser, max_id: int, limit: int) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/methods/users/get_me.py:28:16
   |
26 |         users = {u.id: u for u in r.users}
27 |
28 |         return types.User._parse(self, users[r.full_user.id])
   |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `User`, found `User | None`
   |
  ::: pyrogram/methods/users/get_me.py:8:48
   |
 7 | class GetMe:
 8 |     async def get_me(self: pyrogram.Client) -> types.User:
   |                                                ---------- Expected `User` because of return type
 9 |         """Get your own user identity.
   |
info: rule `invalid-return-type` is enabled by default

error[invalid-assignment]: Object of type `list[Unknown] | list[int | Iterable[int | str]]` is not assignable to `int | Iterable[int | str]`
  --> pyrogram/methods/users/get_users.py:44:9
   |
43 |         is_iterable = not isinstance(user_ids, int | str)
44 |         user_ids = list(user_ids) if is_iterable else [user_ids]
   |         --------   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `list[Unknown] | list[int | Iterable[int | str]]`
   |         |
   |         Declared type `int | Iterable[int | str]`
45 |         user_ids = await asyncio.gather(*[self.resolve_peer(i) for i in user_ids])
   |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/users/get_users.py:44:25
   |
43 |         is_iterable = not isinstance(user_ids, int | str)
44 |         user_ids = list(user_ids) if is_iterable else [user_ids]
   |                         ^^^^^^^^ Expected `Iterable[Unknown]`, found `int | Iterable[int | str]`
45 |         user_ids = await asyncio.gather(*[self.resolve_peer(i) for i in user_ids])
   |
info: Element `int` of this union is not assignable to `Iterable[Unknown]`
info: Matching overload defined here
    --> stdlib/builtins.pyi:2839:9
     |
2837 |     def __init__(self) -> None: ...
2838 |     @overload
2839 |     def __init__(self, iterable: Iterable[_T], /) -> None: ...
     |         ^^^^^^^^       ---------------------- Parameter declared here
2840 |     def copy(self) -> list[_T]:
2841 |         """Return a shallow copy of the list."""
     |
info: Non-matching overloads for bound method `__init__`:
info:   (self) -> None
info: rule `invalid-argument-type` is enabled by default

error[not-iterable]: Object of type `int | Iterable[int | str]` may not be iterable
  --> pyrogram/methods/users/get_users.py:45:73
   |
43 |         is_iterable = not isinstance(user_ids, int | str)
44 |         user_ids = list(user_ids) if is_iterable else [user_ids]
45 |         user_ids = await asyncio.gather(*[self.resolve_peer(i) for i in user_ids])
   |                                                                         ^^^^^^^^
46 |
47 |         r = await self.invoke(raw.functions.users.GetUsers(id=user_ids))
   |
info: It may not have an `__iter__` method and it doesn't have a `__getitem__` method
info: rule `not-iterable` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
  --> pyrogram/methods/users/set_profile_photo.py:55:47
   |
53 |             await self.invoke(
54 |                 raw.functions.photos.UploadProfilePhoto(
55 |                     file=await self.save_file(photo),
   |                                               ^^^^^ Expected `str | BinaryIO`, found `str | BinaryIO | None`
56 |                     video=await self.save_file(video),
57 |                 ),
   |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `save_file` is incorrect
  --> pyrogram/methods/users/set_profile_photo.py:56:48
   |
54 |                 raw.functions.photos.UploadProfilePhoto(
55 |                     file=await self.save_file(photo),
56 |                     video=await self.save_file(video),
   |                                                ^^^^^ Expected `str | BinaryIO`, found `str | BinaryIO | None`
57 |                 ),
58 |             ),
   |
info: Element `None` of this union is not assignable to `str | BinaryIO`
info: Method defined here
  --> pyrogram/methods/advanced/save_file.py:24:15
   |
23 | class SaveFile:
24 |     async def save_file(
   |               ^^^^^^^^^
25 |         self: pyrogram.Client,
26 |         path: str | BinaryIO,
   |         -------------------- Parameter declared here
27 |         file_id: int | None = None,
28 |         file_part: int = 0,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/users/unblock_user.py:30:48
   |
28 |         return bool(
29 |             await self.invoke(
30 |                 raw.functions.contacts.Unblock(id=await self.resolve_peer(user_id)),
   |                                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
31 |             ),
32 |         )
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/functions/contacts/unblock.py:39:9
   |
37 |     QUALNAME = "functions.contacts.Unblock"
38 |
39 |     def __init__(self, *, id: "raw.base.InputPeer", my_stories_from: Optional[bool] = None) -> None:
   |         ^^^^^^^^          ------------------------ Parameter declared here
40 |         self.id = id  # InputPeer
41 |         self.my_stories_from = my_stories_from  # flags.0?true
   |
info: Union variant `bound method Unblock.__init__(*, id: InputPeer, my_stories_from: bool | None = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method Unblock.__init__(*, id: InputPeer, my_stories_from: bool | None = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/users/update_birthday.py:38:57
   |
36 |                 await app.update_birthday(day=1, month=1, year=2000)
37 |         """
38 |         birthday = types.Birthday(day=day, month=month, year=year)
   |                                                         ^^^^^^^^^ Expected `int`, found `int | None`
39 |         birthday = await birthday.write()
   |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/types/user_and_chats/birthday.py:21:9
   |
19 |     """
20 |
21 |     def __init__(self, *, day: int, month: int, year: int) -> None:
   |         ^^^^^^^^                                --------- Parameter declared here
22 |         self.day = day
23 |         self.month = month
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/methods/users/update_personal_chat.py:32:57
   |
30 |         chat = await self.resolve_peer(chat_id)
31 |         r = await self.invoke(
32 |             raw.functions.account.UpdatePersonalChannel(channel=chat),
   |                                                         ^^^^^^^^^^^^ Expected `InputChannel`, found `InputPeer | InputUser | InputChannel`
33 |         )
34 |         return bool(r)
   |
info: Union elements `InputPeer` and `InputUser` are not assignable to `InputChannel`
info: Method defined here
  --> pyrogram/raw/functions/account/update_personal_channel.py:36:9
   |
34 |     QUALNAME = "functions.account.UpdatePersonalChannel"
35 |
36 |     def __init__(self, *, channel: "raw.base.InputChannel") -> None:
   |         ^^^^^^^^          -------------------------------- Parameter declared here
37 |         self.channel = channel  # InputChannel
   |
info: Union variant `bound method UpdatePersonalChannel.__init__(*, channel: InputChannel) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method UpdatePersonalChannel.__init__(*, channel: InputChannel) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `cancel` is not defined on `None` in union `None | Task[None]`
  --> pyrogram/methods/utilities/idle.py:62:9
   |
60 |     def signal_handler(signum, __) -> None:
61 |         logging.info("Stop signal received (%s). Exiting...", signals[signum])
62 |         task.cancel()
   |         ^^^^^^^^^^^
63 |
64 |     for s in (SIGINT, SIGTERM, SIGABRT):
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `__new__` is incorrect
  --> pyrogram/parser/html.py:65:35
   |
63 |         elif tag == "emoji":
64 |             entity = raw.types.MessageEntityCustomEmoji
65 |             custom_emoji_id = int(attrs.get("id"))
   |                                   ^^^^^^^^^^^^^^^ Expected `str | Buffer | SupportsInt | SupportsIndex | SupportsTrunc`, found `Unknown | None`
66 |             extra["document_id"] = custom_emoji_id
67 |         else:
   |
info: Element `None` of this union is not assignable to `str | Buffer | SupportsInt | SupportsIndex | SupportsTrunc`
info: Matching overload defined here
   --> stdlib/builtins.pyi:366:9
    |
365 |     @overload
366 |     def __new__(cls, x: ConvertibleToInt = 0, /) -> Self: ...
    |         ^^^^^^^      ----------------------- Parameter declared here
367 |     @overload
368 |     def __new__(cls, x: str | bytes | bytearray, /, base: SupportsIndex) -> Self: ...
    |
info: Non-matching overloads for function `__new__`:
info:   [Self](cls, x: str | bytes | bytearray, /, base: SupportsIndex) -> Self
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/parser/html.py:116:25
    |
114 |         text = re.sub(r"\s*(</[\w</>]*>)\s*$", r"\1", text)
115 |
116 |         parser = Parser(self.client)
    |                         ^^^^^^^^^^^ Expected `Client`, found `Unknown | Client | None`
117 |         parser.feed(utils.add_surrogates(text))
118 |         parser.close()
    |
info: Element `None` of this union is not assignable to `Client`
info: Method defined here
  --> pyrogram/parser/html.py:21:9
   |
19 |     MENTION_RE = re.compile(r"tg://user\?id=(\d+)")
20 |
21 |     def __init__(self, client: pyrogram.Client) -> None:
   |         ^^^^^^^^       ----------------------- Parameter declared here
22 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-method-override]: Invalid override of method `read`
  --> pyrogram/raw/core/future_salt.py:23:9
   |
22 |     @staticmethod
23 |     def read(data: BytesIO, *args: Any) -> FutureSalt:  # noqa: ARG004
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Definition is incompatible with `TLObject.read`
24 |         valid_since = Int.read(data)
25 |         valid_until = Int.read(data)
   |
  ::: pyrogram/raw/core/tl_object.py:18:9
   |
17 |     @classmethod
18 |     def read(cls, b: BytesIO, *args: Any) -> Any:
   |         ---------------------------------------- `TLObject.read` defined here
19 |         return cast("TLObject", objects[int.from_bytes(b.read(4), "little")]).read(
20 |             b,
   |
info: `FutureSalt.read` is a staticmethod but `TLObject.read` is a classmethod
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

error[invalid-method-override]: Invalid override of method `read`
  --> pyrogram/raw/core/future_salts.py:24:9
   |
23 |     @staticmethod
24 |     def read(data: BytesIO, *args: Any) -> FutureSalts:  # noqa: ARG004
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Definition is incompatible with `TLObject.read`
25 |         req_msg_id = Long.read(data)
26 |         now = Int.read(data)
   |
  ::: pyrogram/raw/core/tl_object.py:18:9
   |
17 |     @classmethod
18 |     def read(cls, b: BytesIO, *args: Any) -> Any:
   |         ---------------------------------------- `TLObject.read` defined here
19 |         return cast("TLObject", objects[int.from_bytes(b.read(4), "little")]).read(
20 |             b,
   |
info: `FutureSalts.read` is a staticmethod but `TLObject.read` is a classmethod
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

error[invalid-method-override]: Invalid override of method `read`
  --> pyrogram/raw/core/gzip_packed.py:23:9
   |
22 |     @staticmethod
23 |     def read(data: BytesIO, *args: Any) -> GzipPacked:  # noqa: ARG004
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Definition is incompatible with `TLObject.read`
24 |         # Return the Object itself instead of a GzipPacked wrapping it
25 |         return cast(
   |
  ::: pyrogram/raw/core/tl_object.py:18:9
   |
17 |     @classmethod
18 |     def read(cls, b: BytesIO, *args: Any) -> Any:
   |         ---------------------------------------- `TLObject.read` defined here
19 |         return cast("TLObject", objects[int.from_bytes(b.read(4), "little")]).read(
20 |             b,
   |
info: `GzipPacked.read` is a staticmethod but `TLObject.read` is a classmethod
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

error[invalid-method-override]: Invalid override of method `read`
  --> pyrogram/raw/core/message.py:30:9
   |
29 |     @staticmethod
30 |     def read(data: BytesIO, *args: Any) -> Message:  # noqa: ARG004
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Definition is incompatible with `TLObject.read`
31 |         msg_id = Long.read(data)
32 |         seq_no = Int.read(data)
   |
  ::: pyrogram/raw/core/tl_object.py:18:9
   |
17 |     @classmethod
18 |     def read(cls, b: BytesIO, *args: Any) -> Any:
   |         ---------------------------------------- `TLObject.read` defined here
19 |         return cast("TLObject", objects[int.from_bytes(b.read(4), "little")]).read(
20 |             b,
   |
info: `Message.read` is a staticmethod but `TLObject.read` is a classmethod
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

error[invalid-method-override]: Invalid override of method `read`
  --> pyrogram/raw/core/msg_container.py:22:9
   |
21 |     @staticmethod
22 |     def read(data: BytesIO, *args: Any) -> MsgContainer:  # noqa: ARG004
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Definition is incompatible with `TLObject.read`
23 |         count = Int.read(data)
24 |         return MsgContainer([Message.read(data) for _ in range(count)])
   |
  ::: pyrogram/raw/core/tl_object.py:18:9
   |
17 |     @classmethod
18 |     def read(cls, b: BytesIO, *args: Any) -> Any:
   |         ---------------------------------------- `TLObject.read` defined here
19 |         return cast("TLObject", objects[int.from_bytes(b.read(4), "little")]).read(
20 |             b,
   |
info: `MsgContainer.read` is a staticmethod but `TLObject.read` is a classmethod
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

warning[unused-type-ignore-comment]: Unused blanket `type: ignore` directive
  --> pyrogram/raw/core/primitives/bool.py:19:33
   |
17 |         return cls.value
18 |
19 |     def __new__(cls) -> bytes:  # type: ignore
   |                                 ^^^^^^^^^^^^^^
20 |         return cls.ID.to_bytes(4, "little")
   |
help: Remove the unused suppression comment
16 |     def read(cls, *args: Any) -> bool:  # noqa: ARG003
17 |         return cls.value
18 |
   -     def __new__(cls) -> bytes:  # type: ignore
19 +     def __new__(cls) -> bytes:
20 |         return cls.ID.to_bytes(4, "little")
21 |
22 |

error[invalid-method-override]: Invalid override of method `read`
  --> pyrogram/raw/core/primitives/bool.py:30:9
   |
28 | class Bool(bytes, TLObject):
29 |     @classmethod
30 |     def read(cls, data: BytesIO, *args: Any) -> bool:  # noqa: ARG003
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Definition is incompatible with `TLObject.read`
31 |         return int.from_bytes(data.read(4), "little") == BoolTrue.ID
   |
  ::: pyrogram/raw/core/tl_object.py:18:9
   |
17 |     @classmethod
18 |     def read(cls, b: BytesIO, *args: Any) -> Any:
   |         ---------------------------------------- `TLObject.read` defined here
19 |         return cast("TLObject", objects[int.from_bytes(b.read(4), "little")]).read(
20 |             b,
   |
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

warning[unused-type-ignore-comment]: Unused blanket `type: ignore` directive
  --> pyrogram/raw/core/primitives/bool.py:33:46
   |
31 |         return int.from_bytes(data.read(4), "little") == BoolTrue.ID
32 |
33 |     def __new__(cls, value: bool) -> bytes:  # type: ignore
   |                                              ^^^^^^^^^^^^^^
34 |         return BoolTrue() if value else BoolFalse()
   |
help: Remove the unused suppression comment
30 |     def read(cls, data: BytesIO, *args: Any) -> bool:  # noqa: ARG003
31 |         return int.from_bytes(data.read(4), "little") == BoolTrue.ID
32 |
   -     def __new__(cls, value: bool) -> bytes:  # type: ignore
33 +     def __new__(cls, value: bool) -> bytes:
34 |         return BoolTrue() if value else BoolFalse()

error[invalid-method-override]: Invalid override of method `read`
  --> pyrogram/raw/core/primitives/bytes.py:13:9
   |
11 | class Bytes(bytes, TLObject):
12 |     @classmethod
13 |     def read(cls, data: BytesIO, *args: Any) -> bytes:  # noqa: ARG003
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Definition is incompatible with `TLObject.read`
14 |         length = int.from_bytes(data.read(1), "little")
   |
  ::: pyrogram/raw/core/tl_object.py:18:9
   |
17 |     @classmethod
18 |     def read(cls, b: BytesIO, *args: Any) -> Any:
   |         ---------------------------------------- `TLObject.read` defined here
19 |         return cast("TLObject", objects[int.from_bytes(b.read(4), "little")]).read(
20 |             b,
   |
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

warning[unused-type-ignore-comment]: Unused blanket `type: ignore` directive
  --> pyrogram/raw/core/primitives/bytes.py:26:47
   |
24 |         return x
25 |
26 |     def __new__(cls, value: bytes) -> bytes:  # type: ignore
   |                                               ^^^^^^^^^^^^^^
27 |         length = len(value)
   |
help: Remove the unused suppression comment
23 |
24 |         return x
25 |
   -     def __new__(cls, value: bytes) -> bytes:  # type: ignore
26 +     def __new__(cls, value: bytes) -> bytes:
27 |         length = len(value)
28 |
29 |         if length <= 253:

error[invalid-method-override]: Invalid override of method `read`
  --> pyrogram/raw/core/primitives/double.py:14:9
   |
12 | class Double(bytes, TLObject):
13 |     @classmethod
14 |     def read(cls, data: BytesIO, *args: Any) -> float:  # noqa: ARG003
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Definition is incompatible with `TLObject.read`
15 |         return cast("float", unpack("d", data.read(8))[0])
   |
  ::: pyrogram/raw/core/tl_object.py:18:9
   |
17 |     @classmethod
18 |     def read(cls, b: BytesIO, *args: Any) -> Any:
   |         ---------------------------------------- `TLObject.read` defined here
19 |         return cast("TLObject", objects[int.from_bytes(b.read(4), "little")]).read(
20 |             b,
   |
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

warning[unused-type-ignore-comment]: Unused blanket `type: ignore` directive
  --> pyrogram/raw/core/primitives/double.py:17:47
   |
15 |         return cast("float", unpack("d", data.read(8))[0])
16 |
17 |     def __new__(cls, value: float) -> bytes:  # type: ignore
   |                                               ^^^^^^^^^^^^^^
18 |         return pack("d", value)
   |
help: Remove the unused suppression comment
14 |     def read(cls, data: BytesIO, *args: Any) -> float:  # noqa: ARG003
15 |         return cast("float", unpack("d", data.read(8))[0])
16 |
   -     def __new__(cls, value: float) -> bytes:  # type: ignore
17 +     def __new__(cls, value: float) -> bytes:
18 |         return pack("d", value)

error[invalid-method-override]: Invalid override of method `read`
  --> pyrogram/raw/core/primitives/int.py:15:9
   |
14 |       @classmethod
15 |       def read(
   |  _________^
16 | |         cls,
17 | |         data: BytesIO,
18 | |         signed: bool = True,
19 | |         *args: Any,  # noqa: ARG003
20 | |     ) -> int:
   | |____________^ Definition is incompatible with `TLObject.read`
21 |           return int.from_bytes(data.read(cls.SIZE), "little", signed=signed)
   |
  ::: pyrogram/raw/core/tl_object.py:18:9
   |
17 |       @classmethod
18 |       def read(cls, b: BytesIO, *args: Any) -> Any:
   |           ---------------------------------------- `TLObject.read` defined here
19 |           return cast("TLObject", objects[int.from_bytes(b.read(4), "little")]).read(
20 |               b,
   |
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

error[invalid-method-override]: Invalid override of method `read`
  --> pyrogram/raw/core/primitives/string.py:13:9
   |
11 | class String(Bytes):
12 |     @classmethod
13 |     def read(cls, data: BytesIO, *args) -> str:  # noqa: ARG003
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Definition is incompatible with `Bytes.read`
14 |         return cast("bytes", super(String, String).read(data)).decode(
15 |             errors="replace",
   |
  ::: pyrogram/raw/core/primitives/bytes.py:13:9
   |
11 | class Bytes(bytes, TLObject):
12 |     @classmethod
13 |     def read(cls, data: BytesIO, *args: Any) -> bytes:  # noqa: ARG003
   |         --------------------------------------------- `Bytes.read` defined here
14 |         length = int.from_bytes(data.read(1), "little")
   |
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

warning[redundant-cast]: Value is already of type `bytes`
  --> pyrogram/raw/core/primitives/string.py:14:16
   |
12 |     @classmethod
13 |     def read(cls, data: BytesIO, *args) -> str:  # noqa: ARG003
14 |         return cast("bytes", super(String, String).read(data)).decode(
   |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
15 |             errors="replace",
16 |         )
   |
info: rule `redundant-cast` is enabled by default

error[invalid-method-override]: Invalid override of method `read`
  --> pyrogram/raw/core/primitives/vector.py:35:9
   |
34 |     @classmethod
35 |     def read(cls, data: BytesIO, t: Any = None, *args: Any) -> List:  # noqa: ARG003
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Definition is incompatible with `TLObject.read`
36 |         count = Int.read(data)
37 |         left = len(data.read())
   |
  ::: pyrogram/raw/core/tl_object.py:18:9
   |
17 |     @classmethod
18 |     def read(cls, b: BytesIO, *args: Any) -> Any:
   |         ---------------------------------------- `TLObject.read` defined here
19 |         return cast("TLObject", objects[int.from_bytes(b.read(4), "little")]).read(
20 |             b,
   |
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

error[invalid-argument-type]: Argument to function `read_bare` is incorrect
  --> pyrogram/raw/core/primitives/vector.py:42:59
   |
41 |         return List(
42 |             t.read(data) if t else Vector.read_bare(data, size) for _ in range(count)
   |                                                           ^^^^ Expected `int`, found `int | float`
43 |         )
   |
info: Element `float` of this union is not assignable to `int`
info: Function defined here
  --> pyrogram/raw/core/primitives/vector.py:19:9
   |
18 |     @staticmethod
19 |     def read_bare(b: BytesIO, size: int) -> int | Any:
   |         ^^^^^^^^^             --------- Parameter declared here
20 |         if size == 4:
21 |             e = int.from_bytes(b.read(4), "little")
   |
info: rule `invalid-argument-type` is enabled by default

warning[unused-type-ignore-comment]: Unused blanket `type: ignore` directive
  --> pyrogram/raw/core/primitives/vector.py:45:61
   |
43 |         )
44 |
45 |     def __new__(cls, value: list, t: Any = None) -> bytes:  # type: ignore
   |                                                             ^^^^^^^^^^^^^^
46 |         return b"".join(
47 |             [Int(cls.ID, False), Int(len(value))]
   |
help: Remove the unused suppression comment
42 |             t.read(data) if t else Vector.read_bare(data, size) for _ in range(count)
43 |         )
44 |
   -     def __new__(cls, value: list, t: Any = None) -> bytes:  # type: ignore
45 +     def __new__(cls, value: list, t: Any = None) -> bytes:
46 |         return b"".join(
47 |             [Int(cls.ID, False), Int(len(value))]
48 |             + [cast("bytes", t(i)) if t else i.write() for i in value],

error[empty-body]: Function always implicitly returns `None`, which is not assignable to return type `bytes`
  --> pyrogram/raw/core/tl_object.py:24:36
   |
22 |         )
23 |
24 |     def write(self, *args: Any) -> bytes:
   |                                    ^^^^^
25 |         pass
   |
info: Consider changing the return annotation to `-> None` or adding a `return` statement
info: Functions with empty bodies and non-`None` return types are only permitted:
info:  - in stub files
info:  - in `if TYPE_CHECKING` blocks
info:  - as methods on protocol classes
info:  - or as `@abstractmethod`-decorated methods on abstract classes
info: rule `empty-body` is enabled by default

error[invalid-argument-type]: Argument to function `__new__` is incorrect
  --> pyrogram/session/auth.py:41:32
   |
39 |     @staticmethod
40 |     def pack(data: TLObject) -> bytes:
41 |         return bytes(8) + Long(MsgId()) + Int(len(data.write())) + data.write()
   |                                ^^^^^^^ Expected `int`, found `MsgId`
42 |
43 |     @staticmethod
   |
info: Function defined here
  --> pyrogram/raw/core/primitives/int.py:23:9
   |
21 |         return int.from_bytes(data.read(cls.SIZE), "little", signed=signed)
22 |
23 |     def __new__(cls, value: int, signed: bool = True) -> bytes:
   |         ^^^^^^^      ---------- Parameter declared here
24 |         return value.to_bytes(cls.SIZE, "little", signed=signed)
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-assignment]: Object of type `bytes` is not assignable to `TLObject`
  --> pyrogram/session/auth.py:49:9
   |
48 |     async def invoke(self, data: TLObject):
49 |         data = self.pack(data)
   |         ----   ^^^^^^^^^^^^^^^ Incompatible value of type `bytes`
   |         |
   |         Declared type `TLObject`
50 |         await self.connection.send(data)
51 |         response = BytesIO(await self.connection.recv())
   |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Attribute `send` is not defined on `None` in union `Connection | None`
  --> pyrogram/session/auth.py:50:15
   |
48 |     async def invoke(self, data: TLObject):
49 |         data = self.pack(data)
50 |         await self.connection.send(data)
   |               ^^^^^^^^^^^^^^^^^^^^
51 |         response = BytesIO(await self.connection.recv())
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `send` is incorrect
  --> pyrogram/session/auth.py:50:36
   |
48 |     async def invoke(self, data: TLObject):
49 |         data = self.pack(data)
50 |         await self.connection.send(data)
   |                                    ^^^^ Expected `bytes`, found `TLObject`
51 |         response = BytesIO(await self.connection.recv())
   |
info: Method defined here
  --> pyrogram/connection/connection.py:65:15
   |
63 |         log.info("Disconnected")
64 |
65 |     async def send(self, data: bytes) -> None:
   |               ^^^^       ----------- Parameter declared here
66 |         await self.protocol.send(data)
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/session/auth.py:51:28
   |
49 |         data = self.pack(data)
50 |         await self.connection.send(data)
51 |         response = BytesIO(await self.connection.recv())
   |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `Buffer`, found `bytes | None`
52 |
53 |         return self.unpack(response)
   |
info: Element `None` of this union is not assignable to `Buffer`
info: Method defined here
   --> stdlib/_io.pyi:487:9
    |
485 |     """Buffered I/O implementation using an in-memory bytes buffer."""
486 |
487 |     def __init__(self, initial_bytes: ReadableBuffer = b"") -> None: ...
    |         ^^^^^^^^       ----------------------------------- Parameter declared here
488 |     # BytesIO does not contain a "name" field. This workaround is necessary
489 |     # to allow BytesIO sub-classes to add this field, as it is defined
    |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `recv` is not defined on `None` in union `Connection | None`
  --> pyrogram/session/auth.py:51:34
   |
49 |         data = self.pack(data)
50 |         await self.connection.send(data)
51 |         response = BytesIO(await self.connection.recv())
   |                                  ^^^^^^^^^^^^^^^^^^^^
52 |
53 |         return self.unpack(response)
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/session/auth.py:68:17
   |
66 |                 ipv6=self.ipv6,
67 |                 alt_port=self.alt_port,
68 |                 proxy=self.proxy,
   |                 ^^^^^^^^^^^^^^^^ Expected `dict[Unknown, Unknown]`, found `Unknown | dict[Unknown, Unknown] | None`
69 |                 media=False,
70 |                 protocol_factory=self.protocol_factory,
   |
info: Element `None` of this union is not assignable to `dict[Unknown, Unknown]`
info: Method defined here
  --> pyrogram/connection/connection.py:16:9
   |
14 |     MAX_CONNECTION_ATTEMPTS = 3
15 |
16 |     def __init__(
   |         ^^^^^^^^
17 |         self,
18 |         dc_id: int,
   |
  ::: pyrogram/connection/connection.py:22:9
   |
20 |         ipv6: bool,
21 |         alt_port: bool,
22 |         proxy: dict,
   |         ----------- Parameter declared here
23 |         media: bool = False,
24 |         protocol_factory: type[TCP] = TCPAbridged,
   |
info: Union variant `bound method Connection.__init__(dc_id: int, test_mode: bool, ipv6: bool, alt_port: bool, proxy: dict[Unknown, Unknown], media: bool = False, protocol_factory: type[TCP] = ...) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | type[Connection]`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/session/internals/msg_factory.py:20:13
   |
18 |         return Message(
19 |             body,
20 |             MsgId(),
   |             ^^^^^^^ Expected `int`, found `MsgId`
21 |             self.seq_no(not isinstance(body, not_content_related)),
22 |             len(body),
   |
info: Method defined here
  --> pyrogram/raw/core/message.py:17:9
   |
15 |     QUALNAME = "Message"
16 |
17 |     def __init__(
   |         ^^^^^^^^
18 |         self,
19 |         body: TLObject,
20 |         msg_id: int,
   |         ----------- Parameter declared here
21 |         seq_no: int,
22 |         length: int,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/session/session.py:105:17
    |
103 |                 test_mode=self.test_mode,
104 |                 ipv6=self.client.ipv6,
105 |                 proxy=self.client.proxy,
    |                 ^^^^^^^^^^^^^^^^^^^^^^^ Expected `dict[Unknown, Unknown]`, found `Unknown | dict[Unknown, Unknown] | None`
106 |                 alt_port=self.client.alt_port,
107 |                 media=self.is_media,
    |
info: Element `None` of this union is not assignable to `dict[Unknown, Unknown]`
info: Method defined here
  --> pyrogram/connection/connection.py:16:9
   |
14 |     MAX_CONNECTION_ATTEMPTS = 3
15 |
16 |     def __init__(
   |         ^^^^^^^^
17 |         self,
18 |         dc_id: int,
   |
  ::: pyrogram/connection/connection.py:22:9
   |
20 |         ipv6: bool,
21 |         alt_port: bool,
22 |         proxy: dict,
   |         ----------- Parameter declared here
23 |         media: bool = False,
24 |         protocol_factory: type[TCP] = TCPAbridged,
   |
info: Union variant `bound method Connection.__init__(dc_id: int, test_mode: bool, ipv6: bool, alt_port: bool, proxy: dict[Unknown, Unknown], media: bool = False, protocol_factory: type[TCP] = ...) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | type[Connection]`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/session/session.py:133:33
    |
131 |                                 lang_pack=self.client.lang_pack,
132 |                                 query=raw.functions.help.GetConfig(),
133 |                                 params=self.client.init_params,
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `JSONValue`, found `Unknown | JsonObject | None`
134 |                             ),
135 |                         ),
    |
info: Element `None` of this union is not assignable to `JSONValue`
info: Method defined here
  --> pyrogram/raw/functions/init_connection.py:63:9
   |
61 | … QUALNAME = "functions.InitConnection"
62 | …
63 | … def __init__(self, *, api_id: int, device_model: str, system_version: str, app_version: str, system_lang_code: str, lang_pack: str, lang_code: str, query: TLObject, proxy: "raw.base.InputClientProxy" = None, params: "raw.base.JSONValue" = None) -> …
   |       ^^^^^^^^                                                                                                                                                                                                    ----------------------------------- Parameter declared here
64 | …     self.api_id = api_id  # int
65 | …     self.device_model = device_model  # string
   |
info: Union variant `bound method InitConnection.__init__(*, api_id: int, device_model: str, system_version: str, app_version: str, system_lang_code: str, lang_pack: str, lang_code: str, query: TLObject, proxy: InputClientProxy = None, params: JSONValue = None) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method InitConnection.__init__(*, api_id: int, device_model: str, system_version: str, app_version: str, system_lang_code: str, lang_pack: str, lang_code: str, query: TLObject, proxy: InputClientProxy = None, params: JSONValue = None) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[unsupported-operator]: Unsupported `-` operation
   --> pyrogram/session/session.py:318:30
    |
316 |                     )
317 |
318 |                 time_diff = (msg.msg_id - MsgId()) / 2**32
    |                              ----------^^^-------
    |                              |            |
    |                              |            Has type `MsgId`
    |                              Has type `Unknown | int`
319 |
320 |                 if time_diff > 30:
    |
info: rule `unsupported-operator` is enabled by default

error[unsupported-operator]: Unsupported `>` operation
   --> pyrogram/session/session.py:560:20
    |
558 |                 amount = e.value
559 |
560 |                 if amount > sleep_threshold >= 0:
    |                    ------^^^---------------
    |                    |        |
    |                    |        Has type `int | float`
    |                    Has type `Unknown | int | str | RpcError | None`
561 |                     raise
    |
info: Operation fails because operator `>` is not supported between objects of type `str` and `int`
info: rule `unsupported-operator` is enabled by default

error[invalid-argument-type]: Argument to function `sleep` is incorrect
   --> pyrogram/session/session.py:570:37
    |
568 |                 )
569 |
570 |                 await asyncio.sleep(amount)
    |                                     ^^^^^^ Expected `int | float`, found `Unknown | int | str | RpcError | None`
571 |             except (
572 |                 OSError,
    |
info: Union element `str`, and 2 more union elements, are not assignable to `int | float`
info: Matching overload defined here
   --> stdlib/asyncio/tasks.pyi:541:15
    |
540 |     @overload
541 |     async def sleep(delay: float) -> None:
    |               ^^^^^ ------------ Parameter declared here
542 |         """Coroutine that completes after a given time (in seconds)."""
    |
info: Non-matching overloads for function `sleep`:
info:   [_T](delay: int | float, result: _T) -> CoroutineType[Any, Any, _T]
info: rule `invalid-argument-type` is enabled by default

error[invalid-method-override]: Invalid override of method `open`
   --> pyrogram/storage/file_storage.py:59:15
    |
 57 |         await self.version(version)
 58 |
 59 |     async def open(self) -> None:
    |               ^^^^^^^^^^^^^^^^^^ Definition is incompatible with `SQLiteStorage.open`
 60 |         path = self.database
 61 |         file_exists = await AsyncPath(path).is_file()
    |
   ::: pyrogram/storage/sqlite_storage.py:120:15
    |
118 |         await self.conn.commit()
119 |
120 |     async def open(self) -> NoReturn:
    |               ---------------------- `SQLiteStorage.open` defined here
121 |         raise NotImplementedError
    |
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

error[invalid-method-override]: Invalid override of method `delete`
   --> pyrogram/storage/file_storage.py:75:15
    |
 73 |         await self.conn.commit()
 74 |
 75 |     async def delete(self) -> None:
    |               ^^^^^^^^^^^^^^^^^^^^ Definition is incompatible with `SQLiteStorage.delete`
 76 |         await AsyncPath(self.database).unlink()
    |
   ::: pyrogram/storage/sqlite_storage.py:130:15
    |
128 |         await self.conn.close()
129 |
130 |     async def delete(self) -> NoReturn:
    |               ------------------------ `SQLiteStorage.delete` defined here
131 |         raise NotImplementedError
    |
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

error[invalid-method-override]: Invalid override of method `open`
   --> pyrogram/storage/memory_storage.py:26:15
    |
 24 |         self.is_telethon_string = is_telethon_string
 25 |
 26 |     async def open(self) -> None:
    |               ^^^^^^^^^^^^^^^^^^ Definition is incompatible with `SQLiteStorage.open`
 27 |         self.conn = await aiosqlite.connect(":memory:")
 28 |         await self.create()
    |
   ::: pyrogram/storage/sqlite_storage.py:120:15
    |
118 |         await self.conn.commit()
119 |
120 |     async def open(self) -> NoReturn:
    |               ---------------------- `SQLiteStorage.open` defined here
121 |         raise NotImplementedError
    |
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

error[invalid-method-override]: Invalid override of method `delete`
   --> pyrogram/storage/memory_storage.py:86:15
    |
 84 |             await self.date(0)
 85 |
 86 |     async def delete(self) -> None:
    |               ^^^^^^^^^^^^^^^^^^^^ Definition is incompatible with `SQLiteStorage.delete`
 87 |         pass
    |
   ::: pyrogram/storage/sqlite_storage.py:130:15
    |
128 |         await self.conn.close()
129 |
130 |     async def delete(self) -> NoReturn:
    |               ------------------------ `SQLiteStorage.delete` defined here
131 |         raise NotImplementedError
    |
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

error[invalid-method-override]: Invalid override of method `save`
   --> pyrogram/storage/sqlite_storage.py:123:15
    |
121 |         raise NotImplementedError
122 |
123 |     async def save(self) -> None:
    |               ^^^^^^^^^^^^^^^^^^ Definition is incompatible with `Storage.save`
124 |         await self.date(int(time.time()))
125 |         await self.conn.commit()
    |
   ::: pyrogram/storage/storage.py:26:15
    |
 25 |     @abstractmethod
 26 |     async def save(self) -> NoReturn:
    |               ---------------------- `Storage.save` defined here
 27 |         """Saves the current state of the storage engine."""
 28 |         raise NotImplementedError
    |
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

error[invalid-method-override]: Invalid override of method `close`
   --> pyrogram/storage/sqlite_storage.py:127:15
    |
125 |         await self.conn.commit()
126 |
127 |     async def close(self) -> None:
    |               ^^^^^^^^^^^^^^^^^^^ Definition is incompatible with `Storage.close`
128 |         await self.conn.close()
    |
   ::: pyrogram/storage/storage.py:31:15
    |
 30 |     @abstractmethod
 31 |     async def close(self) -> NoReturn:
    |               ----------------------- `Storage.close` defined here
 32 |         """Closes the storage engine."""
 33 |         raise NotImplementedError
    |
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

error[invalid-method-override]: Invalid override of method `update_peers`
   --> pyrogram/storage/sqlite_storage.py:133:15
    |
131 |           raise NotImplementedError
132 |
133 |       async def update_peers(
    |  _______________^
134 | |         self,
135 | |         peers: list[tuple[int, int, str, str, str]],
136 | |     ) -> None:
    | |_____________^ Definition is incompatible with `Storage.update_peers`
137 |           with contextlib.suppress(Exception):
138 |               await self.conn.executemany(
    |
   ::: pyrogram/storage/storage.py:41:15
    |
 40 |       @abstractmethod
 41 |       async def update_peers(
    |  _______________-
 42 | |         self,
 43 | |         peers: list[tuple[int, int, str, list[str], str]],
 44 | |     ) -> Any:
    | |____________- `Storage.update_peers` defined here
 45 |           raise NotImplementedError
    |
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

error[invalid-method-override]: Invalid override of method `update_state`
   --> pyrogram/storage/sqlite_storage.py:156:15
    |
154 |           )
155 |
156 |       async def update_state(self, value: Any = object):
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Definition is incompatible with `Storage.update_state`
157 |           if value is object:
158 |               return await (
    |
   ::: pyrogram/storage/storage.py:55:15
    |
 54 |       @abstractmethod
 55 |       async def update_state(
    |  _______________-
 56 | |         self,
 57 | |         update_state: Any = object,
 58 | |     ) -> Any:
    | |____________- `Storage.update_state` defined here
 59 |           raise NotImplementedError
    |
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

error[invalid-method-override]: Invalid override of method `get_peer_by_id`
   --> pyrogram/storage/sqlite_storage.py:178:15
    |
176 |         return None
177 |
178 |     async def get_peer_by_id(self, peer_id: int):
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Definition is incompatible with `Storage.get_peer_by_id`
179 |         q = await self.conn.execute(
180 |             "SELECT id, access_hash, type FROM peers WHERE id = ?",
    |
   ::: pyrogram/storage/storage.py:62:15
    |
 61 |     @abstractmethod
 62 |     async def get_peer_by_id(self, peer_id: int | str) -> Any:
    |               ----------------------------------------------- `Storage.get_peer_by_id` defined here
 63 |         raise NotImplementedError
    |
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

error[invalid-argument-type]: Argument to bound method `reset_session` is incorrect
   --> pyrogram/types/authorization/active_session.py:169:49
    |
167 |         """
168 |
169 |         return await self._client.reset_session(self.id)
    |                                                 ^^^^^^^ Expected `int`, found `Unknown | int | None`
    |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/methods/auth/reset_session.py:8:15
   |
 7 | class ResetSession:
 8 |     async def reset_session(self: pyrogram.Client, id: int) -> bool:
   |               ^^^^^^^^^^^^^                        ------- Parameter declared here
 9 |         """Log out an active authorized session by its hash.
10 |         .. include:: /_includes/usable-by/users.rst
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/authorization/terms_of_service.py:41:13
   |
39 |               id=terms_of_service.id.data,
40 |               text=terms_of_service.text,
41 | /             entities=[
42 | |                 types.MessageEntity._parse(None, entity, {})
43 | |                 for entity in terms_of_service.entities
44 | |             ]
45 | |             if terms_of_service.entities
46 | |             else None,
   | |_____________________^ Expected `list[MessageEntity]`, found `list[MessageEntity | None] | None`
47 |           )
   |
info: Method defined here
  --> pyrogram/types/authorization/terms_of_service.py:21:9
   |
19 |     """
20 |
21 |     def __init__(
   |         ^^^^^^^^
22 |         self,
23 |         *,
24 |         id: str,
25 |         text: str,
26 |         entities: list[types.MessageEntity],
   |         ----------------------------------- Parameter declared here
27 |     ) -> None:
28 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/bot_commands/bot_command_scope_chat.py:25:13
   |
23 |     async def write(self, client: pyrogram.Client) -> raw.base.BotCommandScope:
24 |         return raw.types.BotCommandScopePeer(
25 |             peer=await client.resolve_peer(self.chat_id),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
26 |         )
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/types/bot_command_scope_peer.py:35:9
   |
33 |     QUALNAME = "types.BotCommandScopePeer"
34 |
35 |     def __init__(self, *, peer: "raw.base.InputPeer") -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
36 |         self.peer = peer  # InputPeer
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/bot_commands/bot_command_scope_chat_administrators.py:25:13
   |
23 |     async def write(self, client: pyrogram.Client) -> raw.base.BotCommandScope:
24 |         return raw.types.BotCommandScopePeerAdmins(
25 |             peer=await client.resolve_peer(self.chat_id),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
26 |         )
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/types/bot_command_scope_peer_admins.py:35:9
   |
33 |     QUALNAME = "types.BotCommandScopePeerAdmins"
34 |
35 |     def __init__(self, *, peer: "raw.base.InputPeer") -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
36 |         self.peer = peer  # InputPeer
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/bot_commands/bot_command_scope_chat_member.py:29:13
   |
27 |     async def write(self, client: pyrogram.Client) -> raw.base.BotCommandScope:
28 |         return raw.types.BotCommandScopePeerUser(
29 |             peer=await client.resolve_peer(self.chat_id),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `InputPeer | InputUser | InputChannel`
30 |             user_id=await client.resolve_peer(self.user_id),
31 |         )
   |
info: Union elements `InputUser` and `InputChannel` are not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/types/bot_command_scope_peer_user.py:38:9
   |
36 |     QUALNAME = "types.BotCommandScopePeerUser"
37 |
38 |     def __init__(self, *, peer: "raw.base.InputPeer", user_id: "raw.base.InputUser") -> None:
   |         ^^^^^^^^          -------------------------- Parameter declared here
39 |         self.peer = peer  # InputPeer
40 |         self.user_id = user_id  # InputUser
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/bot_commands/bot_command_scope_chat_member.py:30:13
   |
28 |         return raw.types.BotCommandScopePeerUser(
29 |             peer=await client.resolve_peer(self.chat_id),
30 |             user_id=await client.resolve_peer(self.user_id),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputUser`, found `InputPeer | InputUser | InputChannel`
31 |         )
   |
info: Union elements `InputPeer` and `InputChannel` are not assignable to `InputUser`
info: Method defined here
  --> pyrogram/raw/types/bot_command_scope_peer_user.py:38:9
   |
36 |     QUALNAME = "types.BotCommandScopePeerUser"
37 |
38 |     def __init__(self, *, peer: "raw.base.InputPeer", user_id: "raw.base.InputUser") -> None:
   |         ^^^^^^^^                                      ----------------------------- Parameter declared here
39 |         self.peer = peer  # InputPeer
40 |         self.user_id = user_id  # InputUser
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Module `pyrogram.raw.types` has no member `BotAllowed`
  --> pyrogram/types/bots/bot_allowed.py:43:22
   |
41 |     def _parse(
42 |         client: pyrogram.Client,
43 |         bot_allowed: raw.types.BotAllowed,
   |                      ^^^^^^^^^^^^^^^^^^^^
44 |     ) -> BotAllowed:
45 |         bot_app = getattr(bot_allowed, "app", None)
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/types/bots/bot_app.py:59:72
   |
57 |                 None,
58 |             )
59 |             document = types.Document._parse(client, bot_app.document, file_name)
   |                                                                        ^^^^^^^^^ Expected `str`, found `Any | None`
60 |         return BotApp(
61 |             id=bot_app.id,
   |
info: Element `None` of this union is not assignable to `str`
info: Function defined here
  --> pyrogram/types/messages_and_media/document.py:69:9
   |
68 |     @staticmethod
69 |     def _parse(client, document: raw.types.Document, file_name: str) -> Document:
   |         ^^^^^^                                       -------------- Parameter declared here
70 |         return Document(
71 |             file_id=FileId(
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/types/bots/bot_app.py:65:46
   |
63 |             title=bot_app.title,
64 |             description=bot_app.description,
65 |             photo=types.Photo._parse(client, bot_app.photo),
   |                                              ^^^^^^^^^^^^^ Expected `pyrogram.raw.types.photo.Photo`, found `Unknown | pyrogram.raw.base.photo.Photo`
66 |             document=document,
67 |         )
   |
info: Element `Photo` of this union is not assignable to `pyrogram.raw.types.photo.Photo`
info: Function defined here
  --> pyrogram/types/messages_and_media/photo.py:75:9
   |
74 |     @staticmethod
75 |     def _parse(
   |         ^^^^^^
76 |         client,
77 |         photo: raw.types.Photo,
   |         ---------------------- Parameter declared here
78 |         ttl_seconds: int | None = None,
79 |     ) -> Photo:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/bots/bot_business_connection.py:63:13
   |
61 |         return BotBusinessConnection(
62 |             bot_connection_id=bot_connection.connection_id,
63 |             user=await client.get_users(bot_connection.user_id),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `User`, found `User | list[User]`
64 |             dc_id=bot_connection.dc_id,
65 |             date=utils.timestamp_to_datetime(bot_connection.date),
   |
info: Element `list[User]` of this union is not assignable to `User`
info: Method defined here
  --> pyrogram/types/bots/bot_business_connection.py:36:9
   |
34 |     """
35 |
36 |     def __init__(
   |         ^^^^^^^^
37 |         self,
38 |         *,
39 |         client: pyrogram.Client  | None = None,
40 |         bot_connection_id: str,
41 |         user: pyrogram.types.User,
   |         ------------------------- Parameter declared here
42 |         dc_id: int,
43 |         date: datetime.datetime,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/bots/bot_business_connection.py:65:13
   |
63 |             user=await client.get_users(bot_connection.user_id),
64 |             dc_id=bot_connection.dc_id,
65 |             date=utils.timestamp_to_datetime(bot_connection.date),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `datetime`, found `datetime | None`
66 |             can_reply=bot_connection.can_reply,
67 |             is_disabled=bot_connection.disabled,
   |
info: Element `None` of this union is not assignable to `datetime`
info: Method defined here
  --> pyrogram/types/bots/bot_business_connection.py:36:9
   |
34 |     """
35 |
36 |     def __init__(
   |         ^^^^^^^^
37 |         self,
38 |         *,
   |
  ::: pyrogram/types/bots/bot_business_connection.py:43:9
   |
41 |         user: pyrogram.types.User,
42 |         dc_id: int,
43 |         date: datetime.datetime,
   |         ----------------------- Parameter declared here
44 |         can_reply: bool | None = None,
45 |         is_disabled: bool | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `BotBusinessConnection` has no attribute `can_reply`
  --> pyrogram/types/bots/bot_business_connection.py:66:23
   |
64 |             dc_id=bot_connection.dc_id,
65 |             date=utils.timestamp_to_datetime(bot_connection.date),
66 |             can_reply=bot_connection.can_reply,
   |                       ^^^^^^^^^^^^^^^^^^^^^^^^
67 |             is_disabled=bot_connection.disabled,
68 |             client=client,
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/bots/bot_info.py:35:13
   |
33 |     def _parse(bot_info: raw.types.bots.BotInfo) -> BotInfo:
34 |         return BotInfo(
35 |             name=getattr(bot_info, "name", None),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `str`, found `Any | None`
36 |             about=getattr(bot_info, "about", None),
37 |             description=getattr(bot_info, "description", None),
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/bots/bot_info.py:25:9
   |
23 |     """
24 |
25 |     def __init__(self, name: str, about: str, description: str) -> None:
   |         ^^^^^^^^       --------- Parameter declared here
26 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/bots/bot_info.py:36:13
   |
34 |         return BotInfo(
35 |             name=getattr(bot_info, "name", None),
36 |             about=getattr(bot_info, "about", None),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `str`, found `Any | None`
37 |             description=getattr(bot_info, "description", None),
38 |         )
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/bots/bot_info.py:25:9
   |
23 |     """
24 |
25 |     def __init__(self, name: str, about: str, description: str) -> None:
   |         ^^^^^^^^                  ---------- Parameter declared here
26 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/bots/bot_info.py:37:13
   |
35 |             name=getattr(bot_info, "name", None),
36 |             about=getattr(bot_info, "about", None),
37 |             description=getattr(bot_info, "description", None),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `str`, found `Any | None`
38 |         )
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/bots/bot_info.py:25:9
   |
23 |     """
24 |
25 |     def __init__(self, name: str, about: str, description: str) -> None:
   |         ^^^^^^^^                              ---------------- Parameter declared here
26 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/bots_and_keyboards/callback_query.py:113:13
    |
111 |         return CallbackQuery(
112 |             id=str(callback_query.query_id),
113 |             from_user=types.User._parse(client, users[callback_query.user_id]),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `User`, found `User | None`
114 |             message=message,
115 |             inline_message_id=inline_message_id,
    |
info: Element `None` of this union is not assignable to `User`
info: Method defined here
  --> pyrogram/types/bots_and_keyboards/callback_query.py:51:9
   |
49 |     """
50 |
51 |     def __init__(
   |         ^^^^^^^^
52 |         self,
53 |         *,
54 |         client: pyrogram.Client  | None = None,
55 |         id: str,
56 |         from_user: types.User,
   |         --------------------- Parameter declared here
57 |         chat_instance: str,
58 |         message: types.Message  | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/bots_and_keyboards/callback_query.py:114:13
    |
112 |             id=str(callback_query.query_id),
113 |             from_user=types.User._parse(client, users[callback_query.user_id]),
114 |             message=message,
    |             ^^^^^^^^^^^^^^^ Expected `Message | None`, found `None | Unknown | Message | list[Message] | DraftMessage`
115 |             inline_message_id=inline_message_id,
116 |             chat_instance=str(callback_query.chat_instance),
    |
info: Union elements `list[Message]` and `DraftMessage` are not assignable to `Message | None`
info: Method defined here
  --> pyrogram/types/bots_and_keyboards/callback_query.py:51:9
   |
49 |     """
50 |
51 |     def __init__(
   |         ^^^^^^^^
52 |         self,
53 |         *,
   |
  ::: pyrogram/types/bots_and_keyboards/callback_query.py:58:9
   |
56 |         from_user: types.User,
57 |         chat_instance: str,
58 |         message: types.Message  | None = None,
   |         ------------------------------------- Parameter declared here
59 |         inline_message_id: str | None = None,
60 |         data: str | bytes | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `chat` is not defined on `None` in union `Unknown | Message | None`
   --> pyrogram/types/bots_and_keyboards/callback_query.py:206:25
    |
204 |         if self.inline_message_id is None:
205 |             return await self._client.edit_message_text(
206 |                 chat_id=self.message.chat.id,
    |                         ^^^^^^^^^^^^^^^^^
207 |                 message_id=self.message.id,
208 |                 text=text,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
   --> pyrogram/types/bots_and_keyboards/callback_query.py:206:25
    |
204 |         if self.inline_message_id is None:
205 |             return await self._client.edit_message_text(
206 |                 chat_id=self.message.chat.id,
    |                         ^^^^^^^^^^^^^^^^^^^^
207 |                 message_id=self.message.id,
208 |                 text=text,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Message | None`
   --> pyrogram/types/bots_and_keyboards/callback_query.py:207:28
    |
205 |             return await self._client.edit_message_text(
206 |                 chat_id=self.message.chat.id,
207 |                 message_id=self.message.id,
    |                            ^^^^^^^^^^^^^^^
208 |                 text=text,
209 |                 parse_mode=parse_mode,
    |
info: rule `unresolved-attribute` is enabled by default

error[unknown-argument]: Argument `business_connection_id` does not match any known parameter of bound method `edit_message_text`
   --> pyrogram/types/bots_and_keyboards/callback_query.py:263:13
    |
261 |               parse_mode,
262 |               reply_markup=reply_markup,
263 | /             business_connection_id=getattr(
264 | |                 self.message,
265 | |                 "business_connection_id",
266 | |                 None,
267 | |             )
268 | |             if business_connection_id is None
269 | |             else business_connection_id,
    | |_______________________________________^
270 |           )
    |
info: Method signature here
   --> pyrogram/types/bots_and_keyboards/callback_query.py:172:15
    |
170 |           )
171 |
172 |       async def edit_message_text(
    |  _______________^
173 | |         self,
174 | |         text: str,
175 | |         parse_mode: enums.ParseMode | None = None,
176 | |         disable_web_page_preview: bool | None = None,
177 | |         reply_markup: types.InlineKeyboardMarkup  | None = None,
178 | |     ) -> types.Message | bool:
    | |_____________________________^
179 |           """Edit the text of messages attached to callback queries.
    |
info: rule `unknown-argument` is enabled by default

error[unresolved-attribute]: Attribute `chat` is not defined on `None` in union `Unknown | Message | None`
   --> pyrogram/types/bots_and_keyboards/callback_query.py:302:25
    |
300 |         if self.inline_message_id is None:
301 |             return await self._client.edit_message_media(
302 |                 chat_id=self.message.chat.id,
    |                         ^^^^^^^^^^^^^^^^^
303 |                 message_id=self.message.id,
304 |                 media=media,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
   --> pyrogram/types/bots_and_keyboards/callback_query.py:302:25
    |
300 |         if self.inline_message_id is None:
301 |             return await self._client.edit_message_media(
302 |                 chat_id=self.message.chat.id,
    |                         ^^^^^^^^^^^^^^^^^^^^
303 |                 message_id=self.message.id,
304 |                 media=media,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Message | None`
   --> pyrogram/types/bots_and_keyboards/callback_query.py:303:28
    |
301 |             return await self._client.edit_message_media(
302 |                 chat_id=self.message.chat.id,
303 |                 message_id=self.message.id,
    |                            ^^^^^^^^^^^^^^^
304 |                 media=media,
305 |                 reply_markup=reply_markup,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `chat` is not defined on `None` in union `Unknown | Message | None`
   --> pyrogram/types/bots_and_keyboards/callback_query.py:346:25
    |
344 |         if self.inline_message_id is None:
345 |             return await self._client.edit_message_reply_markup(
346 |                 chat_id=self.message.chat.id,
    |                         ^^^^^^^^^^^^^^^^^
347 |                 message_id=self.message.id,
348 |                 reply_markup=reply_markup,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
   --> pyrogram/types/bots_and_keyboards/callback_query.py:346:25
    |
344 |         if self.inline_message_id is None:
345 |             return await self._client.edit_message_reply_markup(
346 |                 chat_id=self.message.chat.id,
    |                         ^^^^^^^^^^^^^^^^^^^^
347 |                 message_id=self.message.id,
348 |                 reply_markup=reply_markup,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Message | None`
   --> pyrogram/types/bots_and_keyboards/callback_query.py:347:28
    |
345 |             return await self._client.edit_message_reply_markup(
346 |                 chat_id=self.message.chat.id,
347 |                 message_id=self.message.id,
    |                            ^^^^^^^^^^^^^^^
348 |                 reply_markup=reply_markup,
349 |                 business_connection_id=getattr(
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/bots_and_keyboards/collectible_item_info.py:55:13
   |
53 |       ) -> CollectibleItemInfo:
54 |           return CollectibleItemInfo(
55 | /             purchase_date=utils.timestamp_to_datetime(
56 | |                 collectible_info.purchase_date,
57 | |             ),
   | |_____________^ Expected `datetime`, found `datetime | None`
58 |               currency=collectible_info.currency,
59 |               amount=collectible_info.amount,
   |
info: Element `None` of this union is not assignable to `datetime`
info: Method defined here
  --> pyrogram/types/bots_and_keyboards/collectible_item_info.py:31:9
   |
29 |     """
30 |
31 |     def __init__(
   |         ^^^^^^^^
32 |         self,
33 |         *,
34 |         purchase_date: datetime,
   |         ----------------------- Parameter declared here
35 |         currency: str,
36 |         amount: float,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/bots_and_keyboards/game_high_score.py:45:13
   |
44 |         return GameHighScore(
45 |             user=types.User._parse(client, users[game_high_score.user_id]),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `User`, found `User | None`
46 |             score=game_high_score.score,
47 |             position=game_high_score.pos,
   |
info: Element `None` of this union is not assignable to `User`
info: Method defined here
  --> pyrogram/types/bots_and_keyboards/game_high_score.py:22:9
   |
20 |     """
21 |
22 |     def __init__(
   |         ^^^^^^^^
23 |         self,
24 |         *,
25 |         client: pyrogram.Client  | None = None,
26 |         user: types.User,
   |         ---------------- Parameter declared here
27 |         score: int,
28 |         position: int | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/bots_and_keyboards/game_high_score.py:54:13
   |
52 |       def _parse_action(client, service: raw.types.MessageService, users: dict):
53 |           return GameHighScore(
54 | /             user=types.User._parse(
55 | |                 client,
56 | |                 users[utils.get_raw_peer_id(service.from_id or service.peer_id)],
57 | |             ),
   | |_____________^ Expected `User`, found `User | None`
58 |               score=service.action.score,
59 |               client=client,
   |
info: Element `None` of this union is not assignable to `User`
info: Method defined here
  --> pyrogram/types/bots_and_keyboards/game_high_score.py:22:9
   |
20 |     """
21 |
22 |     def __init__(
   |         ^^^^^^^^
23 |         self,
24 |         *,
25 |         client: pyrogram.Client  | None = None,
26 |         user: types.User,
   |         ---------------- Parameter declared here
27 |         score: int,
28 |         position: int | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `score` is not defined on `MessageAction` in union `Unknown | MessageAction`
  --> pyrogram/types/bots_and_keyboards/game_high_score.py:58:19
   |
56 |                 users[utils.get_raw_peer_id(service.from_id or service.peer_id)],
57 |             ),
58 |             score=service.action.score,
   |                   ^^^^^^^^^^^^^^^^^^^^
59 |             client=client,
60 |         )
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `read` is incorrect
   --> pyrogram/types/bots_and_keyboards/inline_keyboard_button.py:106:48
    |
104 |     @staticmethod
105 |     def read(b: raw.base.KeyboardButton):
106 |         style = types.KeyboardButtonStyle.read(getattr(b, "style", None))
    |                                                ^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `KeyboardButtonStyle`, found `Any | None`
107 |
108 |         if isinstance(b, raw.types.KeyboardButtonCallback):
    |
info: Element `None` of this union is not assignable to `KeyboardButtonStyle`
info: Function defined here
  --> pyrogram/types/bots_and_keyboards/keyboard_button_style.py:40:9
   |
39 |     @staticmethod
40 |     def read(b: raw.types.KeyboardButtonStyle) -> KeyboardButtonStyle | None:
   |         ^^^^ -------------------------------- Parameter declared here
41 |         if not b:
42 |             return None
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/bots_and_keyboards/inline_keyboard_button.py:189:17
    |
187 |                 data=data,
188 |                 requires_password=self.requires_password,
189 |                 style=style,
    |                 ^^^^^^^^^^^ Expected `pyrogram.raw.base.keyboard_button_style.KeyboardButtonStyle`, found `Unknown | pyrogram.raw.types.keyboard_button_style.KeyboardButtonStyle | None`
190 |             )
    |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.keyboard_button_style.KeyboardButtonStyle`
info: Method defined here
  --> pyrogram/raw/types/keyboard_button_callback.py:44:9
   |
42 | … QUALNAME = "types.KeyboardButtonCallback"
43 | …
44 | … def __init__(self, *, text: str, data: bytes, requires_password: Optional[bool] = None, style: "raw.base.KeyboardButtonStyle" = None) -> …
   |       ^^^^^^^^                                                                            -------------------------------------------- Parameter declared here
45 | …     self.text = text  # string
46 | …     self.data = data  # bytes
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/bots_and_keyboards/inline_keyboard_button.py:196:17
    |
194 |                 text=self.text,
195 |                 url=self.url,
196 |                 style=style,
    |                 ^^^^^^^^^^^ Expected `pyrogram.raw.base.keyboard_button_style.KeyboardButtonStyle`, found `Unknown | pyrogram.raw.types.keyboard_button_style.KeyboardButtonStyle | None`
197 |             )
    |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.keyboard_button_style.KeyboardButtonStyle`
info: Method defined here
  --> pyrogram/raw/types/keyboard_button_url.py:41:9
   |
39 |     QUALNAME = "types.KeyboardButtonUrl"
40 |
41 |     def __init__(self, *, text: str, url: str, style: "raw.base.KeyboardButtonStyle" = None) -> None:
   |         ^^^^^^^^                               -------------------------------------------- Parameter declared here
42 |         self.text = text  # string
43 |         self.url = url  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `write` is incorrect
   --> pyrogram/types/bots_and_keyboards/inline_keyboard_button.py:202:17
    |
200 |             return self.login_url.write(
201 |                 text=self.text,
202 |                 bot=await client.resolve_peer(self.login_url.bot_username or "self"),
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `pyrogram.raw.types.input_user.InputUser`, found `InputPeer | pyrogram.raw.base.input_user.InputUser | InputChannel`
203 |                 style=style,
204 |             )
    |
info: Method defined here
  --> pyrogram/types/bots_and_keyboards/login_url.py:63:9
   |
61 |         return LoginUrl(url=b.url, forward_text=b.fwd_text, button_id=b.button_id)
62 |
63 |     def write(
   |         ^^^^^
64 |         self,
65 |         text: str,
66 |         bot: raw.types.InputUser,
   |         ------------------------ Parameter declared here
67 |         style: raw.types.KeyboardButtonStyle | None = None,
68 |     ):
   |
info: Union variant `bound method LoginUrl.write(text: str, bot: InputUser, style: KeyboardButtonStyle | None = None) -> Unknown` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method LoginUrl.write(text: str, bot: InputUser, style: KeyboardButtonStyle | None = None) -> Unknown)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/bots_and_keyboards/inline_keyboard_button.py:209:17
    |
207 |             return raw.types.InputKeyboardButtonUserProfile(
208 |                 text=self.text,
209 |                 user_id=await client.resolve_peer(self.user_id),
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputUser`, found `InputPeer | InputUser | InputChannel`
210 |                 style=style,
211 |             )
    |
info: Union elements `InputPeer` and `InputChannel` are not assignable to `InputUser`
info: Method defined here
  --> pyrogram/raw/types/input_keyboard_button_user_profile.py:41:9
   |
39 |     QUALNAME = "types.InputKeyboardButtonUserProfile"
40 |
41 |     def __init__(self, *, text: str, user_id: "raw.base.InputUser", style: "raw.base.KeyboardButtonStyle" = None) -> None:
   |         ^^^^^^^^                     ----------------------------- Parameter declared here
42 |         self.text = text  # string
43 |         self.user_id = user_id  # InputUser
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/bots_and_keyboards/inline_keyboard_button.py:210:17
    |
208 |                 text=self.text,
209 |                 user_id=await client.resolve_peer(self.user_id),
210 |                 style=style,
    |                 ^^^^^^^^^^^ Expected `pyrogram.raw.base.keyboard_button_style.KeyboardButtonStyle`, found `Unknown | pyrogram.raw.types.keyboard_button_style.KeyboardButtonStyle | None`
211 |             )
    |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.keyboard_button_style.KeyboardButtonStyle`
info: Method defined here
  --> pyrogram/raw/types/input_keyboard_button_user_profile.py:41:9
   |
39 |     QUALNAME = "types.InputKeyboardButtonUserProfile"
40 |
41 |     def __init__(self, *, text: str, user_id: "raw.base.InputUser", style: "raw.base.KeyboardButtonStyle" = None) -> None:
   |         ^^^^^^^^                                                    -------------------------------------------- Parameter declared here
42 |         self.text = text  # string
43 |         self.user_id = user_id  # InputUser
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/bots_and_keyboards/inline_keyboard_button.py:217:17
    |
215 |                 text=self.text,
216 |                 query=self.switch_inline_query,
217 |                 style=style,
    |                 ^^^^^^^^^^^ Expected `pyrogram.raw.base.keyboard_button_style.KeyboardButtonStyle`, found `Unknown | pyrogram.raw.types.keyboard_button_style.KeyboardButtonStyle | None`
218 |             )
    |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.keyboard_button_style.KeyboardButtonStyle`
info: Method defined here
  --> pyrogram/raw/types/keyboard_button_switch_inline.py:47:9
   |
45 | … QUALNAME = "types.KeyboardButtonSwitchInline"
46 | …
47 | … def __init__(self, *, text: str, query: str, same_peer: Optional[bool] = None, style: "raw.base.KeyboardButtonStyle" = None, peer_ty…
   |       ^^^^^^^^                                                                   -------------------------------------------- Parameter declared here
48 | …     self.text = text  # string
49 | …     self.query = query  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/bots_and_keyboards/inline_keyboard_button.py:225:17
    |
223 |                 query=self.switch_inline_query_current_chat,
224 |                 same_peer=True,
225 |                 style=style,
    |                 ^^^^^^^^^^^ Expected `pyrogram.raw.base.keyboard_button_style.KeyboardButtonStyle`, found `Unknown | pyrogram.raw.types.keyboard_button_style.KeyboardButtonStyle | None`
226 |             )
    |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.keyboard_button_style.KeyboardButtonStyle`
info: Method defined here
  --> pyrogram/raw/types/keyboard_button_switch_inline.py:47:9
   |
45 | … QUALNAME = "types.KeyboardButtonSwitchInline"
46 | …
47 | … def __init__(self, *, text: str, query: str, same_peer: Optional[bool] = None, style: "raw.base.KeyboardButtonStyle" = None, peer_ty…
   |       ^^^^^^^^                                                                   -------------------------------------------- Parameter declared here
48 | …     self.text = text  # string
49 | …     self.query = query  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/bots_and_keyboards/inline_keyboard_button.py:229:65
    |
228 |         if self.callback_game is not None:
229 |             return raw.types.KeyboardButtonGame(text=self.text, style=style)
    |                                                                 ^^^^^^^^^^^ Expected `pyrogram.raw.base.keyboard_button_style.KeyboardButtonStyle`, found `Unknown | pyrogram.raw.types.keyboard_button_style.KeyboardButtonStyle | None`
230 |
231 |         if self.web_app is not None:
    |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.keyboard_button_style.KeyboardButtonStyle`
info: Method defined here
  --> pyrogram/raw/types/keyboard_button_game.py:38:9
   |
36 |     QUALNAME = "types.KeyboardButtonGame"
37 |
38 |     def __init__(self, *, text: str, style: "raw.base.KeyboardButtonStyle" = None) -> None:
   |         ^^^^^^^^                     -------------------------------------------- Parameter declared here
39 |         self.text = text  # string
40 |         self.style = style  # flags.10?KeyboardButtonStyle
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/bots_and_keyboards/inline_keyboard_button.py:235:17
    |
233 |                 text=self.text,
234 |                 url=self.web_app.url,
235 |                 style=style,
    |                 ^^^^^^^^^^^ Expected `pyrogram.raw.base.keyboard_button_style.KeyboardButtonStyle`, found `Unknown | pyrogram.raw.types.keyboard_button_style.KeyboardButtonStyle | None`
236 |             )
237 |         if self.copy_text is not None:
    |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.keyboard_button_style.KeyboardButtonStyle`
info: Method defined here
  --> pyrogram/raw/types/keyboard_button_web_view.py:41:9
   |
39 |     QUALNAME = "types.KeyboardButtonWebView"
40 |
41 |     def __init__(self, *, text: str, url: str, style: "raw.base.KeyboardButtonStyle" = None) -> None:
   |         ^^^^^^^^                               -------------------------------------------- Parameter declared here
42 |         self.text = text  # string
43 |         self.url = url  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/bots_and_keyboards/inline_keyboard_button.py:241:17
    |
239 |                 text=self.text,
240 |                 copy_text=self.copy_text,
241 |                 style=style,
    |                 ^^^^^^^^^^^ Expected `pyrogram.raw.base.keyboard_button_style.KeyboardButtonStyle`, found `Unknown | pyrogram.raw.types.keyboard_button_style.KeyboardButtonStyle | None`
242 |             )
243 |         return None
    |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.keyboard_button_style.KeyboardButtonStyle`
info: Method defined here
  --> pyrogram/raw/types/keyboard_button_copy.py:41:9
   |
39 |     QUALNAME = "types.KeyboardButtonCopy"
40 |
41 |     def __init__(self, *, text: str, copy_text: str, style: "raw.base.KeyboardButtonStyle" = None) -> None:
   |         ^^^^^^^^                                     -------------------------------------------- Parameter declared here
42 |         self.text = text  # string
43 |         self.copy_text = copy_text  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `read` is incorrect
  --> pyrogram/types/bots_and_keyboards/inline_keyboard_button_buy.py:45:50
   |
43 |         return InlineKeyboardButtonBuy(
44 |             text=b.text,
45 |             style=types.KeyboardButtonStyle.read(getattr(b, "style", None)),
   |                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `KeyboardButtonStyle`, found `Any | None`
46 |         )
   |
info: Element `None` of this union is not assignable to `KeyboardButtonStyle`
info: Function defined here
  --> pyrogram/types/bots_and_keyboards/keyboard_button_style.py:40:9
   |
39 |     @staticmethod
40 |     def read(b: raw.types.KeyboardButtonStyle) -> KeyboardButtonStyle | None:
   |         ^^^^ -------------------------------- Parameter declared here
41 |         if not b:
42 |             return None
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/bots_and_keyboards/inline_keyboard_button_buy.py:51:13
   |
49 |         return raw.types.KeyboardButtonBuy(
50 |             text=self.text,
51 |             style=self.style.write() if self.style else None,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `pyrogram.raw.base.keyboard_button_style.KeyboardButtonStyle`, found `Unknown | pyrogram.raw.types.keyboard_button_style.KeyboardButtonStyle | None`
52 |         )
   |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.keyboard_button_style.KeyboardButtonStyle`
info: Method defined here
  --> pyrogram/raw/types/keyboard_button_buy.py:38:9
   |
36 |     QUALNAME = "types.KeyboardButtonBuy"
37 |
38 |     def __init__(self, *, text: str, style: "raw.base.KeyboardButtonStyle" = None) -> None:
   |         ^^^^^^^^                     -------------------------------------------- Parameter declared here
39 |         self.text = text  # string
40 |         self.style = style  # flags.10?KeyboardButtonStyle
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `RequestPeerTypeChat | RequestPeerTypeChannel`
  --> pyrogram/types/bots_and_keyboards/keyboard_button.py:50:9
   |
48 |           request_contact: bool | None = None,
49 |           request_location: bool | None = None,
50 | /         request_chat: types.RequestPeerTypeChat
51 | |         | types.RequestPeerTypeChannel = None,
   | |_____________________________________________^
52 |           request_user: types.RequestPeerTypeUser  | None = None,
53 |           web_app: types.WebAppInfo  | None = None,
   |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-argument-type]: Argument to function `read` is incorrect
  --> pyrogram/types/bots_and_keyboards/keyboard_button.py:75:48
   |
73 |     @staticmethod
74 |     def read(b):
75 |         style = types.KeyboardButtonStyle.read(getattr(b, "style", None))
   |                                                ^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `KeyboardButtonStyle`, found `Any | None`
76 |
77 |         if isinstance(b, raw.types.KeyboardButton):
   |
info: Element `None` of this union is not assignable to `KeyboardButtonStyle`
info: Function defined here
  --> pyrogram/types/bots_and_keyboards/keyboard_button_style.py:40:9
   |
39 |     @staticmethod
40 |     def read(b: raw.types.KeyboardButtonStyle) -> KeyboardButtonStyle | None:
   |         ^^^^ -------------------------------- Parameter declared here
41 |         if not b:
42 |             return None
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/bots_and_keyboards/keyboard_button.py:134:73
    |
133 |         if self.request_contact:
134 |             return raw.types.KeyboardButtonRequestPhone(text=self.text, style=style)
    |                                                                         ^^^^^^^^^^^ Expected `pyrogram.raw.base.keyboard_button_style.KeyboardButtonStyle`, found `Unknown | pyrogram.raw.types.keyboard_button_style.KeyboardButtonStyle | None`
135 |         if self.request_location:
136 |             return raw.types.KeyboardButtonRequestGeoLocation(
    |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.keyboard_button_style.KeyboardButtonStyle`
info: Method defined here
  --> pyrogram/raw/types/keyboard_button_request_phone.py:38:9
   |
36 |     QUALNAME = "types.KeyboardButtonRequestPhone"
37 |
38 |     def __init__(self, *, text: str, style: "raw.base.KeyboardButtonStyle" = None) -> None:
   |         ^^^^^^^^                     -------------------------------------------- Parameter declared here
39 |         self.text = text  # string
40 |         self.style = style  # flags.10?KeyboardButtonStyle
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/bots_and_keyboards/keyboard_button.py:138:17
    |
136 |             return raw.types.KeyboardButtonRequestGeoLocation(
137 |                 text=self.text,
138 |                 style=style,
    |                 ^^^^^^^^^^^ Expected `pyrogram.raw.base.keyboard_button_style.KeyboardButtonStyle`, found `Unknown | pyrogram.raw.types.keyboard_button_style.KeyboardButtonStyle | None`
139 |             )
140 |         if self.request_chat:
    |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.keyboard_button_style.KeyboardButtonStyle`
info: Method defined here
  --> pyrogram/raw/types/keyboard_button_request_geo_location.py:38:9
   |
36 |     QUALNAME = "types.KeyboardButtonRequestGeoLocation"
37 |
38 |     def __init__(self, *, text: str, style: "raw.base.KeyboardButtonStyle" = None) -> None:
   |         ^^^^^^^^                     -------------------------------------------- Parameter declared here
39 |         self.text = text  # string
40 |         self.style = style  # flags.10?KeyboardButtonStyle
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/bots_and_keyboards/keyboard_button.py:186:17
    |
184 |                 text=self.text,
185 |                 url=self.web_app.url,
186 |                 style=style,
    |                 ^^^^^^^^^^^ Expected `pyrogram.raw.base.keyboard_button_style.KeyboardButtonStyle`, found `Unknown | pyrogram.raw.types.keyboard_button_style.KeyboardButtonStyle | None`
187 |             )
188 |         return raw.types.KeyboardButton(text=self.text, style=style)
    |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.keyboard_button_style.KeyboardButtonStyle`
info: Method defined here
  --> pyrogram/raw/types/keyboard_button_simple_web_view.py:41:9
   |
39 |     QUALNAME = "types.KeyboardButtonSimpleWebView"
40 |
41 |     def __init__(self, *, text: str, url: str, style: "raw.base.KeyboardButtonStyle" = None) -> None:
   |         ^^^^^^^^                               -------------------------------------------- Parameter declared here
42 |         self.text = text  # string
43 |         self.url = url  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/bots_and_keyboards/keyboard_button.py:188:57
    |
186 |                 style=style,
187 |             )
188 |         return raw.types.KeyboardButton(text=self.text, style=style)
    |                                                         ^^^^^^^^^^^ Expected `pyrogram.raw.base.keyboard_button_style.KeyboardButtonStyle`, found `Unknown | pyrogram.raw.types.keyboard_button_style.KeyboardButtonStyle | None`
    |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.keyboard_button_style.KeyboardButtonStyle`
info: Method defined here
  --> pyrogram/raw/types/keyboard_button.py:38:9
   |
36 |     QUALNAME = "types.KeyboardButton"
37 |
38 |     def __init__(self, *, text: str, style: "raw.base.KeyboardButtonStyle" = None) -> None:
   |         ^^^^^^^^                     -------------------------------------------- Parameter declared here
39 |         self.text = text  # string
40 |         self.style = style  # flags.10?KeyboardButtonStyle
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/bots_and_keyboards/login_url.py:74:13
   |
72 |             bot=bot,
73 |             fwd_text=self.forward_text,
74 |             request_write_access=self.request_write_access,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `bool | None`, found `Unknown | str | None`
75 |             style=style,
76 |         )
   |
info: Element `str` of this union is not assignable to `bool | None`
info: Method defined here
  --> pyrogram/raw/types/input_keyboard_button_url_auth.py:50:9
   |
48 |     QUALNAME = "types.InputKeyboardButtonUrlAuth"
49 |
50 |     def __init__(self, *, text: str, url: str, bot: "raw.base.InputUser", request_write_access: Optional[bool] = None, style: "raw.bas…
   |         ^^^^^^^^                                                          ------------------------------------------- Parameter declared here
51 |         self.text = text  # string
52 |         self.url = url  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/bots_and_keyboards/login_url.py:75:13
   |
73 |             fwd_text=self.forward_text,
74 |             request_write_access=self.request_write_access,
75 |             style=style,
   |             ^^^^^^^^^^^ Expected `pyrogram.raw.base.keyboard_button_style.KeyboardButtonStyle`, found `pyrogram.raw.types.keyboard_button_style.KeyboardButtonStyle | None`
76 |         )
   |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.keyboard_button_style.KeyboardButtonStyle`
info: Method defined here
  --> pyrogram/raw/types/input_keyboard_button_url_auth.py:50:9
   |
48 | … QUALNAME = "types.InputKeyboardButtonUrlAuth"
49 | …
50 | … def __init__(self, *, text: str, url: str, bot: "raw.base.InputUser", request_write_access: Optional[bool] = None, style: "raw.base.KeyboardButtonStyle" = None, fwd…
   |       ^^^^^^^^                                                                                                       -------------------------------------------- Parameter declared here
51 | …     self.text = text  # string
52 | …     self.url = url  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `ReplyMarkup` has no attribute `rows`
  --> pyrogram/types/bots_and_keyboards/reply_keyboard_markup.py:62:18
   |
60 |         keyboard = []
61 |
62 |         for i in kb.rows:
   |                  ^^^^^^^
63 |             row = [types.KeyboardButton.read(j) for j in i.buttons]
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ReplyMarkup` has no attribute `persistent`
  --> pyrogram/types/bots_and_keyboards/reply_keyboard_markup.py:69:27
   |
67 |         return ReplyKeyboardMarkup(
68 |             keyboard=keyboard,
69 |             is_persistent=kb.persistent,
   |                           ^^^^^^^^^^^^^
70 |             resize_keyboard=kb.resize,
71 |             one_time_keyboard=kb.single_use,
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ReplyMarkup` has no attribute `resize`
  --> pyrogram/types/bots_and_keyboards/reply_keyboard_markup.py:70:29
   |
68 |             keyboard=keyboard,
69 |             is_persistent=kb.persistent,
70 |             resize_keyboard=kb.resize,
   |                             ^^^^^^^^^
71 |             one_time_keyboard=kb.single_use,
72 |             selective=kb.selective,
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ReplyMarkup` has no attribute `single_use`
  --> pyrogram/types/bots_and_keyboards/reply_keyboard_markup.py:71:31
   |
69 |             is_persistent=kb.persistent,
70 |             resize_keyboard=kb.resize,
71 |             one_time_keyboard=kb.single_use,
   |                               ^^^^^^^^^^^^^
72 |             selective=kb.selective,
73 |             placeholder=kb.placeholder,
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ReplyMarkup` has no attribute `selective`
  --> pyrogram/types/bots_and_keyboards/reply_keyboard_markup.py:72:23
   |
70 |             resize_keyboard=kb.resize,
71 |             one_time_keyboard=kb.single_use,
72 |             selective=kb.selective,
   |                       ^^^^^^^^^^^^
73 |             placeholder=kb.placeholder,
74 |         )
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ReplyMarkup` has no attribute `placeholder`
  --> pyrogram/types/bots_and_keyboards/reply_keyboard_markup.py:73:25
   |
71 |             one_time_keyboard=kb.single_use,
72 |             selective=kb.selective,
73 |             placeholder=kb.placeholder,
   |                         ^^^^^^^^^^^^^^
74 |         )
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/types/bots_and_keyboards/requested_chat.py:60:48
   |
58 |         photo = None
59 |         if getattr(request, "photo", None):
60 |             photo = types.Photo._parse(client, getattr(request, "photo", None), 0)
   |                                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `Photo`, found `Any | None`
61 |
62 |         return RequestedChat(
   |
info: Element `None` of this union is not assignable to `Photo`
info: Function defined here
  --> pyrogram/types/messages_and_media/photo.py:75:9
   |
74 |     @staticmethod
75 |     def _parse(
   |         ^^^^^^
76 |         client,
77 |         photo: raw.types.Photo,
   |         ---------------------- Parameter declared here
78 |         ttl_seconds: int | None = None,
79 |     ) -> Photo:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `get_channel_id` is incorrect
  --> pyrogram/types/bots_and_keyboards/requested_chat.py:63:42
   |
62 |         return RequestedChat(
63 |             chat_id=utils.get_channel_id(utils.get_raw_peer_id(request)),
   |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `int | None`
64 |             chat_type=type,
65 |             name=getattr(request, "title", None),
   |
info: Element `None` of this union is not assignable to `int`
info: Function defined here
   --> pyrogram/utils.py:277:5
    |
277 | def get_channel_id(peer_id: int) -> int:
    |     ^^^^^^^^^^^^^^ ------------ Parameter declared here
278 |     return MAX_CHANNEL_ID - peer_id
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/bots_and_keyboards/requested_chat.py:67:13
   |
65 |             name=getattr(request, "title", None),
66 |             username=getattr(request, "username", None),
67 |             photo=photo,
   |             ^^^^^^^^^^^ Expected `ChatPhoto | None`, found `None | Photo`
68 |         )
   |
info: Element `Photo` of this union is not assignable to `ChatPhoto | None`
info: Method defined here
  --> pyrogram/types/bots_and_keyboards/requested_chat.py:27:9
   |
25 |     """
26 |
27 |     def __init__(
   |         ^^^^^^^^
28 |         self,
29 |         chat_id: int,
   |
  ::: pyrogram/types/bots_and_keyboards/requested_chat.py:33:9
   |
31 |         name: str | None = None,
32 |         username: str | None = None,
33 |         photo: types.ChatPhoto  | None = None,
   |         ------------------------------------- Parameter declared here
34 |     ) -> None:
35 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/types/bots_and_keyboards/requested_user.py:53:48
   |
51 |         photo = None
52 |         if getattr(request, "photo", None):
53 |             photo = types.Photo._parse(client, getattr(request, "photo", None), 0)
   |                                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `Photo`, found `Any | None`
54 |
55 |         return RequestedUser(
   |
info: Element `None` of this union is not assignable to `Photo`
info: Function defined here
  --> pyrogram/types/messages_and_media/photo.py:75:9
   |
74 |     @staticmethod
75 |     def _parse(
   |         ^^^^^^
76 |         client,
77 |         photo: raw.types.Photo,
   |         ---------------------- Parameter declared here
78 |         ttl_seconds: int | None = None,
79 |     ) -> Photo:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/bots_and_keyboards/requested_user.py:56:13
   |
55 |         return RequestedUser(
56 |             user_id=getattr(request, "user_id", None),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Any | None`
57 |             first_name=getattr(request, "first_name", None),
58 |             last_name=getattr(request, "last_name", None),
   |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/types/bots_and_keyboards/requested_user.py:30:9
   |
28 |     """
29 |
30 |     def __init__(
   |         ^^^^^^^^
31 |         self,
32 |         user_id: int,
   |         ------------ Parameter declared here
33 |         first_name: str | None = None,
34 |         last_name: str | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/bots_and_keyboards/requested_user.py:60:13
   |
58 |             last_name=getattr(request, "last_name", None),
59 |             username=getattr(request, "username", None),
60 |             photo=photo,
   |             ^^^^^^^^^^^ Expected `ChatPhoto | None`, found `None | Photo`
61 |         )
   |
info: Element `Photo` of this union is not assignable to `ChatPhoto | None`
info: Method defined here
  --> pyrogram/types/bots_and_keyboards/requested_user.py:30:9
   |
28 |     """
29 |
30 |     def __init__(
   |         ^^^^^^^^
31 |         self,
32 |         user_id: int,
   |
  ::: pyrogram/types/bots_and_keyboards/requested_user.py:36:9
   |
34 |         last_name: str | None = None,
35 |         username: str | None = None,
36 |         photo: types.ChatPhoto  | None = None,
   |         ------------------------------------- Parameter declared here
37 |     ) -> None:
38 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/types/bots_and_keyboards/requested_user.py:64:28
   |
63 |     @property
64 |     def full_name(self) -> str:
   |                            --- Expected `str` because of return type
65 |         return " ".join(filter(None, [self.first_name, self.last_name])) or None
   |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `str`, found `(str & ~AlwaysFalsy) | None`
   |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/types/business/extended_media_preview.py:46:60
   |
44 |         thumb = None
45 |         if media.thumb:
46 |             thumb = types.StrippedThumbnail._parse(client, media.thumb)
   |                                                            ^^^^^^^^^^^ Expected `PhotoStrippedSize`, found `(Unknown & ~AlwaysFalsy) | (PhotoSize & ~AlwaysFalsy)`
47 |
48 |         return ExtendedMediaPreview(
   |
info: Element `PhotoSize & ~AlwaysFalsy` of this union is not assignable to `PhotoStrippedSize`
info: Function defined here
  --> pyrogram/types/messages_and_media/stripped_thumbnail.py:26:9
   |
25 |     @staticmethod
26 |     def _parse(
   |         ^^^^^^
27 |         client,
28 |         stripped_thumbnail: raw.types.PhotoStrippedSize,
   |         ----------------------------------------------- Parameter declared here
29 |     ) -> StrippedThumbnail:
30 |         return StrippedThumbnail(data=stripped_thumbnail.bytes, client=client)
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/business/extended_media_preview.py:51:13
   |
49 |             width=media.w,
50 |             height=media.h,
51 |             thumb=thumb,
   |             ^^^^^^^^^^^ Expected `Thumbnail | None`, found `None | StrippedThumbnail`
52 |             video_duration=media.video_duration,
53 |         )
   |
info: Element `StrippedThumbnail` of this union is not assignable to `Thumbnail | None`
info: Method defined here
  --> pyrogram/types/business/extended_media_preview.py:24:9
   |
22 |     """
23 |
24 |     def __init__(
   |         ^^^^^^^^
25 |         self,
26 |         *,
27 |         width: int | None = None,
28 |         height: int | None = None,
29 |         thumb: types.Thumbnail  | None = None,
   |         ------------------------------------- Parameter declared here
30 |         video_duration: int | None = None,
31 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/business/invoice.py:127:13
    |
125 |         return Invoice(
126 |             currency=invoice.currency,
127 |             is_test=invoice.test,
    |             ^^^^^^^^^^^^^^^^^^^^ Expected `bool`, found `Unknown | bool | None`
128 |             title=getattr(invoice, "title", None),
129 |             description=getattr(invoice, "description", None),
    |
info: Element `None` of this union is not assignable to `bool`
info: Method defined here
  --> pyrogram/types/business/invoice.py:74:9
   |
72 |     """
73 |
74 |     def __init__(
   |         ^^^^^^^^
75 |         self,
76 |         *,
77 |         client: pyrogram.Client  | None = None,
78 |         currency: str,
79 |         is_test: bool,
   |         ------------- Parameter declared here
80 |         title: str | None = None,
81 |         description: str | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Class `LabeledPrice` has no attribute `_parse`
   --> pyrogram/types/business/invoice.py:132:31
    |
130 |             total_amount=getattr(invoice, "total_amount", None),
131 |             start_parameter=getattr(invoice, "start_param", None) or None,
132 |             prices=types.List(types.LabeledPrice._parse(lp) for lp in invoice.prices)
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^
133 |             if getattr(invoice, "prices", None)
134 |             else None,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `prices` is not defined on `MessageMediaInvoice` in union `MessageMediaInvoice | Invoice`
   --> pyrogram/types/business/invoice.py:132:71
    |
130 |             total_amount=getattr(invoice, "total_amount", None),
131 |             start_parameter=getattr(invoice, "start_param", None) or None,
132 |             prices=types.List(types.LabeledPrice._parse(lp) for lp in invoice.prices)
    |                                                                       ^^^^^^^^^^^^^^
133 |             if getattr(invoice, "prices", None)
134 |             else None,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `media` is not defined on `MessageExtendedMedia & ~MessageExtendedMediaPreview` in union `(Unknown & ~MessageExtendedMediaPreview) | (MessageExtendedMedia & ~MessageExtendedMediaPreview)`
  --> pyrogram/types/business/paid_media.py:38:29
   |
36 |             if isinstance(m, raw.types.MessageExtendedMediaPreview):
37 |                 extended_media.append(types.ExtendedMediaPreview._parse(client, m))
38 |             elif isinstance(m.media, raw.types.MessageMediaPhoto):
   |                             ^^^^^^^
39 |                 extended_media.append(
40 |                     types.Photo._parse(client, m.media.photo, m.media.ttl_seconds),
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `media` is not defined on `MessageExtendedMedia & ~MessageExtendedMediaPreview` in union `(Unknown & ~MessageExtendedMediaPreview) | (MessageExtendedMedia & ~MessageExtendedMediaPreview)`
  --> pyrogram/types/business/paid_media.py:40:48
   |
38 |             elif isinstance(m.media, raw.types.MessageMediaPhoto):
39 |                 extended_media.append(
40 |                     types.Photo._parse(client, m.media.photo, m.media.ttl_seconds),
   |                                                ^^^^^^^
41 |                 )
42 |             elif isinstance(m.media, raw.types.MessageMediaDocument):
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `media` is not defined on `MessageExtendedMedia & ~MessageExtendedMediaPreview` in union `(Unknown & ~MessageExtendedMediaPreview) | (MessageExtendedMedia & ~MessageExtendedMediaPreview)`
  --> pyrogram/types/business/paid_media.py:40:63
   |
38 |             elif isinstance(m.media, raw.types.MessageMediaPhoto):
39 |                 extended_media.append(
40 |                     types.Photo._parse(client, m.media.photo, m.media.ttl_seconds),
   |                                                               ^^^^^^^
41 |                 )
42 |             elif isinstance(m.media, raw.types.MessageMediaDocument):
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `media` is not defined on `MessageExtendedMedia & ~MessageExtendedMediaPreview` in union `(Unknown & ~MessageExtendedMediaPreview) | (MessageExtendedMedia & ~MessageExtendedMediaPreview)`
  --> pyrogram/types/business/paid_media.py:42:29
   |
40 |                     types.Photo._parse(client, m.media.photo, m.media.ttl_seconds),
41 |                 )
42 |             elif isinstance(m.media, raw.types.MessageMediaDocument):
   |                             ^^^^^^^
43 |                 attributes = {type(i): i for i in m.media.document.attributes}
44 |                 file_name = getattr(
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `media` is not defined on `MessageExtendedMedia & ~MessageExtendedMediaPreview` in union `(Unknown & ~MessageExtendedMediaPreview) | (MessageExtendedMedia & ~MessageExtendedMediaPreview)`
  --> pyrogram/types/business/paid_media.py:43:51
   |
41 |                 )
42 |             elif isinstance(m.media, raw.types.MessageMediaDocument):
43 |                 attributes = {type(i): i for i in m.media.document.attributes}
   |                                                   ^^^^^^^
44 |                 file_name = getattr(
45 |                     attributes.get(raw.types.DocumentAttributeFilename),
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `media` is not defined on `MessageExtendedMedia & ~MessageExtendedMediaPreview` in union `(Unknown & ~MessageExtendedMediaPreview) | (MessageExtendedMedia & ~MessageExtendedMediaPreview)`
  --> pyrogram/types/business/paid_media.py:56:29
   |
54 |                         types.Animation._parse(
55 |                             client,
56 |                             m.media.document,
   |                             ^^^^^^^
57 |                             video_attributes,
58 |                             file_name,
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/types/business/paid_media.py:57:29
   |
55 |                             client,
56 |                             m.media.document,
57 |                             video_attributes,
   |                             ^^^^^^^^^^^^^^^^ Expected `DocumentAttributeVideo`, found `Unknown | None`
58 |                             file_name,
59 |                         ),
   |
info: Element `None` of this union is not assignable to `DocumentAttributeVideo`
info: Function defined here
  --> pyrogram/types/messages_and_media/animation.py:85:9
   |
84 |     @staticmethod
85 |     def _parse(
   |         ^^^^^^
86 |         client,
87 |         animation: raw.types.Document,
88 |         video_attributes: raw.types.DocumentAttributeVideo,
   |         -------------------------------------------------- Parameter declared here
89 |         file_name: str,
90 |     ) -> Animation:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/types/business/paid_media.py:58:29
   |
56 |                             m.media.document,
57 |                             video_attributes,
58 |                             file_name,
   |                             ^^^^^^^^^ Expected `str`, found `Any | None`
59 |                         ),
60 |                     )
   |
info: Element `None` of this union is not assignable to `str`
info: Function defined here
  --> pyrogram/types/messages_and_media/animation.py:85:9
   |
84 |     @staticmethod
85 |     def _parse(
   |         ^^^^^^
86 |         client,
87 |         animation: raw.types.Document,
88 |         video_attributes: raw.types.DocumentAttributeVideo,
89 |         file_name: str,
   |         -------------- Parameter declared here
90 |     ) -> Animation:
91 |         return Animation(
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `media` is not defined on `MessageExtendedMedia & ~MessageExtendedMediaPreview` in union `(Unknown & ~MessageExtendedMediaPreview) | (MessageExtendedMedia & ~MessageExtendedMediaPreview)`
  --> pyrogram/types/business/paid_media.py:66:29
   |
64 |                         types.Video._parse(
65 |                             client,
66 |                             m.media.document,
   |                             ^^^^^^^
67 |                             video_attributes,
68 |                             file_name,
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/types/business/paid_media.py:68:29
   |
66 |                             m.media.document,
67 |                             video_attributes,
68 |                             file_name,
   |                             ^^^^^^^^^ Expected `str`, found `Any | None`
69 |                             m.media.ttl_seconds,
70 |                         ),
   |
info: Element `None` of this union is not assignable to `str`
info: Function defined here
   --> pyrogram/types/messages_and_media/video.py:94:9
    |
 93 |     @staticmethod
 94 |     def _parse(
    |         ^^^^^^
 95 |         client,
 96 |         video: raw.types.Document,
 97 |         video_attributes: raw.types.DocumentAttributeVideo,
 98 |         file_name: str,
    |         -------------- Parameter declared here
 99 |         ttl_seconds: int | None = None,
100 |     ) -> Video:
    |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `media` is not defined on `MessageExtendedMedia & ~MessageExtendedMediaPreview` in union `(Unknown & ~MessageExtendedMediaPreview) | (MessageExtendedMedia & ~MessageExtendedMediaPreview)`
  --> pyrogram/types/business/paid_media.py:69:29
   |
67 |                             video_attributes,
68 |                             file_name,
69 |                             m.media.ttl_seconds,
   |                             ^^^^^^^
70 |                         ),
71 |                     )
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `decode` is not defined on `None` in union `Unknown | bytes | None`
  --> pyrogram/types/business/payment_refunded.py:58:23
   |
56 |     ) -> PaymentRefunded:
57 |         try:
58 |             payload = payment_refunded.payload.decode()
   |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
59 |         except (UnicodeDecodeError, AttributeError):
60 |             payload = payment_refunded.payload
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/business/payment_refunded.py:63:13
   |
62 |         return PaymentRefunded(
63 |             user=await client.get_users(payment_refunded.peer.user_id),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `User`, found `User | list[User]`
64 |             currency=payment_refunded.currency,
65 |             total_amount=payment_refunded.total_amount,
   |
info: Element `list[User]` of this union is not assignable to `User`
info: Method defined here
  --> pyrogram/types/business/payment_refunded.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         *,
38 |         user: types.User,
   |         ---------------- Parameter declared here
39 |         currency: str,
40 |         total_amount: str,
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `user_id` is not defined on `Peer` in union `Unknown | Peer`
  --> pyrogram/types/business/payment_refunded.py:63:41
   |
62 |         return PaymentRefunded(
63 |             user=await client.get_users(payment_refunded.peer.user_id),
   |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
64 |             currency=payment_refunded.currency,
65 |             total_amount=payment_refunded.total_amount,
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/business/payment_refunded.py:65:13
   |
63 |             user=await client.get_users(payment_refunded.peer.user_id),
64 |             currency=payment_refunded.currency,
65 |             total_amount=payment_refunded.total_amount,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `str`, found `Unknown | int`
66 |             telegram_payment_charge_id=payment_refunded.charge.id
67 |             if payment_refunded.charge.id != ""
   |
info: Element `int` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/business/payment_refunded.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         *,
38 |         user: types.User,
39 |         currency: str,
40 |         total_amount: str,
   |         ----------------- Parameter declared here
41 |         telegram_payment_charge_id: str,
42 |         provider_payment_charge_id: str,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/business/payment_refunded.py:66:13
   |
64 |               currency=payment_refunded.currency,
65 |               total_amount=payment_refunded.total_amount,
66 | /             telegram_payment_charge_id=payment_refunded.charge.id
67 | |             if payment_refunded.charge.id != ""
68 | |             else None,
   | |_____________________^ Expected `str`, found `(Unknown & ~Literal[""]) | None`
69 |               provider_payment_charge_id=payment_refunded.charge.provider_charge_id
70 |               if payment_refunded.charge.provider_charge_id != ""
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/business/payment_refunded.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         *,
   |
  ::: pyrogram/types/business/payment_refunded.py:41:9
   |
39 |         currency: str,
40 |         total_amount: str,
41 |         telegram_payment_charge_id: str,
   |         ------------------------------- Parameter declared here
42 |         provider_payment_charge_id: str,
43 |         payload: str | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `PaymentCharge` in union `Unknown | PaymentCharge`
  --> pyrogram/types/business/payment_refunded.py:66:40
   |
64 |             currency=payment_refunded.currency,
65 |             total_amount=payment_refunded.total_amount,
66 |             telegram_payment_charge_id=payment_refunded.charge.id
   |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^
67 |             if payment_refunded.charge.id != ""
68 |             else None,
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `PaymentCharge` in union `Unknown | PaymentCharge`
  --> pyrogram/types/business/payment_refunded.py:67:16
   |
65 |             total_amount=payment_refunded.total_amount,
66 |             telegram_payment_charge_id=payment_refunded.charge.id
67 |             if payment_refunded.charge.id != ""
   |                ^^^^^^^^^^^^^^^^^^^^^^^^^^
68 |             else None,
69 |             provider_payment_charge_id=payment_refunded.charge.provider_charge_id
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/business/payment_refunded.py:69:13
   |
67 |               if payment_refunded.charge.id != ""
68 |               else None,
69 | /             provider_payment_charge_id=payment_refunded.charge.provider_charge_id
70 | |             if payment_refunded.charge.provider_charge_id != ""
71 | |             else None,
   | |_____________________^ Expected `str`, found `(Unknown & ~Literal[""]) | None`
72 |               payload=payload,
73 |           )
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/business/payment_refunded.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         *,
   |
  ::: pyrogram/types/business/payment_refunded.py:42:9
   |
40 |         total_amount: str,
41 |         telegram_payment_charge_id: str,
42 |         provider_payment_charge_id: str,
   |         ------------------------------- Parameter declared here
43 |         payload: str | None = None,
44 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `provider_charge_id` is not defined on `PaymentCharge` in union `Unknown | PaymentCharge`
  --> pyrogram/types/business/payment_refunded.py:69:40
   |
67 |             if payment_refunded.charge.id != ""
68 |             else None,
69 |             provider_payment_charge_id=payment_refunded.charge.provider_charge_id
   |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
70 |             if payment_refunded.charge.provider_charge_id != ""
71 |             else None,
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `provider_charge_id` is not defined on `PaymentCharge` in union `Unknown | PaymentCharge`
  --> pyrogram/types/business/payment_refunded.py:70:16
   |
68 |             else None,
69 |             provider_payment_charge_id=payment_refunded.charge.provider_charge_id
70 |             if payment_refunded.charge.provider_charge_id != ""
   |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
71 |             else None,
72 |             payload=payload,
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/business/payment_refunded.py:72:13
   |
70 |             if payment_refunded.charge.provider_charge_id != ""
71 |             else None,
72 |             payload=payload,
   |             ^^^^^^^^^^^^^^^ Expected `str | None`, found `Unknown | str | bytes | None`
73 |         )
   |
info: Element `bytes` of this union is not assignable to `str | None`
info: Method defined here
  --> pyrogram/types/business/payment_refunded.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         *,
   |
  ::: pyrogram/types/business/payment_refunded.py:43:9
   |
41 |         telegram_payment_charge_id: str,
42 |         provider_payment_charge_id: str,
43 |         payload: str | None = None,
   |         -------------------------- Parameter declared here
44 |     ) -> None:
45 |         self.user = user
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/business/pre_checkout_query.py:72:13
   |
70 |         return PreCheckoutQuery(
71 |             id=str(pre_checkout_query.query_id),
72 |             from_user=types.User._parse(client, users[pre_checkout_query.user_id]),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `User`, found `User | None`
73 |             currency=pre_checkout_query.currency,
74 |             total_amount=pre_checkout_query.total_amount,
   |
info: Element `None` of this union is not assignable to `User`
info: Method defined here
  --> pyrogram/types/business/pre_checkout_query.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         *,
38 |         client: pyrogram.Client  | None = None,
39 |         id: str,
40 |         from_user: types.User,
   |         --------------------- Parameter declared here
41 |         currency: str,
42 |         total_amount: int,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/business/shipping_option.py:37:17
   |
35 |                   id=shipping_option.id,
36 |                   title=shipping_option.title,
37 | /                 prices=[
38 | |                     types.LabeledPrice._parse(price)
39 | |                     for price in shipping_option.prices
40 | |                 ],
   | |_________________^ Expected `LabeledPrice`, found `list[Unknown]`
41 |               )
42 |           return None
   |
info: Method defined here
  --> pyrogram/types/business/shipping_option.py:22:9
   |
20 |     """
21 |
22 |     def __init__(self, id: str, title: str, prices: types.LabeledPrice) -> None:
   |         ^^^^^^^^                            -------------------------- Parameter declared here
23 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Class `LabeledPrice` has no attribute `_parse`
  --> pyrogram/types/business/shipping_option.py:38:21
   |
36 |                 title=shipping_option.title,
37 |                 prices=[
38 |                     types.LabeledPrice._parse(price)
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^
39 |                     for price in shipping_option.prices
40 |                 ],
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/types/business/shipping_option.py:42:16
   |
40 |                 ],
41 |             )
42 |         return None
   |                ^^^^ expected `ShippingOption`, found `None`
43 |
44 |     def write(self):
   |
  ::: pyrogram/types/business/shipping_option.py:32:10
   |
30 |     def _parse(
31 |         shipping_option: raw.types.ShippingOption,
32 |     ) -> ShippingOption:
   |          -------------- Expected `ShippingOption` because of return type
33 |         if isinstance(shipping_option, raw.types.ShippingOption):
34 |             return ShippingOption(
   |
info: rule `invalid-return-type` is enabled by default

error[not-iterable]: Object of type `Unknown | LabeledPrice` may not be iterable
  --> pyrogram/types/business/shipping_option.py:48:48
   |
46 |             id=self.id,
47 |             title=self.title,
48 |             prices=[price.write() for price in self.prices],
   |                                                ^^^^^^^^^^^
49 |         )
   |
info: It may not have an `__iter__` method or a `__getitem__` method
info: rule `not-iterable` is enabled by default

error[unresolved-attribute]: Module `pyrogram.raw.types` has no member `updateBotShippingQuery`
  --> pyrogram/types/business/shipping_query.py:46:25
   |
44 |     async def _parse(
45 |         client: pyrogram.Client,
46 |         shipping_query: raw.types.updateBotShippingQuery,
   |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
47 |         users: dict,
48 |     ) -> ShippingQuery:
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/business/shipping_query.py:56:13
   |
54 |         return ShippingQuery(
55 |             id=str(shipping_query.query_id),
56 |             from_user=types.User._parse(client, users[shipping_query.user_id]),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `User`, found `User | None`
57 |             invoice_payload=payload,
58 |             shipping_address=types.ShippingAddress(
   |
info: Element `None` of this union is not assignable to `User`
info: Method defined here
  --> pyrogram/types/business/shipping_query.py:27:9
   |
25 |     """
26 |
27 |     def __init__(
   |         ^^^^^^^^
28 |         self,
29 |         *,
30 |         client: pyrogram.Client  | None = None,
31 |         id: str,
32 |         from_user: types.User,
   |         --------------------- Parameter declared here
33 |         invoice_payload: str,
34 |         shipping_address: types.ShippingAddress  | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Module `pyrogram.types` has no member `ShippingOptions`
  --> pyrogram/types/business/shipping_query.py:72:27
   |
70 |         self,
71 |         ok: bool,
72 |         shipping_options: types.ShippingOptions = None,
   |                           ^^^^^^^^^^^^^^^^^^^^^
73 |         error_message: str | None = None,
74 |     ):
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Module `pyrogram.raw.types` has no member `StarsStatus`
  --> pyrogram/types/business/stars_status.py:25:38
   |
24 |     @staticmethod
25 |     def _parse(client, stars_status: raw.types.StarsStatus) -> StarsStatus:
   |                                      ^^^^^^^^^^^^^^^^^^^^^
26 |         users = {user.id: user for user in stars_status.users}
27 |         return StarsStatus(
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `peer` is not defined on `StarsTransactionPeer` in union `Unknown | StarsTransactionPeer`
  --> pyrogram/types/business/stars_transaction.py:95:41
   |
93 |         users: dict,
94 |     ) -> StarsTransaction:
95 |         chat_id = utils.get_raw_peer_id(transaction.peer.peer)
   |                                         ^^^^^^^^^^^^^^^^^^^^^
96 |         chat = types.User._parse(client, users.get(chat_id))
97 |         try:
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/types/business/stars_transaction.py:96:42
   |
94 |     ) -> StarsTransaction:
95 |         chat_id = utils.get_raw_peer_id(transaction.peer.peer)
96 |         chat = types.User._parse(client, users.get(chat_id))
   |                                          ^^^^^^^^^^^^^^^^^^ Expected `User`, found `Unknown | None`
97 |         try:
98 |             payload = transaction.bot_payload.decode()
   |
info: Element `None` of this union is not assignable to `User`
info: Function defined here
   --> pyrogram/types/user_and_chats/user.py:278:9
    |
277 |     @staticmethod
278 |     def _parse(client, user: raw.base.User) -> User | None:
    |         ^^^^^^         ------------------- Parameter declared here
279 |         if user is None or isinstance(user, raw.types.UserEmpty):
280 |             return None
    |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `decode` is not defined on `None` in union `Unknown | bytes | None`
   --> pyrogram/types/business/stars_transaction.py:98:23
    |
 96 |         chat = types.User._parse(client, users.get(chat_id))
 97 |         try:
 98 |             payload = transaction.bot_payload.decode()
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
 99 |         except (UnicodeDecodeError, AttributeError):
100 |             payload = transaction.bot_payload
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/business/stars_transaction.py:102:13
    |
100 |             payload = transaction.bot_payload
101 |         return StarsTransaction(
102 |             id=transaction.id,
    |             ^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | str`
103 |             stars=transaction.stars,
104 |             date=utils.timestamp_to_datetime(transaction.date),
    |
info: Element `str` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/types/business/stars_transaction.py:56:9
   |
54 |     """  # TODO photo, extended_media
55 |
56 |     def __init__(
   |         ^^^^^^^^
57 |         self,
58 |         *,
59 |         id: int,
   |         ------- Parameter declared here
60 |         stars: int,
61 |         date: datetime,
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `StarsTransaction` has no attribute `stars`
   --> pyrogram/types/business/stars_transaction.py:103:19
    |
101 |         return StarsTransaction(
102 |             id=transaction.id,
103 |             stars=transaction.stars,
    |                   ^^^^^^^^^^^^^^^^^
104 |             date=utils.timestamp_to_datetime(transaction.date),
105 |             chat=chat,
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/business/stars_transaction.py:104:13
    |
102 |             id=transaction.id,
103 |             stars=transaction.stars,
104 |             date=utils.timestamp_to_datetime(transaction.date),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `datetime`, found `datetime | None`
105 |             chat=chat,
106 |             is_refund=transaction.refund,
    |
info: Element `None` of this union is not assignable to `datetime`
info: Method defined here
  --> pyrogram/types/business/stars_transaction.py:56:9
   |
54 |     """  # TODO photo, extended_media
55 |
56 |     def __init__(
   |         ^^^^^^^^
57 |         self,
58 |         *,
59 |         id: int,
60 |         stars: int,
61 |         date: datetime,
   |         -------------- Parameter declared here
62 |         chat: types.Chat,
63 |         is_refund: bool | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/business/stars_transaction.py:105:13
    |
103 |             stars=transaction.stars,
104 |             date=utils.timestamp_to_datetime(transaction.date),
105 |             chat=chat,
    |             ^^^^^^^^^ Expected `Chat`, found `User | None`
106 |             is_refund=transaction.refund,
107 |             is_pending=transaction.pending,
    |
info: Method defined here
  --> pyrogram/types/business/stars_transaction.py:56:9
   |
54 |     """  # TODO photo, extended_media
55 |
56 |     def __init__(
   |         ^^^^^^^^
57 |         self,
58 |         *,
   |
  ::: pyrogram/types/business/stars_transaction.py:62:9
   |
60 |         stars: int,
61 |         date: datetime,
62 |         chat: types.Chat,
   |         ---------------- Parameter declared here
63 |         is_refund: bool | None = None,
64 |         is_pending: bool | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/business/stars_transaction.py:115:13
    |
113 |             ),
114 |             transaction_url=transaction.transaction_url,
115 |             payload=payload,
    |             ^^^^^^^^^^^^^^^ Expected `str | None`, found `Unknown | str | bytes | None`
116 |             message_id=transaction.msg_id,
117 |         )
    |
info: Element `bytes` of this union is not assignable to `str | None`
info: Method defined here
  --> pyrogram/types/business/stars_transaction.py:56:9
   |
54 |     """  # TODO photo, extended_media
55 |
56 |     def __init__(
   |         ^^^^^^^^
57 |         self,
58 |         *,
   |
  ::: pyrogram/types/business/stars_transaction.py:70:9
   |
68 |         transaction_date: datetime | None = None,
69 |         transaction_url: str | None = None,
70 |         payload: str | None = None,
   |         -------------------------- Parameter declared here
71 |         message_id: int | None = None,
72 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/business/successful_payment.py:96:13
   |
94 |             currency=successful_payment.currency,
95 |             total_amount=successful_payment.total_amount,
96 |             payload=payload,
   |             ^^^^^^^^^^^^^^^ Expected `str`, found `None | Unknown`
97 |             telegram_payment_charge_id=telegram_payment_charge_id,
98 |             provider_payment_charge_id=provider_payment_charge_id,
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/business/successful_payment.py:34:9
   |
32 |     """
33 |
34 |     def __init__(
   |         ^^^^^^^^
35 |         self,
36 |         *,
37 |         currency: str,
38 |         total_amount: str,
39 |         payload: str,
   |         ------------ Parameter declared here
40 |         telegram_payment_charge_id: str,
41 |         provider_payment_charge_id: str,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/business/successful_payment.py:97:13
   |
95 |             total_amount=successful_payment.total_amount,
96 |             payload=payload,
97 |             telegram_payment_charge_id=telegram_payment_charge_id,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `str`, found `None | Unknown`
98 |             provider_payment_charge_id=provider_payment_charge_id,
99 |             shipping_option_id=shipping_option_id,
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/business/successful_payment.py:34:9
   |
32 |     """
33 |
34 |     def __init__(
   |         ^^^^^^^^
35 |         self,
36 |         *,
   |
  ::: pyrogram/types/business/successful_payment.py:40:9
   |
38 |         total_amount: str,
39 |         payload: str,
40 |         telegram_payment_charge_id: str,
   |         ------------------------------- Parameter declared here
41 |         provider_payment_charge_id: str,
42 |         shipping_option_id: str | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/business/successful_payment.py:98:13
    |
 96 |             payload=payload,
 97 |             telegram_payment_charge_id=telegram_payment_charge_id,
 98 |             provider_payment_charge_id=provider_payment_charge_id,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `str`, found `None | Unknown`
 99 |             shipping_option_id=shipping_option_id,
100 |             payment_info=payment_info,
    |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/business/successful_payment.py:34:9
   |
32 |     """
33 |
34 |     def __init__(
   |         ^^^^^^^^
35 |         self,
36 |         *,
   |
  ::: pyrogram/types/business/successful_payment.py:41:9
   |
39 |         payload: str,
40 |         telegram_payment_charge_id: str,
41 |         provider_payment_charge_id: str,
   |         ------------------------------- Parameter declared here
42 |         shipping_option_id: str | None = None,
43 |         payment_info: types.PaymentInfo  | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/business/suggested_post.py:48:13
   |
46 |             accepted=self.is_accepted or None,
47 |             rejected=self.is_rejected or None,
48 |             price=await self.price.write() if self.price else None,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `StarsAmount`, found `Unknown | StarsAmount | None`
49 |             schedule_date=utils.datetime_to_timestamp(self.schedule_date),
50 |         )
   |
info: Element `None` of this union is not assignable to `StarsAmount`
info: Method defined here
  --> pyrogram/raw/types/suggested_post.py:44:9
   |
42 | … QUALNAME = "types.SuggestedPost"
43 | …
44 | … def __init__(self, *, accepted: Optional[bool] = None, rejected: Optional[bool] = None, price: "raw.base.StarsAmount" = None, schedu…
   |       ^^^^^^^^                                                                            ------------------------------------ Parameter declared here
45 | …     self.accepted = accepted  # flags.1?true
46 | …     self.rejected = rejected  # flags.2?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/types/business/suggested_post.py:60:44
   |
58 |             is_accepted=suggested_post.accepted,
59 |             is_rejected=suggested_post.rejected,
60 |             price=types.StarsAmount._parse(suggested_post.price),
   |                                            ^^^^^^^^^^^^^^^^^^^^ Expected `pyrogram.raw.types.stars_amount.StarsAmount | StarsTonAmount`, found `Unknown | pyrogram.raw.base.stars_amount.StarsAmount`
61 |             schedule_date=utils.timestamp_to_datetime(suggested_post.schedule_date),
62 |         )
   |
info: Element `StarsAmount` of this union is not assignable to `pyrogram.raw.types.stars_amount.StarsAmount | StarsTonAmount`
info: Function defined here
  --> pyrogram/types/business/stars_amount.py:35:9
   |
34 |     @staticmethod
35 |     def _parse(
   |         ^^^^^^
36 |         stars_amount: raw.types.StarsAmount | raw.types.StarsTonAmount,
   |         -------------------------------------------------------------- Parameter declared here
37 |     ) -> StarsAmount | None:
38 |         if not stars_amount:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/chosen_inline_result.py:85:13
   |
83 |         return ChosenInlineResult(
84 |             result_id=str(chosen_inline_result.id),
85 |             from_user=types.User._parse(client, users[chosen_inline_result.user_id]),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `User`, found `User | None`
86 |             query=chosen_inline_result.query,
87 |             location=types.Location(
   |
info: Element `None` of this union is not assignable to `User`
info: Method defined here
  --> pyrogram/types/inline_mode/chosen_inline_result.py:39:9
   |
37 |     """
38 |
39 |     def __init__(
   |         ^^^^^^^^
40 |         self,
41 |         *,
42 |         client: pyrogram.Client  | None = None,
43 |         result_id: str,
44 |         from_user: types.User,
   |         --------------------- Parameter declared here
45 |         query: str,
46 |         location: types.Location  | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `long` is not defined on `GeoPoint & ~AlwaysFalsy` in union `(Unknown & ~AlwaysFalsy) | (GeoPoint & ~AlwaysFalsy)`
  --> pyrogram/types/inline_mode/chosen_inline_result.py:88:27
   |
86 |             query=chosen_inline_result.query,
87 |             location=types.Location(
88 |                 longitude=chosen_inline_result.geo.long,
   |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
89 |                 latitude=chosen_inline_result.geo.lat,
90 |                 client=client,
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `lat` is not defined on `GeoPoint & ~AlwaysFalsy` in union `(Unknown & ~AlwaysFalsy) | (GeoPoint & ~AlwaysFalsy)`
  --> pyrogram/types/inline_mode/chosen_inline_result.py:89:26
   |
87 |             location=types.Location(
88 |                 longitude=chosen_inline_result.geo.long,
89 |                 latitude=chosen_inline_result.geo.lat,
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
90 |                 client=client,
91 |             )
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query.py:87:13
   |
85 |         return InlineQuery(
86 |             id=str(inline_query.query_id),
87 |             from_user=types.User._parse(client, users[inline_query.user_id]),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `User`, found `User | None`
88 |             query=inline_query.query,
89 |             offset=inline_query.offset,
   |
info: Element `None` of this union is not assignable to `User`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query.py:43:9
   |
41 |     """
42 |
43 |     def __init__(
   |         ^^^^^^^^
44 |         self,
45 |         *,
46 |         client: pyrogram.Client  | None = None,
47 |         id: str,
48 |         from_user: types.User,
   |         --------------------- Parameter declared here
49 |         query: str,
50 |         offset: str,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query.py:90:13
   |
88 |             query=inline_query.query,
89 |             offset=inline_query.offset,
90 |             chat_type=chat_type,
   |             ^^^^^^^^^^^^^^^^^^^ Expected `ChatType`, found `None | ChatType`
91 |             location=types.Location(
92 |                 longitude=inline_query.geo.long,
   |
info: Element `None` of this union is not assignable to `ChatType`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query.py:43:9
   |
41 |     """
42 |
43 |     def __init__(
   |         ^^^^^^^^
44 |         self,
45 |         *,
   |
  ::: pyrogram/types/inline_mode/inline_query.py:51:9
   |
49 |         query: str,
50 |         offset: str,
51 |         chat_type: enums.ChatType,
   |         ------------------------- Parameter declared here
52 |         location: types.Location  | None = None,
53 |         matches: list[Match] | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `long` is not defined on `GeoPoint & ~AlwaysFalsy` in union `(Unknown & ~AlwaysFalsy) | (GeoPoint & ~AlwaysFalsy)`
  --> pyrogram/types/inline_mode/inline_query.py:92:27
   |
90 |             chat_type=chat_type,
91 |             location=types.Location(
92 |                 longitude=inline_query.geo.long,
   |                           ^^^^^^^^^^^^^^^^^^^^^
93 |                 latitude=inline_query.geo.lat,
94 |                 client=client,
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `lat` is not defined on `GeoPoint & ~AlwaysFalsy` in union `(Unknown & ~AlwaysFalsy) | (GeoPoint & ~AlwaysFalsy)`
  --> pyrogram/types/inline_mode/inline_query.py:93:26
   |
91 |             location=types.Location(
92 |                 longitude=inline_query.geo.long,
93 |                 latitude=inline_query.geo.lat,
   |                          ^^^^^^^^^^^^^^^^^^^^
94 |                 client=client,
95 |             )
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_animation.py:79:33
   |
77 |         input_message_content: types.InputMessageContent  | None = None,
78 |     ) -> None:
79 |         super().__init__("gif", id, input_message_content, reply_markup)
   |                                 ^^ Expected `str`, found `str | None`
80 |
81 |         self.animation_url = animation_url
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
   |         ------- Parameter declared here
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_animation.py:79:37
   |
77 |         input_message_content: types.InputMessageContent  | None = None,
78 |     ) -> None:
79 |         super().__init__("gif", id, input_message_content, reply_markup)
   |                                     ^^^^^^^^^^^^^^^^^^^^^ Expected `InputMessageContent`, found `InputMessageContent | None`
80 |
81 |         self.animation_url = animation_url
   |
info: Element `None` of this union is not assignable to `InputMessageContent`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
   |         ------------------------------------------------ Parameter declared here
40 |         reply_markup: types.InlineKeyboardMarkup,
41 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_animation.py:79:60
   |
77 |         input_message_content: types.InputMessageContent  | None = None,
78 |     ) -> None:
79 |         super().__init__("gif", id, input_message_content, reply_markup)
   |                                                            ^^^^^^^^^^^^ Expected `InlineKeyboardMarkup`, found `InlineKeyboardMarkup | None`
80 |
81 |         self.animation_url = animation_url
   |
info: Element `None` of this union is not assignable to `InlineKeyboardMarkup`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |         ---------------------------------------- Parameter declared here
41 |     ) -> None:
42 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/inline_mode/inline_query_result_animation.py:138:21
    |
136 |                   if self.input_message_content
137 |                   else raw.types.InputBotInlineMessageMediaAuto(
138 | /                     reply_markup=await self.reply_markup.write(client)
139 | |                     if self.reply_markup
140 | |                     else None,
    | |_____________________________^ Expected `ReplyMarkup`, found `Unknown | None`
141 |                       message=message,
142 |                       entities=entities,
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_message_media_auto.py:44:9
   |
42 | … QUALNAME = "types.InputBotInlineMessageMediaAuto"
43 | …
44 | … def __init__(self, *, message: str, invert_media: Optional[bool] = None, entities: Optional[List["raw.base.MessageEntity"]] = None, reply_markup: "raw.base.ReplyMarkup" = None) -> …
   |       ^^^^^^^^                                                                                                                        ------------------------------------------- Parameter declared here
45 | …     self.message = message  # string
46 | …     self.invert_media = invert_media  # flags.3?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_article.py:54:37
   |
52 |         thumb_height: int = 0,
53 |     ) -> None:
54 |         super().__init__("article", id, input_message_content, reply_markup)
   |                                     ^^ Expected `str`, found `str | None`
55 |
56 |         self.title = title
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
   |         ------- Parameter declared here
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_article.py:54:64
   |
52 |         thumb_height: int = 0,
53 |     ) -> None:
54 |         super().__init__("article", id, input_message_content, reply_markup)
   |                                                                ^^^^^^^^^^^^ Expected `InlineKeyboardMarkup`, found `InlineKeyboardMarkup | None`
55 |
56 |         self.title = title
   |
info: Element `None` of this union is not assignable to `InlineKeyboardMarkup`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |         ---------------------------------------- Parameter declared here
41 |     ) -> None:
42 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_article.py:74:13
   |
72 |               description=self.description,
73 |               url=self.url,
74 | /             thumb=raw.types.InputWebDocument(
75 | |                 url=self.thumb_url,
76 | |                 size=0,
77 | |                 mime_type="image/jpeg",
78 | |                 attributes=[
79 | |                     raw.types.DocumentAttributeImageSize(
80 | |                         w=self.thumb_width,
81 | |                         h=self.thumb_height,
82 | |                     ),
83 | |                 ],
84 | |             )
85 | |             if self.thumb_url
86 | |             else None,
   | |_____________________^ Expected `pyrogram.raw.base.input_web_document.InputWebDocument`, found `pyrogram.raw.types.input_web_document.InputWebDocument | None`
87 |           )
   |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.input_web_document.InputWebDocument`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_result.py:56:9
   |
54 | … QUALNAME = "types.InputBotInlineResult"
55 | …
56 | … def __init__(self, *, id: str, type: str, send_message: "raw.base.InputBotInlineMessage", title: Optional[str] = None, description: Optional[str] = None, url: Optional[str] = None, thumb: "raw.base.InputWebDocument" = None, con…
   |       ^^^^^^^^                                                                                                                                                                         ----------------------------------------- Parameter declared here
57 | …     self.id = id  # string
58 | …     self.type = type  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_audio.py:71:35
   |
69 |         thumb_url: str | None = None,
70 |     ) -> None:
71 |         super().__init__("audio", id, input_message_content, reply_markup)
   |                                   ^^ Expected `str`, found `str | None`
72 |
73 |         self.audio_url = audio_url
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
   |         ------- Parameter declared here
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_audio.py:71:39
   |
69 |         thumb_url: str | None = None,
70 |     ) -> None:
71 |         super().__init__("audio", id, input_message_content, reply_markup)
   |                                       ^^^^^^^^^^^^^^^^^^^^^ Expected `InputMessageContent`, found `InputMessageContent | None`
72 |
73 |         self.audio_url = audio_url
   |
info: Element `None` of this union is not assignable to `InputMessageContent`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
   |         ------------------------------------------------ Parameter declared here
40 |         reply_markup: types.InlineKeyboardMarkup,
41 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_audio.py:71:62
   |
69 |         thumb_url: str | None = None,
70 |     ) -> None:
71 |         super().__init__("audio", id, input_message_content, reply_markup)
   |                                                              ^^^^^^^^^^^^ Expected `InlineKeyboardMarkup`, found `InlineKeyboardMarkup | None`
72 |
73 |         self.audio_url = audio_url
   |
info: Element `None` of this union is not assignable to `InlineKeyboardMarkup`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |         ---------------------------------------- Parameter declared here
41 |     ) -> None:
42 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/inline_mode/inline_query_result_audio.py:112:13
    |
110 |               content=audio,
111 |               description=self.description,
112 | /             thumb=raw.types.InputWebDocument(
113 | |                 url=self.thumb_url,
114 | |                 size=0,
115 | |                 mime_type="image/jpeg",
116 | |                 attributes=[],
117 | |             )
118 | |             if self.thumb_url
119 | |             else None,
    | |_____________________^ Expected `pyrogram.raw.base.input_web_document.InputWebDocument`, found `pyrogram.raw.types.input_web_document.InputWebDocument | None`
120 |               send_message=(
121 |                   await self.input_message_content.write(client, self.reply_markup)
    |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.input_web_document.InputWebDocument`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_result.py:56:9
   |
54 | … QUALNAME = "types.InputBotInlineResult"
55 | …
56 | … def __init__(self, *, id: str, type: str, send_message: "raw.base.InputBotInlineMessage", title: Optional[str] = None, description: Optional[str] = None, url: Optional[str] = None, thumb: "raw.base.InputWebDocument" = None, con…
   |       ^^^^^^^^                                                                                                                                                                         ----------------------------------------- Parameter declared here
57 | …     self.id = id  # string
58 | …     self.type = type  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/inline_mode/inline_query_result_audio.py:124:21
    |
122 |                   if self.input_message_content
123 |                   else raw.types.InputBotInlineMessageMediaAuto(
124 | /                     reply_markup=await self.reply_markup.write(client)
125 | |                     if self.reply_markup
126 | |                     else None,
    | |_____________________________^ Expected `ReplyMarkup`, found `Unknown | None`
127 |                       message=message,
128 |                       entities=entities,
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_message_media_auto.py:44:9
   |
42 | … QUALNAME = "types.InputBotInlineMessageMediaAuto"
43 | …
44 | … def __init__(self, *, message: str, invert_media: Optional[bool] = None, entities: Optional[List["raw.base.MessageEntity"]] = None, reply_markup: "raw.base.ReplyMarkup" = None) -> …
   |       ^^^^^^^^                                                                                                                        ------------------------------------------- Parameter declared here
45 | …     self.message = message  # string
46 | …     self.invert_media = invert_media  # flags.3?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_cached_animation.py:56:33
   |
54 |         input_message_content: types.InputMessageContent  | None = None,
55 |     ) -> None:
56 |         super().__init__("gif", id, input_message_content, reply_markup)
   |                                 ^^ Expected `str`, found `str | None`
57 |
58 |         self.animation_file_id = animation_file_id
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
   |         ------- Parameter declared here
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_cached_animation.py:56:37
   |
54 |         input_message_content: types.InputMessageContent  | None = None,
55 |     ) -> None:
56 |         super().__init__("gif", id, input_message_content, reply_markup)
   |                                     ^^^^^^^^^^^^^^^^^^^^^ Expected `InputMessageContent`, found `InputMessageContent | None`
57 |
58 |         self.animation_file_id = animation_file_id
   |
info: Element `None` of this union is not assignable to `InputMessageContent`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
   |         ------------------------------------------------ Parameter declared here
40 |         reply_markup: types.InlineKeyboardMarkup,
41 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_cached_animation.py:56:60
   |
54 |         input_message_content: types.InputMessageContent  | None = None,
55 |     ) -> None:
56 |         super().__init__("gif", id, input_message_content, reply_markup)
   |                                                            ^^^^^^^^^^^^ Expected `InlineKeyboardMarkup`, found `InlineKeyboardMarkup | None`
57 |
58 |         self.animation_file_id = animation_file_id
   |
info: Element `None` of this union is not assignable to `InlineKeyboardMarkup`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |         ---------------------------------------- Parameter declared here
41 |     ) -> None:
42 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_cached_animation.py:91:21
   |
89 |                   if self.input_message_content
90 |                   else raw.types.InputBotInlineMessageMediaAuto(
91 | /                     reply_markup=await self.reply_markup.write(client)
92 | |                     if self.reply_markup
93 | |                     else None,
   | |_____________________________^ Expected `ReplyMarkup`, found `Unknown | None`
94 |                       message=message,
95 |                       entities=entities,
   |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_message_media_auto.py:44:9
   |
42 | … QUALNAME = "types.InputBotInlineMessageMediaAuto"
43 | …
44 | … def __init__(self, *, message: str, invert_media: Optional[bool] = None, entities: Optional[List["raw.base.MessageEntity"]] = None, reply_markup: "raw.base.ReplyMarkup" = None) -> …
   |       ^^^^^^^^                                                                                                                        ------------------------------------------- Parameter declared here
45 | …     self.message = message  # string
46 | …     self.invert_media = invert_media  # flags.3?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_cached_audio.py:51:35
   |
49 |         input_message_content: types.InputMessageContent  | None = None,
50 |     ) -> None:
51 |         super().__init__("audio", id, input_message_content, reply_markup)
   |                                   ^^ Expected `str`, found `str | None`
52 |
53 |         self.audio_file_id = audio_file_id
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
   |         ------- Parameter declared here
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_cached_audio.py:51:39
   |
49 |         input_message_content: types.InputMessageContent  | None = None,
50 |     ) -> None:
51 |         super().__init__("audio", id, input_message_content, reply_markup)
   |                                       ^^^^^^^^^^^^^^^^^^^^^ Expected `InputMessageContent`, found `InputMessageContent | None`
52 |
53 |         self.audio_file_id = audio_file_id
   |
info: Element `None` of this union is not assignable to `InputMessageContent`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
   |         ------------------------------------------------ Parameter declared here
40 |         reply_markup: types.InlineKeyboardMarkup,
41 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_cached_audio.py:51:62
   |
49 |         input_message_content: types.InputMessageContent  | None = None,
50 |     ) -> None:
51 |         super().__init__("audio", id, input_message_content, reply_markup)
   |                                                              ^^^^^^^^^^^^ Expected `InlineKeyboardMarkup`, found `InlineKeyboardMarkup | None`
52 |
53 |         self.audio_file_id = audio_file_id
   |
info: Element `None` of this union is not assignable to `InlineKeyboardMarkup`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |         ---------------------------------------- Parameter declared here
41 |     ) -> None:
42 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_cached_audio.py:84:21
   |
82 |                   if self.input_message_content
83 |                   else raw.types.InputBotInlineMessageMediaAuto(
84 | /                     reply_markup=await self.reply_markup.write(client)
85 | |                     if self.reply_markup
86 | |                     else None,
   | |_____________________________^ Expected `ReplyMarkup`, found `Unknown | None`
87 |                       message=message,
88 |                       entities=entities,
   |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_message_media_auto.py:44:9
   |
42 | … QUALNAME = "types.InputBotInlineMessageMediaAuto"
43 | …
44 | … def __init__(self, *, message: str, invert_media: Optional[bool] = None, entities: Optional[List["raw.base.MessageEntity"]] = None, reply_markup: "raw.base.ReplyMarkup" = None) -> …
   |       ^^^^^^^^                                                                                                                        ------------------------------------------- Parameter declared here
45 | …     self.message = message  # string
46 | …     self.invert_media = invert_media  # flags.3?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_cached_document.py:59:34
   |
57 |         input_message_content: types.InputMessageContent  | None = None,
58 |     ) -> None:
59 |         super().__init__("file", id, input_message_content, reply_markup)
   |                                  ^^ Expected `str`, found `str | None`
60 |
61 |         self.document_file_id = document_file_id
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
   |         ------- Parameter declared here
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_cached_document.py:59:38
   |
57 |         input_message_content: types.InputMessageContent  | None = None,
58 |     ) -> None:
59 |         super().__init__("file", id, input_message_content, reply_markup)
   |                                      ^^^^^^^^^^^^^^^^^^^^^ Expected `InputMessageContent`, found `InputMessageContent | None`
60 |
61 |         self.document_file_id = document_file_id
   |
info: Element `None` of this union is not assignable to `InputMessageContent`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
   |         ------------------------------------------------ Parameter declared here
40 |         reply_markup: types.InlineKeyboardMarkup,
41 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_cached_document.py:59:61
   |
57 |         input_message_content: types.InputMessageContent  | None = None,
58 |     ) -> None:
59 |         super().__init__("file", id, input_message_content, reply_markup)
   |                                                             ^^^^^^^^^^^^ Expected `InlineKeyboardMarkup`, found `InlineKeyboardMarkup | None`
60 |
61 |         self.document_file_id = document_file_id
   |
info: Element `None` of this union is not assignable to `InlineKeyboardMarkup`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |         ---------------------------------------- Parameter declared here
41 |     ) -> None:
42 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/inline_mode/inline_query_result_cached_document.py:96:21
    |
 94 |                   if self.input_message_content
 95 |                   else raw.types.InputBotInlineMessageMediaAuto(
 96 | /                     reply_markup=await self.reply_markup.write(client)
 97 | |                     if self.reply_markup
 98 | |                     else None,
    | |_____________________________^ Expected `ReplyMarkup`, found `Unknown | None`
 99 |                       message=message,
100 |                       entities=entities,
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_message_media_auto.py:44:9
   |
42 | … QUALNAME = "types.InputBotInlineMessageMediaAuto"
43 | …
44 | … def __init__(self, *, message: str, invert_media: Optional[bool] = None, entities: Optional[List["raw.base.MessageEntity"]] = None, reply_markup: "raw.base.ReplyMarkup" = None) -> …
   |       ^^^^^^^^                                                                                                                        ------------------------------------------- Parameter declared here
45 | …     self.message = message  # string
46 | …     self.invert_media = invert_media  # flags.3?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_cached_photo.py:59:35
   |
57 |         input_message_content: types.InputMessageContent  | None = None,
58 |     ) -> None:
59 |         super().__init__("photo", id, input_message_content, reply_markup)
   |                                   ^^ Expected `str`, found `str | None`
60 |
61 |         self.photo_file_id = photo_file_id
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
   |         ------- Parameter declared here
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_cached_photo.py:59:39
   |
57 |         input_message_content: types.InputMessageContent  | None = None,
58 |     ) -> None:
59 |         super().__init__("photo", id, input_message_content, reply_markup)
   |                                       ^^^^^^^^^^^^^^^^^^^^^ Expected `InputMessageContent`, found `InputMessageContent | None`
60 |
61 |         self.photo_file_id = photo_file_id
   |
info: Element `None` of this union is not assignable to `InputMessageContent`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
   |         ------------------------------------------------ Parameter declared here
40 |         reply_markup: types.InlineKeyboardMarkup,
41 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_cached_photo.py:59:62
   |
57 |         input_message_content: types.InputMessageContent  | None = None,
58 |     ) -> None:
59 |         super().__init__("photo", id, input_message_content, reply_markup)
   |                                                              ^^^^^^^^^^^^ Expected `InlineKeyboardMarkup`, found `InlineKeyboardMarkup | None`
60 |
61 |         self.photo_file_id = photo_file_id
   |
info: Element `None` of this union is not assignable to `InlineKeyboardMarkup`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |         ---------------------------------------- Parameter declared here
41 |     ) -> None:
42 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_cached_photo.py:94:21
   |
92 |                   if self.input_message_content
93 |                   else raw.types.InputBotInlineMessageMediaAuto(
94 | /                     reply_markup=await self.reply_markup.write(client)
95 | |                     if self.reply_markup
96 | |                     else None,
   | |_____________________________^ Expected `ReplyMarkup`, found `Unknown | None`
97 |                       message=message,
98 |                       entities=entities,
   |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_message_media_auto.py:44:9
   |
42 | … QUALNAME = "types.InputBotInlineMessageMediaAuto"
43 | …
44 | … def __init__(self, *, message: str, invert_media: Optional[bool] = None, entities: Optional[List["raw.base.MessageEntity"]] = None, reply_markup: "raw.base.ReplyMarkup" = None) -> …
   |       ^^^^^^^^                                                                                                                        ------------------------------------------- Parameter declared here
45 | …     self.message = message  # string
46 | …     self.invert_media = invert_media  # flags.3?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_cached_sticker.py:38:37
   |
36 |         input_message_content: types.InputMessageContent  | None = None,
37 |     ) -> None:
38 |         super().__init__("sticker", id, input_message_content, reply_markup)
   |                                     ^^ Expected `str`, found `str | None`
39 |
40 |         self.sticker_file_id = sticker_file_id
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
   |         ------- Parameter declared here
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_cached_sticker.py:38:41
   |
36 |         input_message_content: types.InputMessageContent  | None = None,
37 |     ) -> None:
38 |         super().__init__("sticker", id, input_message_content, reply_markup)
   |                                         ^^^^^^^^^^^^^^^^^^^^^ Expected `InputMessageContent`, found `InputMessageContent | None`
39 |
40 |         self.sticker_file_id = sticker_file_id
   |
info: Element `None` of this union is not assignable to `InputMessageContent`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
   |         ------------------------------------------------ Parameter declared here
40 |         reply_markup: types.InlineKeyboardMarkup,
41 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_cached_sticker.py:38:64
   |
36 |         input_message_content: types.InputMessageContent  | None = None,
37 |     ) -> None:
38 |         super().__init__("sticker", id, input_message_content, reply_markup)
   |                                                                ^^^^^^^^^^^^ Expected `InlineKeyboardMarkup`, found `InlineKeyboardMarkup | None`
39 |
40 |         self.sticker_file_id = sticker_file_id
   |
info: Element `None` of this union is not assignable to `InlineKeyboardMarkup`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |         ---------------------------------------- Parameter declared here
41 |     ) -> None:
42 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_cached_sticker.py:59:21
   |
57 |                   if self.input_message_content
58 |                   else raw.types.InputBotInlineMessageMediaAuto(
59 | /                     reply_markup=await self.reply_markup.write(client)
60 | |                     if self.reply_markup
61 | |                     else None,
   | |_____________________________^ Expected `ReplyMarkup`, found `Unknown | None`
62 |                       message="",
63 |                   )
   |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_message_media_auto.py:44:9
   |
42 | … QUALNAME = "types.InputBotInlineMessageMediaAuto"
43 | …
44 | … def __init__(self, *, message: str, invert_media: Optional[bool] = None, entities: Optional[List["raw.base.MessageEntity"]] = None, reply_markup: "raw.base.ReplyMarkup" = None) -> …
   |       ^^^^^^^^                                                                                                                        ------------------------------------------- Parameter declared here
45 | …     self.message = message  # string
46 | …     self.invert_media = invert_media  # flags.3?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_cached_video.py:60:35
   |
58 |         input_message_content: types.InputMessageContent  | None = None,
59 |     ) -> None:
60 |         super().__init__("video", id, input_message_content, reply_markup)
   |                                   ^^ Expected `str`, found `str | None`
61 |
62 |         self.video_file_id = video_file_id
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
   |         ------- Parameter declared here
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_cached_video.py:60:39
   |
58 |         input_message_content: types.InputMessageContent  | None = None,
59 |     ) -> None:
60 |         super().__init__("video", id, input_message_content, reply_markup)
   |                                       ^^^^^^^^^^^^^^^^^^^^^ Expected `InputMessageContent`, found `InputMessageContent | None`
61 |
62 |         self.video_file_id = video_file_id
   |
info: Element `None` of this union is not assignable to `InputMessageContent`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
   |         ------------------------------------------------ Parameter declared here
40 |         reply_markup: types.InlineKeyboardMarkup,
41 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_cached_video.py:60:62
   |
58 |         input_message_content: types.InputMessageContent  | None = None,
59 |     ) -> None:
60 |         super().__init__("video", id, input_message_content, reply_markup)
   |                                                              ^^^^^^^^^^^^ Expected `InlineKeyboardMarkup`, found `InlineKeyboardMarkup | None`
61 |
62 |         self.video_file_id = video_file_id
   |
info: Element `None` of this union is not assignable to `InlineKeyboardMarkup`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |         ---------------------------------------- Parameter declared here
41 |     ) -> None:
42 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/inline_mode/inline_query_result_cached_video.py:97:21
    |
 95 |                   if self.input_message_content
 96 |                   else raw.types.InputBotInlineMessageMediaAuto(
 97 | /                     reply_markup=await self.reply_markup.write(client)
 98 | |                     if self.reply_markup
 99 | |                     else None,
    | |_____________________________^ Expected `ReplyMarkup`, found `Unknown | None`
100 |                       message=message,
101 |                       entities=entities,
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_message_media_auto.py:44:9
   |
42 | … QUALNAME = "types.InputBotInlineMessageMediaAuto"
43 | …
44 | … def __init__(self, *, message: str, invert_media: Optional[bool] = None, entities: Optional[List["raw.base.MessageEntity"]] = None, reply_markup: "raw.base.ReplyMarkup" = None) -> …
   |       ^^^^^^^^                                                                                                                        ------------------------------------------- Parameter declared here
45 | …     self.message = message  # string
46 | …     self.invert_media = invert_media  # flags.3?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_cached_voice.py:56:35
   |
54 |         input_message_content: types.InputMessageContent  | None = None,
55 |     ) -> None:
56 |         super().__init__("voice", id, input_message_content, reply_markup)
   |                                   ^^ Expected `str`, found `str | None`
57 |
58 |         self.voice_file_id = voice_file_id
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
   |         ------- Parameter declared here
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_cached_voice.py:56:39
   |
54 |         input_message_content: types.InputMessageContent  | None = None,
55 |     ) -> None:
56 |         super().__init__("voice", id, input_message_content, reply_markup)
   |                                       ^^^^^^^^^^^^^^^^^^^^^ Expected `InputMessageContent`, found `InputMessageContent | None`
57 |
58 |         self.voice_file_id = voice_file_id
   |
info: Element `None` of this union is not assignable to `InputMessageContent`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
   |         ------------------------------------------------ Parameter declared here
40 |         reply_markup: types.InlineKeyboardMarkup,
41 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_cached_voice.py:56:62
   |
54 |         input_message_content: types.InputMessageContent  | None = None,
55 |     ) -> None:
56 |         super().__init__("voice", id, input_message_content, reply_markup)
   |                                                              ^^^^^^^^^^^^ Expected `InlineKeyboardMarkup`, found `InlineKeyboardMarkup | None`
57 |
58 |         self.voice_file_id = voice_file_id
   |
info: Element `None` of this union is not assignable to `InlineKeyboardMarkup`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |         ---------------------------------------- Parameter declared here
41 |     ) -> None:
42 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_cached_voice.py:91:21
   |
89 |                   if self.input_message_content
90 |                   else raw.types.InputBotInlineMessageMediaAuto(
91 | /                     reply_markup=await self.reply_markup.write(client)
92 | |                     if self.reply_markup
93 | |                     else None,
   | |_____________________________^ Expected `ReplyMarkup`, found `Unknown | None`
94 |                       message=message,
95 |                       entities=entities,
   |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_message_media_auto.py:44:9
   |
42 | … QUALNAME = "types.InputBotInlineMessageMediaAuto"
43 | …
44 | … def __init__(self, *, message: str, invert_media: Optional[bool] = None, entities: Optional[List["raw.base.MessageEntity"]] = None, reply_markup: "raw.base.ReplyMarkup" = None) -> …
   |       ^^^^^^^^                                                                                                                        ------------------------------------------- Parameter declared here
45 | …     self.message = message  # string
46 | …     self.invert_media = invert_media  # flags.3?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_contact.py:62:37
   |
60 |         thumb_height: int = 0,
61 |     ) -> None:
62 |         super().__init__("contact", id, input_message_content, reply_markup)
   |                                     ^^ Expected `str`, found `str | None`
63 |
64 |         self.phone_number = phone_number
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
   |         ------- Parameter declared here
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_contact.py:62:41
   |
60 |         thumb_height: int = 0,
61 |     ) -> None:
62 |         super().__init__("contact", id, input_message_content, reply_markup)
   |                                         ^^^^^^^^^^^^^^^^^^^^^ Expected `InputMessageContent`, found `InputMessageContent | None`
63 |
64 |         self.phone_number = phone_number
   |
info: Element `None` of this union is not assignable to `InputMessageContent`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
   |         ------------------------------------------------ Parameter declared here
40 |         reply_markup: types.InlineKeyboardMarkup,
41 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_contact.py:62:64
   |
60 |         thumb_height: int = 0,
61 |     ) -> None:
62 |         super().__init__("contact", id, input_message_content, reply_markup)
   |                                                                ^^^^^^^^^^^^ Expected `InlineKeyboardMarkup`, found `InlineKeyboardMarkup | None`
63 |
64 |         self.phone_number = phone_number
   |
info: Element `None` of this union is not assignable to `InlineKeyboardMarkup`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |         ---------------------------------------- Parameter declared here
41 |     ) -> None:
42 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_contact.py:85:21
   |
83 |                       last_name=self.last_name,
84 |                       vcard=self.vcard,
85 | /                     reply_markup=await self.reply_markup.write(client)
86 | |                     if self.reply_markup
87 | |                     else None,
   | |_____________________________^ Expected `ReplyMarkup`, found `Unknown | None`
88 |                   )
89 |               ),
   |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_message_media_contact.py:47:9
   |
45 | … QUALNAME = "types.InputBotInlineMessageMediaContact"
46 | …
47 | … def __init__(self, *, phone_number: str, first_name: str, last_name: str, vcard: str, reply_markup: "raw.base.ReplyMarkup" = None) -> …
   |       ^^^^^^^^                                                                          ------------------------------------------- Parameter declared here
48 | …     self.phone_number = phone_number  # string
49 | …     self.first_name = first_name  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/inline_mode/inline_query_result_contact.py:90:13
    |
 88 |                   )
 89 |               ),
 90 | /             thumb=raw.types.InputWebDocument(
 91 | |                 url=self.thumb_url,
 92 | |                 size=0,
 93 | |                 mime_type="image/jpg",
 94 | |                 attributes=[
 95 | |                     raw.types.DocumentAttributeImageSize(
 96 | |                         w=self.thumb_width,
 97 | |                         h=self.thumb_height,
 98 | |                     ),
 99 | |                 ],
100 | |             )
101 | |             if self.thumb_url
102 | |             else None,
    | |_____________________^ Expected `pyrogram.raw.base.input_web_document.InputWebDocument`, found `pyrogram.raw.types.input_web_document.InputWebDocument | None`
103 |           )
    |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.input_web_document.InputWebDocument`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_result.py:56:9
   |
54 | … QUALNAME = "types.InputBotInlineResult"
55 | …
56 | … def __init__(self, *, id: str, type: str, send_message: "raw.base.InputBotInlineMessage", title: Optional[str] = None, description: Optional[str] = None, url: Optional[str] = None, thumb: "raw.base.InputWebDocument" = None, con…
   |       ^^^^^^^^                                                                                                                                                                         ----------------------------------------- Parameter declared here
57 | …     self.id = id  # string
58 | …     self.type = type  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_document.py:75:34
   |
73 |         thumb_height: int = 0,
74 |     ) -> None:
75 |         super().__init__("file", id, input_message_content, reply_markup)
   |                                  ^^ Expected `str`, found `str | None`
76 |
77 |         self.document_url = document_url
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
   |         ------- Parameter declared here
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_document.py:75:38
   |
73 |         thumb_height: int = 0,
74 |     ) -> None:
75 |         super().__init__("file", id, input_message_content, reply_markup)
   |                                      ^^^^^^^^^^^^^^^^^^^^^ Expected `InputMessageContent`, found `InputMessageContent | None`
76 |
77 |         self.document_url = document_url
   |
info: Element `None` of this union is not assignable to `InputMessageContent`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
   |         ------------------------------------------------ Parameter declared here
40 |         reply_markup: types.InlineKeyboardMarkup,
41 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_document.py:75:61
   |
73 |         thumb_height: int = 0,
74 |     ) -> None:
75 |         super().__init__("file", id, input_message_content, reply_markup)
   |                                                             ^^^^^^^^^^^^ Expected `InlineKeyboardMarkup`, found `InlineKeyboardMarkup | None`
76 |
77 |         self.document_url = document_url
   |
info: Element `None` of this union is not assignable to `InlineKeyboardMarkup`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |         ---------------------------------------- Parameter declared here
41 |     ) -> None:
42 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/inline_mode/inline_query_result_document.py:126:13
    |
124 |             title=self.title,
125 |             description=self.description,
126 |             thumb=thumb,
    |             ^^^^^^^^^^^ Expected `pyrogram.raw.base.input_web_document.InputWebDocument`, found `pyrogram.raw.types.input_web_document.InputWebDocument | None`
127 |             content=document,
128 |             send_message=(
    |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.input_web_document.InputWebDocument`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_result.py:56:9
   |
54 | … QUALNAME = "types.InputBotInlineResult"
55 | …
56 | … def __init__(self, *, id: str, type: str, send_message: "raw.base.InputBotInlineMessage", title: Optional[str] = None, description: Optional[str] = None, url: Optional[str] = None, thumb: "raw.base.InputWebDocument" = None, con…
   |       ^^^^^^^^                                                                                                                                                                         ----------------------------------------- Parameter declared here
57 | …     self.id = id  # string
58 | …     self.type = type  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/inline_mode/inline_query_result_document.py:132:21
    |
130 |                   if self.input_message_content
131 |                   else raw.types.InputBotInlineMessageMediaAuto(
132 | /                     reply_markup=await self.reply_markup.write(client)
133 | |                     if self.reply_markup
134 | |                     else None,
    | |_____________________________^ Expected `ReplyMarkup`, found `Unknown | None`
135 |                       message=message,
136 |                       entities=entities,
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_message_media_auto.py:44:9
   |
42 | … QUALNAME = "types.InputBotInlineMessageMediaAuto"
43 | …
44 | … def __init__(self, *, message: str, invert_media: Optional[bool] = None, entities: Optional[List["raw.base.MessageEntity"]] = None, reply_markup: "raw.base.ReplyMarkup" = None) -> …
   |       ^^^^^^^^                                                                                                                        ------------------------------------------- Parameter declared here
45 | …     self.message = message  # string
46 | …     self.invert_media = invert_media  # flags.3?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_location.py:75:38
   |
73 |         thumb_height: int = 0,
74 |     ) -> None:
75 |         super().__init__("location", id, input_message_content, reply_markup)
   |                                      ^^ Expected `str`, found `str | None`
76 |
77 |         self.title = title
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
   |         ------- Parameter declared here
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_location.py:75:42
   |
73 |         thumb_height: int = 0,
74 |     ) -> None:
75 |         super().__init__("location", id, input_message_content, reply_markup)
   |                                          ^^^^^^^^^^^^^^^^^^^^^ Expected `InputMessageContent`, found `InputMessageContent | None`
76 |
77 |         self.title = title
   |
info: Element `None` of this union is not assignable to `InputMessageContent`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
   |         ------------------------------------------------ Parameter declared here
40 |         reply_markup: types.InlineKeyboardMarkup,
41 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_location.py:75:65
   |
73 |         thumb_height: int = 0,
74 |     ) -> None:
75 |         super().__init__("location", id, input_message_content, reply_markup)
   |                                                                 ^^^^^^^^^^^^ Expected `InlineKeyboardMarkup`, found `InlineKeyboardMarkup | None`
76 |
77 |         self.title = title
   |
info: Element `None` of this union is not assignable to `InlineKeyboardMarkup`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |         ---------------------------------------- Parameter declared here
41 |     ) -> None:
42 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/inline_mode/inline_query_result_location.py:104:21
    |
102 |                       period=self.live_period,
103 |                       proximity_notification_radius=self.proximity_alert_radius,
104 | /                     reply_markup=await self.reply_markup.write(client)
105 | |                     if self.reply_markup
106 | |                     else None,
    | |_____________________________^ Expected `ReplyMarkup`, found `Unknown | None`
107 |                   )
108 |               ),
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_message_media_geo.py:47:9
   |
45 | … QUALNAME = "types.InputBotInlineMessageMediaGeo"
46 | …
47 | … def __init__(self, *, geo_point: "raw.base.InputGeoPoint", heading: Optional[int] = None, period: Optional[int] = None, proximity_notification_radius: Optional[int] = None, reply_markup: "raw.base.ReplyMarkup" = None) -> …
   |       ^^^^^^^^                                                                                                                                                                 ------------------------------------------- Parameter declared here
48 | …     self.geo_point = geo_point  # InputGeoPoint
49 | …     self.heading = heading  # flags.0?int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_photo.py:73:35
   |
71 |         input_message_content: types.InputMessageContent  | None = None,
72 |     ) -> None:
73 |         super().__init__("photo", id, input_message_content, reply_markup)
   |                                   ^^ Expected `str`, found `str | None`
74 |
75 |         self.photo_url = photo_url
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
   |         ------- Parameter declared here
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_photo.py:73:39
   |
71 |         input_message_content: types.InputMessageContent  | None = None,
72 |     ) -> None:
73 |         super().__init__("photo", id, input_message_content, reply_markup)
   |                                       ^^^^^^^^^^^^^^^^^^^^^ Expected `InputMessageContent`, found `InputMessageContent | None`
74 |
75 |         self.photo_url = photo_url
   |
info: Element `None` of this union is not assignable to `InputMessageContent`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
   |         ------------------------------------------------ Parameter declared here
40 |         reply_markup: types.InlineKeyboardMarkup,
41 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_photo.py:73:62
   |
71 |         input_message_content: types.InputMessageContent  | None = None,
72 |     ) -> None:
73 |         super().__init__("photo", id, input_message_content, reply_markup)
   |                                                              ^^^^^^^^^^^^ Expected `InlineKeyboardMarkup`, found `InlineKeyboardMarkup | None`
74 |
75 |         self.photo_url = photo_url
   |
info: Element `None` of this union is not assignable to `InlineKeyboardMarkup`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |         ---------------------------------------- Parameter declared here
41 |     ) -> None:
42 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/inline_mode/inline_query_result_photo.py:130:21
    |
128 |                   if self.input_message_content
129 |                   else raw.types.InputBotInlineMessageMediaAuto(
130 | /                     reply_markup=await self.reply_markup.write(client)
131 | |                     if self.reply_markup
132 | |                     else None,
    | |_____________________________^ Expected `ReplyMarkup`, found `Unknown | None`
133 |                       message=message,
134 |                       entities=entities,
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_message_media_auto.py:44:9
   |
42 | … QUALNAME = "types.InputBotInlineMessageMediaAuto"
43 | …
44 | … def __init__(self, *, message: str, invert_media: Optional[bool] = None, entities: Optional[List["raw.base.MessageEntity"]] = None, reply_markup: "raw.base.ReplyMarkup" = None) -> …
   |       ^^^^^^^^                                                                                                                        ------------------------------------------- Parameter declared here
45 | …     self.message = message  # string
46 | …     self.invert_media = invert_media  # flags.3?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_venue.py:77:35
   |
75 |         thumb_height: int = 0,
76 |     ) -> None:
77 |         super().__init__("venue", id, input_message_content, reply_markup)
   |                                   ^^ Expected `str`, found `str | None`
78 |
79 |         self.title = title
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
   |         ------- Parameter declared here
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_venue.py:77:39
   |
75 |         thumb_height: int = 0,
76 |     ) -> None:
77 |         super().__init__("venue", id, input_message_content, reply_markup)
   |                                       ^^^^^^^^^^^^^^^^^^^^^ Expected `InputMessageContent`, found `InputMessageContent | None`
78 |
79 |         self.title = title
   |
info: Element `None` of this union is not assignable to `InputMessageContent`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
   |         ------------------------------------------------ Parameter declared here
40 |         reply_markup: types.InlineKeyboardMarkup,
41 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_venue.py:77:62
   |
75 |         thumb_height: int = 0,
76 |     ) -> None:
77 |         super().__init__("venue", id, input_message_content, reply_markup)
   |                                                              ^^^^^^^^^^^^ Expected `InlineKeyboardMarkup`, found `InlineKeyboardMarkup | None`
78 |
79 |         self.title = title
   |
info: Element `None` of this union is not assignable to `InlineKeyboardMarkup`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |         ---------------------------------------- Parameter declared here
41 |     ) -> None:
42 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/inline_mode/inline_query_result_venue.py:115:21
    |
113 |                       venue_id=self.foursquare_id or self.google_place_id or "",
114 |                       venue_type=self.foursquare_type or self.google_place_type or "",
115 | /                     reply_markup=await self.reply_markup.write(client)
116 | |                     if self.reply_markup
117 | |                     else None,
    | |_____________________________^ Expected `ReplyMarkup`, found `Unknown | None`
118 |                   )
119 |               ),
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_message_media_venue.py:53:9
   |
51 | … QUALNAME = "types.InputBotInlineMessageMediaVenue"
52 | …
53 | … def __init__(self, *, geo_point: "raw.base.InputGeoPoint", title: str, address: str, provider: str, venue_id: str, venue_type: str, reply_markup: "raw.base.ReplyMarkup" = None) -> …
   |       ^^^^^^^^                                                                                                                        ------------------------------------------- Parameter declared here
54 | …     self.geo_point = geo_point  # InputGeoPoint
55 | …     self.title = title  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_video.py:81:35
   |
79 |         input_message_content: types.InputMessageContent  | None = None,
80 |     ) -> None:
81 |         super().__init__("video", id, input_message_content, reply_markup)
   |                                   ^^ Expected `str`, found `str | None`
82 |
83 |         self.video_url = video_url
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
   |         ------- Parameter declared here
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_video.py:81:39
   |
79 |         input_message_content: types.InputMessageContent  | None = None,
80 |     ) -> None:
81 |         super().__init__("video", id, input_message_content, reply_markup)
   |                                       ^^^^^^^^^^^^^^^^^^^^^ Expected `InputMessageContent`, found `InputMessageContent | None`
82 |
83 |         self.video_url = video_url
   |
info: Element `None` of this union is not assignable to `InputMessageContent`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
   |         ------------------------------------------------ Parameter declared here
40 |         reply_markup: types.InlineKeyboardMarkup,
41 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_video.py:81:62
   |
79 |         input_message_content: types.InputMessageContent  | None = None,
80 |     ) -> None:
81 |         super().__init__("video", id, input_message_content, reply_markup)
   |                                                              ^^^^^^^^^^^^ Expected `InlineKeyboardMarkup`, found `InlineKeyboardMarkup | None`
82 |
83 |         self.video_url = video_url
   |
info: Element `None` of this union is not assignable to `InlineKeyboardMarkup`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |         ---------------------------------------- Parameter declared here
41 |     ) -> None:
42 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/inline_mode/inline_query_result_video.py:136:21
    |
134 |                   if self.input_message_content
135 |                   else raw.types.InputBotInlineMessageMediaAuto(
136 | /                     reply_markup=await self.reply_markup.write(client)
137 | |                     if self.reply_markup
138 | |                     else None,
    | |_____________________________^ Expected `ReplyMarkup`, found `Unknown | None`
139 |                       message=message,
140 |                       entities=entities,
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_message_media_auto.py:44:9
   |
42 | … QUALNAME = "types.InputBotInlineMessageMediaAuto"
43 | …
44 | … def __init__(self, *, message: str, invert_media: Optional[bool] = None, entities: Optional[List["raw.base.MessageEntity"]] = None, reply_markup: "raw.base.ReplyMarkup" = None) -> …
   |       ^^^^^^^^                                                                                                                        ------------------------------------------- Parameter declared here
45 | …     self.message = message  # string
46 | …     self.invert_media = invert_media  # flags.3?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_voice.py:59:35
   |
57 |         input_message_content: types.InputMessageContent  | None = None,
58 |     ) -> None:
59 |         super().__init__("voice", id, input_message_content, reply_markup)
   |                                   ^^ Expected `str`, found `str | None`
60 |
61 |         self.voice_url = voice_url
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
   |         ------- Parameter declared here
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_voice.py:59:39
   |
57 |         input_message_content: types.InputMessageContent  | None = None,
58 |     ) -> None:
59 |         super().__init__("voice", id, input_message_content, reply_markup)
   |                                       ^^^^^^^^^^^^^^^^^^^^^ Expected `InputMessageContent`, found `InputMessageContent | None`
60 |
61 |         self.voice_url = voice_url
   |
info: Element `None` of this union is not assignable to `InputMessageContent`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
   |         ------------------------------------------------ Parameter declared here
40 |         reply_markup: types.InlineKeyboardMarkup,
41 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/inline_mode/inline_query_result_voice.py:59:62
   |
57 |         input_message_content: types.InputMessageContent  | None = None,
58 |     ) -> None:
59 |         super().__init__("voice", id, input_message_content, reply_markup)
   |                                                              ^^^^^^^^^^^^ Expected `InlineKeyboardMarkup`, found `InlineKeyboardMarkup | None`
60 |
61 |         self.voice_url = voice_url
   |
info: Element `None` of this union is not assignable to `InlineKeyboardMarkup`
info: Method defined here
  --> pyrogram/types/inline_mode/inline_query_result.py:35:9
   |
33 |     """
34 |
35 |     def __init__(
   |         ^^^^^^^^
36 |         self,
37 |         type: str,
38 |         id: str,
39 |         input_message_content: types.InputMessageContent,
40 |         reply_markup: types.InlineKeyboardMarkup,
   |         ---------------------------------------- Parameter declared here
41 |     ) -> None:
42 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/inline_mode/inline_query_result_voice.py:99:21
    |
 97 |                   if self.input_message_content
 98 |                   else raw.types.InputBotInlineMessageMediaAuto(
 99 | /                     reply_markup=await self.reply_markup.write(client)
100 | |                     if self.reply_markup
101 | |                     else None,
    | |_____________________________^ Expected `ReplyMarkup`, found `Unknown | None`
102 |                       message=message,
103 |                       entities=entities,
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_message_media_auto.py:44:9
   |
42 | … QUALNAME = "types.InputBotInlineMessageMediaAuto"
43 | …
44 | … def __init__(self, *, message: str, invert_media: Optional[bool] = None, entities: Optional[List["raw.base.MessageEntity"]] = None, reply_markup: "raw.base.ReplyMarkup" = None) -> …
   |       ^^^^^^^^                                                                                                                        ------------------------------------------- Parameter declared here
45 | …     self.message = message  # string
46 | …     self.invert_media = invert_media  # flags.3?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/input_media/input_media_animation.py:65:42
   |
63 |         has_spoiler: bool | None = None,
64 |     ) -> None:
65 |         super().__init__(media, caption, parse_mode, caption_entities)
   |                                          ^^^^^^^^^^ Expected `str | None`, found `ParseMode | None`
66 |
67 |         self.thumb = thumb
   |
info: Element `ParseMode` of this union is not assignable to `str | None`
info: Method defined here
  --> pyrogram/types/input_media/input_media.py:23:9
   |
21 |     """
22 |
23 |     def __init__(
   |         ^^^^^^^^
24 |         self,
25 |         media: str | BinaryIO,
26 |         caption: str = "",
27 |         parse_mode: str | None = None,
   |         ----------------------------- Parameter declared here
28 |         caption_entities: list[MessageEntity] | None = None,
29 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/input_media/input_media_audio.py:63:42
   |
61 |         title: str = "",
62 |     ) -> None:
63 |         super().__init__(media, caption, parse_mode, caption_entities)
   |                                          ^^^^^^^^^^ Expected `str | None`, found `ParseMode | None`
64 |
65 |         self.thumb = thumb
   |
info: Element `ParseMode` of this union is not assignable to `str | None`
info: Method defined here
  --> pyrogram/types/input_media/input_media.py:23:9
   |
21 |     """
22 |
23 |     def __init__(
   |         ^^^^^^^^
24 |         self,
25 |         media: str | BinaryIO,
26 |         caption: str = "",
27 |         parse_mode: str | None = None,
   |         ----------------------------- Parameter declared here
28 |         caption_entities: list[MessageEntity] | None = None,
29 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/input_media/input_media_document.py:49:42
   |
47 |         caption_entities: list[MessageEntity] | None = None,
48 |     ) -> None:
49 |         super().__init__(media, caption, parse_mode, caption_entities)
   |                                          ^^^^^^^^^^ Expected `str | None`, found `ParseMode | None`
50 |
51 |         self.thumb = thumb
   |
info: Element `ParseMode` of this union is not assignable to `str | None`
info: Method defined here
  --> pyrogram/types/input_media/input_media.py:23:9
   |
21 |     """
22 |
23 |     def __init__(
   |         ^^^^^^^^
24 |         self,
25 |         media: str | BinaryIO,
26 |         caption: str = "",
27 |         parse_mode: str | None = None,
   |         ----------------------------- Parameter declared here
28 |         caption_entities: list[MessageEntity] | None = None,
29 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/input_media/input_media_photo.py:47:42
   |
45 |         has_spoiler: bool | None = None,
46 |     ) -> None:
47 |         super().__init__(media, caption, parse_mode, caption_entities)
   |                                          ^^^^^^^^^^ Expected `str | None`, found `ParseMode | None`
48 |
49 |         self.has_spoiler = has_spoiler
   |
info: Element `ParseMode` of this union is not assignable to `str | None`
info: Method defined here
  --> pyrogram/types/input_media/input_media.py:23:9
   |
21 |     """
22 |
23 |     def __init__(
   |         ^^^^^^^^
24 |         self,
25 |         media: str | BinaryIO,
26 |         caption: str = "",
27 |         parse_mode: str | None = None,
   |         ----------------------------- Parameter declared here
28 |         caption_entities: list[MessageEntity] | None = None,
29 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/input_media/input_media_video.py:70:42
   |
68 |         has_spoiler: bool | None = None,
69 |     ) -> None:
70 |         super().__init__(media, caption, parse_mode, caption_entities)
   |                                          ^^^^^^^^^^ Expected `str | None`, found `ParseMode | None`
71 |
72 |         self.thumb = thumb
   |
info: Element `ParseMode` of this union is not assignable to `str | None`
info: Method defined here
  --> pyrogram/types/input_media/input_media.py:23:9
   |
21 |     """
22 |
23 |     def __init__(
   |         ^^^^^^^^
24 |         self,
25 |         media: str | BinaryIO,
26 |         caption: str = "",
27 |         parse_mode: str | None = None,
   |         ----------------------------- Parameter declared here
28 |         caption_entities: list[MessageEntity] | None = None,
29 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/input_media/input_phone_contact.py:32:13
   |
30 |     def __new__(cls, phone: str, first_name: str, last_name: str = ""):
31 |         return raw.types.InputPhoneContact(
32 |             client_id=MsgId(),
   |             ^^^^^^^^^^^^^^^^^ Expected `int`, found `MsgId`
33 |             phone="+" + phone.strip("+"),
34 |             first_name=first_name,
   |
info: Method defined here
  --> pyrogram/raw/types/input_phone_contact.py:47:9
   |
45 |     QUALNAME = "types.InputPhoneContact"
46 |
47 |     def __init__(self, *, client_id: int, phone: str, first_name: str, last_name: str, note: "raw.base.TextWithEntities" = None) -> No…
   |         ^^^^^^^^          -------------- Parameter declared here
48 |         self.client_id = client_id  # long
49 |         self.phone = phone  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/input_message_content/input_contact_message_content.py:49:13
   |
47 |             phone_number=self.phone_number,
48 |             first_name=self.first_name,
49 |             last_name=self.last_name,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^ Expected `str`, found `Unknown | str | None`
50 |             vcard=self.vcard,
51 |             reply_markup=await reply_markup.write(client) if reply_markup else None,
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_message_media_contact.py:47:9
   |
45 |     QUALNAME = "types.InputBotInlineMessageMediaContact"
46 |
47 |     def __init__(self, *, phone_number: str, first_name: str, last_name: str, vcard: str, reply_markup: "raw.base.ReplyMarkup" = None)…
   |         ^^^^^^^^                                              -------------- Parameter declared here
48 |         self.phone_number = phone_number  # string
49 |         self.first_name = first_name  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/input_message_content/input_contact_message_content.py:50:13
   |
48 |             first_name=self.first_name,
49 |             last_name=self.last_name,
50 |             vcard=self.vcard,
   |             ^^^^^^^^^^^^^^^^ Expected `str`, found `Unknown | str | None`
51 |             reply_markup=await reply_markup.write(client) if reply_markup else None,
52 |         )
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_message_media_contact.py:47:9
   |
45 |     QUALNAME = "types.InputBotInlineMessageMediaContact"
46 |
47 |     def __init__(self, *, phone_number: str, first_name: str, last_name: str, vcard: str, reply_markup: "raw.base.ReplyMarkup" = None)…
   |         ^^^^^^^^                                                              ---------- Parameter declared here
48 |         self.phone_number = phone_number  # string
49 |         self.first_name = first_name  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/input_message_content/input_contact_message_content.py:51:13
   |
49 |             last_name=self.last_name,
50 |             vcard=self.vcard,
51 |             reply_markup=await reply_markup.write(client) if reply_markup else None,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `ReplyMarkup`, found `Unknown | None`
52 |         )
   |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_message_media_contact.py:47:9
   |
45 | … QUALNAME = "types.InputBotInlineMessageMediaContact"
46 | …
47 | … def __init__(self, *, phone_number: str, first_name: str, last_name: str, vcard: str, reply_markup: "raw.base.ReplyMarkup" = None) -> …
   |       ^^^^^^^^                                                                          ------------------------------------------- Parameter declared here
48 | …     self.phone_number = phone_number  # string
49 | …     self.first_name = first_name  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/input_message_content/input_invoice_message_content.py:129:13
    |
127 |               title=self.title,
128 |               description=self.description,
129 | /             photo=raw.types.InputWebDocument(
130 | |                 url=self.photo_url,
131 | |                 mime_type="image/jpg",
132 | |                 size=self.photo_size,
133 | |                 attributes=[
134 | |                     raw.types.DocumentAttributeImageSize(
135 | |                         w=self.photo_width,
136 | |                         h=self.photo_height,
137 | |                     ),
138 | |                 ],
139 | |             )
140 | |             if self.photo_url
141 | |             else None,
    | |_____________________^ Expected `pyrogram.raw.base.input_web_document.InputWebDocument`, found `pyrogram.raw.types.input_web_document.InputWebDocument | None`
142 |               invoice=raw.types.Invoice(
143 |                   currency=self.currency,
    |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.input_web_document.InputWebDocument`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_message_media_invoice.py:56:9
   |
54 | … QUALNAME = "types.InputBotInlineMessageMediaInvoice"
55 | …
56 | … def __init__(self, *, title: str, description: str, invoice: "raw.base.Invoice", payload: bytes, provider: str, provider_data: "raw.base.DataJSON", photo: "raw.base.InputWebDocument" = None, rep…
   |       ^^^^^^^^                                                                                                                                        ----------------------------------------- Parameter declared here
57 | …     self.title = title  # string
58 | …     self.description = description  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/input_message_content/input_invoice_message_content.py:132:17
    |
130 |                 url=self.photo_url,
131 |                 mime_type="image/jpg",
132 |                 size=self.photo_size,
    |                 ^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | int | None`
133 |                 attributes=[
134 |                     raw.types.DocumentAttributeImageSize(
    |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/types/input_web_document.py:44:9
   |
42 |     QUALNAME = "types.InputWebDocument"
43 |
44 |     def __init__(self, *, url: str, size: int, mime_type: str, attributes: List["raw.base.DocumentAttribute"]) -> None:
   |         ^^^^^^^^                    --------- Parameter declared here
45 |         self.url = url  # string
46 |         self.size = size  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/input_message_content/input_invoice_message_content.py:135:25
    |
133 |                 attributes=[
134 |                     raw.types.DocumentAttributeImageSize(
135 |                         w=self.photo_width,
    |                         ^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | int | None`
136 |                         h=self.photo_height,
137 |                     ),
    |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/types/document_attribute_image_size.py:38:9
   |
36 |     QUALNAME = "types.DocumentAttributeImageSize"
37 |
38 |     def __init__(self, *, w: int, h: int) -> None:
   |         ^^^^^^^^          ------ Parameter declared here
39 |         self.w = w  # int
40 |         self.h = h  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/input_message_content/input_invoice_message_content.py:136:25
    |
134 |                     raw.types.DocumentAttributeImageSize(
135 |                         w=self.photo_width,
136 |                         h=self.photo_height,
    |                         ^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | int | None`
137 |                     ),
138 |                 ],
    |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/types/document_attribute_image_size.py:38:9
   |
36 |     QUALNAME = "types.DocumentAttributeImageSize"
37 |
38 |     def __init__(self, *, w: int, h: int) -> None:
   |         ^^^^^^^^                  ------ Parameter declared here
39 |         self.w = w  # int
40 |         self.h = h  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/input_message_content/input_invoice_message_content.py:157:13
    |
155 |             if isinstance(self.payload, str)
156 |             else self.payload,
157 |             provider=self.provider_token,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `str`, found `Unknown | str | None`
158 |             provider_data=raw.types.DataJSON(
159 |                 data=self.provider_data or "{}",
    |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_message_media_invoice.py:56:9
   |
54 |     QUALNAME = "types.InputBotInlineMessageMediaInvoice"
55 |
56 |     def __init__(self, *, title: str, description: str, invoice: "raw.base.Invoice", payload: bytes, provider: str, provider_data: "ra…
   |         ^^^^^^^^                                                                                     ------------- Parameter declared here
57 |         self.title = title  # string
58 |         self.description = description  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/input_message_content/input_invoice_message_content.py:161:13
    |
159 |                 data=self.provider_data or "{}",
160 |             ),
161 |             reply_markup=await reply_markup.write(client) if reply_markup else None,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `ReplyMarkup`, found `Unknown | None`
162 |         )
    |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_message_media_invoice.py:56:9
   |
54 | … QUALNAME = "types.InputBotInlineMessageMediaInvoice"
55 | …
56 | … def __init__(self, *, title: str, description: str, invoice: "raw.base.Invoice", payload: bytes, provider: str, provider_data: "raw.base.DataJSON", photo: "raw.base.InputWebDocument" = None, reply_markup: "raw.base.ReplyMarkup" = None) -> …
   |       ^^^^^^^^                                                                                                                                                                                   ------------------------------------------- Parameter declared here
57 | …     self.title = title  # string
58 | …     self.description = description  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/input_message_content/input_location_message_content.py:60:17
   |
58 |                 lat=self.latitude,
59 |                 long=self.longitude,
60 |                 accuracy_radius=self.horizontal_accuracy,
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int | None`, found `Unknown | int | float | None`
61 |             ),
62 |             heading=self.heading,
   |
info: Element `float` of this union is not assignable to `int | None`
info: Method defined here
  --> pyrogram/raw/types/input_geo_point.py:41:9
   |
39 |     QUALNAME = "types.InputGeoPoint"
40 |
41 |     def __init__(self, *, lat: float, long: float, accuracy_radius: Optional[int] = None) -> None:
   |         ^^^^^^^^                                   ------------------------------------- Parameter declared here
42 |         self.lat = lat  # double
43 |         self.long = long  # double
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/input_message_content/input_location_message_content.py:65:13
   |
63 |             period=self.live_period,
64 |             proximity_notification_radius=self.proximity_alert_radius,
65 |             reply_markup=await reply_markup.write(client) if reply_markup else None,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `ReplyMarkup`, found `Unknown | None`
66 |         )
   |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_message_media_geo.py:47:9
   |
45 | … QUALNAME = "types.InputBotInlineMessageMediaGeo"
46 | …
47 | … def __init__(self, *, geo_point: "raw.base.InputGeoPoint", heading: Optional[int] = None, period: Optional[int] = None, proximity_notification_radius: Optional[int] = None, reply_markup: "raw.base.ReplyMarkup" = None) -> …
   |       ^^^^^^^^                                                                                                                                                                 ------------------------------------------- Parameter declared here
48 | …     self.geo_point = geo_point  # InputGeoPoint
49 | …     self.heading = heading  # flags.0?int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/input_message_content/input_reply_to_message.py:62:17
   |
60 |                 reply_to_msg_id = self.reply_to_message_id
61 |             return raw.types.InputReplyToMessage(
62 |                 reply_to_msg_id=reply_to_msg_id,
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | int | None`
63 |                 top_msg_id=top_msg_id,
64 |                 reply_to_peer_id=self.reply_to_chat,
   |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/types/input_reply_to_message.py:56:9
   |
54 |     QUALNAME = "types.InputReplyToMessage"
55 |
56 |     def __init__(self, *, reply_to_msg_id: int, top_msg_id: Optional[int] = None, reply_to_peer_id: "raw.base.InputPeer" = None, quote…
   |         ^^^^^^^^          -------------------- Parameter declared here
57 |         self.reply_to_msg_id = reply_to_msg_id  # int
58 |         self.top_msg_id = top_msg_id  # flags.0?int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/input_message_content/input_reply_to_message.py:64:17
   |
62 |                 reply_to_msg_id=reply_to_msg_id,
63 |                 top_msg_id=top_msg_id,
64 |                 reply_to_peer_id=self.reply_to_chat,
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputPeer`, found `Unknown | InputPeer | None`
65 |                 quote_text=self.quote_text,
66 |                 quote_entities=self.quote_entities,
   |
info: Element `None` of this union is not assignable to `InputPeer`
info: Method defined here
  --> pyrogram/raw/types/input_reply_to_message.py:56:9
   |
54 | … QUALNAME = "types.InputReplyToMessage"
55 | …
56 | … def __init__(self, *, reply_to_msg_id: int, top_msg_id: Optional[int] = None, reply_to_peer_id: "raw.base.InputPeer" = None, quote_t…
   |       ^^^^^^^^                                                                  --------------------------------------------- Parameter declared here
57 | …     self.reply_to_msg_id = reply_to_msg_id  # int
58 | …     self.top_msg_id = top_msg_id  # flags.0?int
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Module `pyrogram.raw.types` has no member `InputPeer`
  --> pyrogram/types/input_message_content/input_reply_to_story.py:22:15
   |
20 |         self,
21 |         *,
22 |         peer: raw.types.InputPeer = None,
   |               ^^^^^^^^^^^^^^^^^^^
23 |         story_id: int | None = None,
24 |     ) -> None:
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/input_message_content/input_reply_to_story.py:33:13
   |
31 |         return raw.types.InputReplyToStory(
32 |             peer=self.peer,
33 |             story_id=self.story_id,
   |             ^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | int | None`
34 |         ).write()
   |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/raw/types/input_reply_to_story.py:38:9
   |
36 |     QUALNAME = "types.InputReplyToStory"
37 |
38 |     def __init__(self, *, peer: "raw.base.InputPeer", story_id: int) -> None:
   |         ^^^^^^^^                                      ------------- Parameter declared here
39 |         self.peer = peer  # InputPeer
40 |         self.story_id = story_id  # int
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/input_message_content/input_text_message_content.py:53:13
   |
51 |         return raw.types.InputBotInlineMessageText(
52 |             no_webpage=self.disable_web_page_preview or None,
53 |             reply_markup=await reply_markup.write(client) if reply_markup else None,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `ReplyMarkup`, found `Unknown | None`
54 |             message=message,
55 |             entities=entities,
   |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_message_text.py:47:9
   |
45 | … QUALNAME = "types.InputBotInlineMessageText"
46 | …
47 | … def __init__(self, *, message: str, no_webpage: Optional[bool] = None, invert_media: Optional[bool] = None, entities: Optional[List["raw.base.MessageEntity"]] = None, reply_markup: "raw.base.ReplyMarkup" = None) -> …
   |       ^^^^^^^^                                                                                                                                                           ------------------------------------------- Parameter declared here
48 | …     self.message = message  # string
49 | …     self.no_webpage = no_webpage  # flags.0?true
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/input_message_content/input_venue_message_content.py:68:13
   |
66 |             address=self.address,
67 |             provider="",  # TODO
68 |             venue_id=self.foursquare_id,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `str`, found `Unknown | str | None`
69 |             venue_type=self.foursquare_type,
70 |             reply_markup=await reply_markup.write(client) if reply_markup else None,
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_message_media_venue.py:53:9
   |
51 |     QUALNAME = "types.InputBotInlineMessageMediaVenue"
52 |
53 |     def __init__(self, *, geo_point: "raw.base.InputGeoPoint", title: str, address: str, provider: str, venue_id: str, venue_type: str…
   |         ^^^^^^^^                                                                                        ------------- Parameter declared here
54 |         self.geo_point = geo_point  # InputGeoPoint
55 |         self.title = title  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/input_message_content/input_venue_message_content.py:69:13
   |
67 |             provider="",  # TODO
68 |             venue_id=self.foursquare_id,
69 |             venue_type=self.foursquare_type,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `str`, found `Unknown | str | None`
70 |             reply_markup=await reply_markup.write(client) if reply_markup else None,
71 |         )
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_message_media_venue.py:53:9
   |
51 | … QUALNAME = "types.InputBotInlineMessageMediaVenue"
52 | …
53 | … def __init__(self, *, geo_point: "raw.base.InputGeoPoint", title: str, address: str, provider: str, venue_id: str, venue_type: str, rep…
   |       ^^^^^^^^                                                                                                       --------------- Parameter declared here
54 | …     self.geo_point = geo_point  # InputGeoPoint
55 | …     self.title = title  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/input_message_content/input_venue_message_content.py:70:13
   |
68 |             venue_id=self.foursquare_id,
69 |             venue_type=self.foursquare_type,
70 |             reply_markup=await reply_markup.write(client) if reply_markup else None,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `ReplyMarkup`, found `Unknown | None`
71 |         )
   |
info: Element `None` of this union is not assignable to `ReplyMarkup`
info: Method defined here
  --> pyrogram/raw/types/input_bot_inline_message_media_venue.py:53:9
   |
51 | … QUALNAME = "types.InputBotInlineMessageMediaVenue"
52 | …
53 | … def __init__(self, *, geo_point: "raw.base.InputGeoPoint", title: str, address: str, provider: str, venue_id: str, venue_type: str, reply_markup: "raw.base.ReplyMarkup" = None) -> …
   |       ^^^^^^^^                                                                                                                        ------------------------------------------- Parameter declared here
54 | …     self.geo_point = geo_point  # InputGeoPoint
55 | …     self.title = title  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `__str__` is incorrect
  --> pyrogram/types/list.py:11:31
   |
 9 |     def __str__(self) -> str:
10 |         # noinspection PyCallByClass
11 |         return Object.__str__(self)
   |                               ^^^^ Expected `Object`, found `Self@__str__`
12 |
13 |     def __repr__(self) -> str:
   |
info: Function defined here
  --> pyrogram/types/object.py:59:9
   |
57 |         return {"_": obj.__class__.__name__, **filtered_attributes}
58 |
59 |     def __str__(self) -> str:
   |         ^^^^^^^ ---- Parameter declared here
60 |         return dumps(self, indent=4, default=Object.default, ensure_ascii=False)
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/messages_and_media/alternative_video.py:123:13
    |
121 |         return AlternativeVideo(
122 |             client=client,
123 |             file_id=file_id,
    |             ^^^^^^^^^^^^^^^ Expected `str`, found `Unknown | None`
124 |             file_unique_id=file_unique_id,
125 |             width=video_attributes.w if video_attributes else 0,
    |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/messages_and_media/alternative_video.py:62:9
   |
60 |     """
61 |
62 |     def __init__(
   |         ^^^^^^^^
63 |         self,
64 |         *,
65 |         client: pyrogram.Client  | None = None,
66 |         file_id: str,
   |         ------------ Parameter declared here
67 |         file_unique_id: str,
68 |         width: int,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/messages_and_media/alternative_video.py:124:13
    |
122 |             client=client,
123 |             file_id=file_id,
124 |             file_unique_id=file_unique_id,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `str`, found `Unknown | None`
125 |             width=video_attributes.w if video_attributes else 0,
126 |             height=video_attributes.h if video_attributes else 0,
    |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/messages_and_media/alternative_video.py:62:9
   |
60 |     """
61 |
62 |     def __init__(
   |         ^^^^^^^^
63 |         self,
64 |         *,
65 |         client: pyrogram.Client  | None = None,
66 |         file_id: str,
67 |         file_unique_id: str,
   |         ------------------- Parameter declared here
68 |         width: int,
69 |         height: int,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/messages_and_media/alternative_video.py:127:13
    |
125 |             width=video_attributes.w if video_attributes else 0,
126 |             height=video_attributes.h if video_attributes else 0,
127 |             codec=video_attributes.video_codec if video_attributes else "",
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `str`, found `Unknown | str | None`
128 |             duration=video_attributes.duration if video_attributes else 0,
129 |             file_name=file_name,
    |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/messages_and_media/alternative_video.py:62:9
   |
60 |     """
61 |
62 |     def __init__(
   |         ^^^^^^^^
63 |         self,
64 |         *,
   |
  ::: pyrogram/types/messages_and_media/alternative_video.py:70:9
   |
68 |         width: int,
69 |         height: int,
70 |         codec: str,
   |         ---------- Parameter declared here
71 |         duration: int,
72 |         file_name: str | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/messages_and_media/alternative_video.py:128:13
    |
126 |             height=video_attributes.h if video_attributes else 0,
127 |             codec=video_attributes.video_codec if video_attributes else "",
128 |             duration=video_attributes.duration if video_attributes else 0,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | int | float`
129 |             file_name=file_name,
130 |             mime_type=video.mime_type if video else "",
    |
info: Element `float` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/types/messages_and_media/alternative_video.py:62:9
   |
60 |     """
61 |
62 |     def __init__(
   |         ^^^^^^^^
63 |         self,
64 |         *,
   |
  ::: pyrogram/types/messages_and_media/alternative_video.py:71:9
   |
69 |         height: int,
70 |         codec: str,
71 |         duration: int,
   |         ------------- Parameter declared here
72 |         file_name: str | None = None,
73 |         mime_type: str | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
   --> pyrogram/types/messages_and_media/animation.py:115:66
    |
114 |     @staticmethod
115 |     def _parse_chat_animation(client, video: raw.types.Photo) -> Animation:
    |                                                                  --------- Expected `Animation` because of return type
116 |         if isinstance(video, raw.types.Photo):
117 |             if not video.video_sizes:
118 |                 return None
    |                        ^^^^ expected `Animation`, found `None`
119 |             video_sizes: list[raw.types.VideoSize] = [
120 |                 p for p in video.video_sizes if isinstance(p, raw.types.VideoSize)
    |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/messages_and_media/animation.py:125:17
    |
123 |               video_size = video_sizes[-1]
124 |               return Animation(
125 | /                 file_id=FileId(
126 | |                     file_type=FileType.PHOTO,
127 | |                     dc_id=video.dc_id,
128 | |                     media_id=video.id,
129 | |                     access_hash=video.access_hash,
130 | |                     file_reference=video.file_reference,
131 | |                     thumbnail_source=ThumbnailSource.THUMBNAIL,
132 | |                     thumbnail_file_type=FileType.PHOTO,
133 | |                     thumbnail_size=video_size.type,
134 | |                     volume_id=0,
135 | |                     local_id=0,
136 | |                 ).encode()
137 | |                 if video
138 | |                 else None,
    | |_________________________^ Expected `str`, found `Unknown | None`
139 |                   file_unique_id=FileUniqueId(
140 |                       file_unique_type=FileUniqueType.DOCUMENT,
    |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/messages_and_media/animation.py:56:9
   |
54 |     """
55 |
56 |     def __init__(
   |         ^^^^^^^^
57 |         self,
58 |         *,
59 |         client: pyrogram.Client  | None = None,
60 |         file_id: str,
   |         ------------ Parameter declared here
61 |         file_unique_id: str,
62 |         width: int,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/messages_and_media/animation.py:139:17
    |
137 |                   if video
138 |                   else None,
139 | /                 file_unique_id=FileUniqueId(
140 | |                     file_unique_type=FileUniqueType.DOCUMENT,
141 | |                     media_id=video.id,
142 | |                 ).encode()
143 | |                 if video
144 | |                 else None,
    | |_________________________^ Expected `str`, found `Unknown | None`
145 |                   width=video_size.w,
146 |                   height=video_size.h,
    |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/messages_and_media/animation.py:56:9
   |
54 |     """
55 |
56 |     def __init__(
   |         ^^^^^^^^
57 |         self,
58 |         *,
59 |         client: pyrogram.Client  | None = None,
60 |         file_id: str,
61 |         file_unique_id: str,
   |         ------------------- Parameter declared here
62 |         width: int,
63 |         height: int,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
   --> pyrogram/types/messages_and_media/animation.py:153:16
    |
151 |                 client=client,
152 |             )
153 |         return None
    |                ^^^^ expected `Animation`, found `None`
    |
   ::: pyrogram/types/messages_and_media/animation.py:115:66
    |
114 |     @staticmethod
115 |     def _parse_chat_animation(client, video: raw.types.Photo) -> Animation:
    |                                                                  --------- Expected `Animation` because of return type
116 |         if isinstance(video, raw.types.Photo):
117 |             if not video.video_sizes:
    |
info: rule `invalid-return-type` is enabled by default

error[unresolved-attribute]: Module `pyrogram.types` has no member `LinkPreviewOptions`
  --> pyrogram/types/messages_and_media/draft_message.py:73:31
   |
71 |         text: Str  | None = None,
72 |         entities: list[types.MessageEntity] | None = None,
73 |         link_preview_options: types.LinkPreviewOptions = None,
   |                               ^^^^^^^^^^^^^^^^^^^^^^^^
74 |         effect_id: str | None = None,
75 |         video_note: types.VideoNote  | None = None,
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-return-type]: Return type does not match returned value
   --> pyrogram/types/messages_and_media/draft_message.py:106:10
    |
104 |         raw_draft_message: raw.types.DraftMessage | raw.types.DraftMessageEmpty,
105 |         users: dict,
106 |     ) -> DraftMessage:
    |          ------------ Expected `DraftMessage` because of return type
107 |         if not raw_draft_message:
108 |             return None
    |                    ^^^^ expected `DraftMessage`, found `None`
109 |         if isinstance(raw_draft_message, raw.types.DraftMessageEmpty):
110 |             return DraftMessage(
    |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/messages_and_media/draft_message.py:113:17
    |
111 |                 date=utils.timestamp_to_datetime(raw_draft_message.date),
112 |                 empty=True,
113 |                 _raw=raw_draft_message,
    |                 ^^^^^^^^^^^^^^^^^^^^^^ Expected `DraftMessage | None`, found `DraftMessageEmpty & ~AlwaysFalsy`
114 |             )
    |
info: Method defined here
  --> pyrogram/types/messages_and_media/draft_message.py:65:9
   |
63 |     """
64 |
65 |     def __init__(
   |         ^^^^^^^^
66 |         self,
67 |         *,
   |
  ::: pyrogram/types/messages_and_media/draft_message.py:81:9
   |
79 |         empty: bool | None = None,
80 |         chat: types.Chat  | None = None,
81 |         _raw: raw.types.DraftMessage  | None = None,
   |         ------------------------------------------- Parameter declared here
82 |     ) -> None:
83 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[not-iterable]: Object of type `Unknown | list[MessageEntity] | None` may not be iterable
   --> pyrogram/types/messages_and_media/draft_message.py:118:27
    |
116 |         entities = [
117 |             types.MessageEntity._parse(client, entity, users)
118 |             for entity in raw_draft_message.entities
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
119 |         ]
120 |         entities = types.List(filter(lambda x: x is not None, entities))
    |
info: It may not have an `__iter__` method or a `__getitem__` method
info: rule `not-iterable` is enabled by default

error[unresolved-attribute]: Attribute `round_message` is not defined on `DocumentAttribute` in union `Unknown | DocumentAttribute`
   --> pyrogram/types/messages_and_media/draft_message.py:148:28
    |
146 |                         ]
147 |
148 |                         if video_attributes.round_message:
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
149 |                             video_note = types.VideoNote._parse(
150 |                                 client,
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/messages_and_media/draft_message.py:152:33
    |
150 | …                         client,
151 | …                         doc,
152 | …                         video_attributes,
    |                           ^^^^^^^^^^^^^^^^ Expected `DocumentAttributeVideo`, found `Unknown | DocumentAttribute`
153 | …                         media.ttl_seconds,
154 | …                     )
    |
info: Element `DocumentAttribute` of this union is not assignable to `DocumentAttributeVideo`
info: Function defined here
  --> pyrogram/types/messages_and_media/video_note.py:74:9
   |
73 |     @staticmethod
74 |     def _parse(
   |         ^^^^^^
75 |         client,
76 |         video_note: raw.types.Document,
77 |         video_attributes: raw.types.DocumentAttributeVideo,
   |         -------------------------------------------------- Parameter declared here
78 |     ) -> VideoNote:
79 |         return VideoNote(
   |
info: rule `invalid-argument-type` is enabled by default

error[too-many-positional-arguments]: Too many positional arguments to function `_parse`: expected 3, got 4
   --> pyrogram/types/messages_and_media/draft_message.py:153:33
    |
151 | …                         doc,
152 | …                         video_attributes,
153 | …                         media.ttl_seconds,
    |                           ^^^^^^^^^^^^^^^^^
154 | …                     )
155 | …                     media_type = enums.MessageMediaType.VIDEO_NOTE
    |
info: Function signature here
  --> pyrogram/types/messages_and_media/video_note.py:74:9
   |
73 |       @staticmethod
74 |       def _parse(
   |  _________^
75 | |         client,
76 | |         video_note: raw.types.Document,
77 | |         video_attributes: raw.types.DocumentAttributeVideo,
78 | |     ) -> VideoNote:
   | |__________________^
79 |           return VideoNote(
80 |               file_id=FileId(
   |
info: rule `too-many-positional-arguments` is enabled by default

error[unresolved-attribute]: Attribute `voice` is not defined on `DocumentAttribute` in union `Unknown | DocumentAttribute`
   --> pyrogram/types/messages_and_media/draft_message.py:162:28
    |
160 |                         ]
161 |
162 |                         if audio_attributes.voice:
    |                            ^^^^^^^^^^^^^^^^^^^^^^
163 |                             voice = types.Voice._parse(
164 |                                 client,
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/messages_and_media/draft_message.py:166:33
    |
164 | …                         client,
165 | …                         doc,
166 | …                         audio_attributes,
    |                           ^^^^^^^^^^^^^^^^ Expected `DocumentAttributeAudio`, found `Unknown | DocumentAttribute`
167 | …                         media.ttl_seconds,
168 | …                     )
    |
info: Element `DocumentAttribute` of this union is not assignable to `DocumentAttributeAudio`
info: Function defined here
  --> pyrogram/types/messages_and_media/voice.py:69:9
   |
68 |     @staticmethod
69 |     def _parse(
   |         ^^^^^^
70 |         client,
71 |         voice: raw.types.Document,
72 |         attributes: raw.types.DocumentAttributeAudio,
   |         -------------------------------------------- Parameter declared here
73 |     ) -> Voice:
74 |         return Voice(
   |
info: rule `invalid-argument-type` is enabled by default

error[too-many-positional-arguments]: Too many positional arguments to function `_parse`: expected 3, got 4
   --> pyrogram/types/messages_and_media/draft_message.py:167:33
    |
165 | …                         doc,
166 | …                         audio_attributes,
167 | …                         media.ttl_seconds,
    |                           ^^^^^^^^^^^^^^^^^
168 | …                     )
169 | …                     media_type = enums.MessageMediaType.VOICE
    |
info: Function signature here
  --> pyrogram/types/messages_and_media/voice.py:69:9
   |
68 |       @staticmethod
69 |       def _parse(
   |  _________^
70 | |         client,
71 | |         voice: raw.types.Document,
72 | |         attributes: raw.types.DocumentAttributeAudio,
73 | |     ) -> Voice:
   | |______________^
74 |           return Voice(
75 |               file_id=FileId(
   |
info: rule `too-many-positional-arguments` is enabled by default

error[unresolved-attribute]: Module `pyrogram.utils` has no member `get_first_url`
   --> pyrogram/types/messages_and_media/draft_message.py:180:36
    |
178 |                 else:
179 |                     media_type = None
180 |                     web_page_url = utils.get_first_url(raw_draft_message)
    |                                    ^^^^^^^^^^^^^^^^^^^
181 |                 link_preview_options = types.LinkPreviewOptions._parse(
182 |                     client,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Module `pyrogram.types` has no member `LinkPreviewOptions`
   --> pyrogram/types/messages_and_media/draft_message.py:181:40
    |
179 |                     media_type = None
180 |                     web_page_url = utils.get_first_url(raw_draft_message)
181 |                 link_preview_options = types.LinkPreviewOptions._parse(
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^
182 |                     client,
183 |                     media,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Module `pyrogram.types` has no member `LinkPreviewOptions`
   --> pyrogram/types/messages_and_media/draft_message.py:189:36
    |
188 |         if not link_preview_options and web_page_url:
189 |             link_preview_options = types.LinkPreviewOptions._parse(
    |                                    ^^^^^^^^^^^^^^^^^^^^^^^^
190 |                 client,
191 |                 None,
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/messages_and_media/draft_message.py:201:13
    |
199 |             entities=entities or None,
200 |             link_preview_options=link_preview_options,
201 |             effect_id=raw_draft_message.effect,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `str | None`, found `Unknown | int | None`
202 |             video_note=video_note,
203 |             voice=voice,
    |
info: Element `int` of this union is not assignable to `str | None`
info: Method defined here
  --> pyrogram/types/messages_and_media/draft_message.py:65:9
   |
63 |     """
64 |
65 |     def __init__(
   |         ^^^^^^^^
66 |         self,
67 |         *,
   |
  ::: pyrogram/types/messages_and_media/draft_message.py:74:9
   |
72 |         entities: list[types.MessageEntity] | None = None,
73 |         link_preview_options: types.LinkPreviewOptions = None,
74 |         effect_id: str | None = None,
   |         ---------------------------- Parameter declared here
75 |         video_note: types.VideoNote  | None = None,
76 |         voice: types.Voice  | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[unknown-argument]: Argument `file_name` does not match any known parameter of bound method `__init__`
   --> pyrogram/types/messages_and_media/draft_message.py:209:13
    |
207 |                 False,
208 |             ),
209 |             file_name=file_name,
    |             ^^^^^^^^^^^^^^^^^^^
210 |             media=media_type,
211 |             _raw=raw_draft_message,
    |
info: Method signature here
  --> pyrogram/types/messages_and_media/draft_message.py:65:9
   |
63 |       """
64 |
65 |       def __init__(
   |  _________^
66 | |         self,
67 | |         *,
68 | |         reply_to_message_id: int | None = None,
69 | |         reply_to_message: types.Message  | None = None,
70 | |         date: datetime | None = None,
71 | |         text: Str  | None = None,
72 | |         entities: list[types.MessageEntity] | None = None,
73 | |         link_preview_options: types.LinkPreviewOptions = None,
74 | |         effect_id: str | None = None,
75 | |         video_note: types.VideoNote  | None = None,
76 | |         voice: types.Voice  | None = None,
77 | |         show_caption_above_media: bool | None = None,
78 | |         media: enums.MessageMediaType  | None = None,
79 | |         empty: bool | None = None,
80 | |         chat: types.Chat  | None = None,
81 | |         _raw: raw.types.DraftMessage  | None = None,
82 | |     ) -> None:
   | |_____________^
83 |           super().__init__()
   |
info: rule `unknown-argument` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/messages_and_media/exported_story_link.py:29:34
   |
27 |         exportedstorylink: raw.types.ExportedStoryLink,
28 |     ) -> ExportedStoryLink:
29 |         return ExportedStoryLink(link=getattr(exportedstorylink, "link", None))
   |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `str`, found `Any | None`
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/messages_and_media/exported_story_link.py:20:9
   |
18 |     """
19 |
20 |     def __init__(self, *, link: str) -> None:
   |         ^^^^^^^^          --------- Parameter declared here
21 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Module `pyrogram.types` has no member `TextWithEntities`
  --> pyrogram/types/messages_and_media/fact_check.py:29:15
   |
27 |         need_check: bool,
28 |         country: str | None = None,
29 |         text: types.TextWithEntities | None = None,
   |               ^^^^^^^^^^^^^^^^^^^^^^
30 |         hash: int,
31 |     ) -> None:
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/messages_and_media/fact_check.py:45:13
   |
44 |         return FactCheck(
45 |             need_check=fact_check.need_check,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `bool`, found `Unknown | bool | None`
46 |             country=fact_check.country,
47 |             text=types.TextWithEntities(
   |
info: Element `None` of this union is not assignable to `bool`
info: Method defined here
  --> pyrogram/types/messages_and_media/fact_check.py:24:9
   |
22 |     """
23 |
24 |     def __init__(
   |         ^^^^^^^^
25 |         self,
26 |         *,
27 |         need_check: bool,
   |         ---------------- Parameter declared here
28 |         country: str | None = None,
29 |         text: types.TextWithEntities | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Module `pyrogram.types` has no member `TextWithEntities`
  --> pyrogram/types/messages_and_media/fact_check.py:47:18
   |
45 |             need_check=fact_check.need_check,
46 |             country=fact_check.country,
47 |             text=types.TextWithEntities(
   |                  ^^^^^^^^^^^^^^^^^^^^^^
48 |                 text=fact_check.text.text,
49 |                 entities=types.List(
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `text` is not defined on `TextWithEntities & ~AlwaysFalsy` in union `(Unknown & ~AlwaysFalsy) | (TextWithEntities & ~AlwaysFalsy)`
  --> pyrogram/types/messages_and_media/fact_check.py:48:22
   |
46 |             country=fact_check.country,
47 |             text=types.TextWithEntities(
48 |                 text=fact_check.text.text,
   |                      ^^^^^^^^^^^^^^^^^^^^
49 |                 entities=types.List(
50 |                     [
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `entities` is not defined on `TextWithEntities & ~AlwaysFalsy` in union `(Unknown & ~AlwaysFalsy) | (TextWithEntities & ~AlwaysFalsy)`
  --> pyrogram/types/messages_and_media/fact_check.py:52:39
   |
50 |                     [
51 |                         types.MessageEntity._parse(client, entity, {})
52 |                         for entity in fact_check.text.entities
   |                                       ^^^^^^^^^^^^^^^^^^^^^^^^
53 |                     ],
54 |                 ),
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `game` is not defined on `MessageMedia` in union `Unknown | MessageMedia`
  --> pyrogram/types/messages_and_media/game.py:55:32
   |
53 |     @staticmethod
54 |     def _parse(client, message: raw.types.Message) -> Game:
55 |         game: raw.types.Game = message.media.game
   |                                ^^^^^^^^^^^^^^^^^^
56 |         animation = None
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/types/messages_and_media/game.py:70:17
   |
68 |                 client,
69 |                 game.document,
70 |                 attributes.get(raw.types.DocumentAttributeVideo),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `DocumentAttributeVideo`, found `Unknown | None`
71 |                 file_name,
72 |             )
   |
info: Element `None` of this union is not assignable to `DocumentAttributeVideo`
info: Function defined here
  --> pyrogram/types/messages_and_media/animation.py:85:9
   |
84 |     @staticmethod
85 |     def _parse(
   |         ^^^^^^
86 |         client,
87 |         animation: raw.types.Document,
88 |         video_attributes: raw.types.DocumentAttributeVideo,
   |         -------------------------------------------------- Parameter declared here
89 |         file_name: str,
90 |     ) -> Animation:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/types/messages_and_media/game.py:71:17
   |
69 |                 game.document,
70 |                 attributes.get(raw.types.DocumentAttributeVideo),
71 |                 file_name,
   |                 ^^^^^^^^^ Expected `str`, found `Any | None`
72 |             )
   |
info: Element `None` of this union is not assignable to `str`
info: Function defined here
  --> pyrogram/types/messages_and_media/animation.py:85:9
   |
84 |     @staticmethod
85 |     def _parse(
   |         ^^^^^^
86 |         client,
87 |         animation: raw.types.Document,
88 |         video_attributes: raw.types.DocumentAttributeVideo,
89 |         file_name: str,
   |         -------------- Parameter declared here
90 |     ) -> Animation:
91 |         return Animation(
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `MessageActionGiftPremium` has no attribute `months`
  --> pyrogram/types/messages_and_media/gifted_premium.py:65:25
   |
63 |             cryptocurrency=getattr(gifted_premium, "crypto_currency", None),
64 |             cryptocurrency_amount=getattr(gifted_premium, "crypto_amount", None),
65 |             month_count=gifted_premium.months,
   |                         ^^^^^^^^^^^^^^^^^^^^^
66 |         )
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-assignment]: Object of type `Unknown | MessageMedia` is not assignable to `MessageMediaGiveaway`
  --> pyrogram/types/messages_and_media/giveaway.py:65:19
   |
63 |     @staticmethod
64 |     async def _parse(client, message: raw.types.Message) -> Giveaway:
65 |         giveaway: raw.types.MessageMediaGiveaway = message.media
   |                   ------------------------------   ^^^^^^^^^^^^^ Incompatible value of type `Unknown | MessageMedia`
   |                   |
   |                   Declared type
66 |         chats = []
67 |         private_ids = []
   |
info: rule `invalid-assignment` is enabled by default

error[invalid-argument-type]: Argument to function `sleep` is incorrect
  --> pyrogram/types/messages_and_media/giveaway.py:77:37
   |
75 |                 )
76 |             except FloodWait as e:
77 |                 await asyncio.sleep(e.value)
   |                                     ^^^^^^^ Expected `int | float`, found `Unknown | int | str | RpcError | None`
78 |             except Exception:
79 |                 private_ids.append(chat_id)
   |
info: Union element `str`, and 2 more union elements, are not assignable to `int | float`
info: Matching overload defined here
   --> stdlib/asyncio/tasks.pyi:541:15
    |
540 |     @overload
541 |     async def sleep(delay: float) -> None:
    |               ^^^^^ ------------ Parameter declared here
542 |         """Coroutine that completes after a given time (in seconds)."""
    |
info: Non-matching overloads for function `sleep`:
info:   [_T](delay: int | float, result: _T) -> CoroutineType[Any, Any, _T]
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/messages_and_media/giveaway.py:86:13
   |
84 |             chats=chats,
85 |             quantity=giveaway.quantity,
86 |             months=giveaway.months,
   |             ^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | int | None`
87 |             expire_date=utils.timestamp_to_datetime(giveaway.until_date),
88 |             new_subscribers=giveaway.only_new_subscribers,
   |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/types/messages_and_media/giveaway.py:41:9
   |
39 |     """
40 |
41 |     def __init__(
   |         ^^^^^^^^
42 |         self,
43 |         *,
   |
  ::: pyrogram/types/messages_and_media/giveaway.py:47:9
   |
45 |         chats: list[types.Chat],
46 |         quantity: int,
47 |         months: int,
   |         ----------- Parameter declared here
48 |         expire_date: datetime,
49 |         new_subscribers: bool,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/messages_and_media/giveaway.py:87:13
   |
85 |             quantity=giveaway.quantity,
86 |             months=giveaway.months,
87 |             expire_date=utils.timestamp_to_datetime(giveaway.until_date),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `datetime`, found `datetime | None`
88 |             new_subscribers=giveaway.only_new_subscribers,
89 |             allowed_countries=giveaway.countries_iso2
   |
info: Element `None` of this union is not assignable to `datetime`
info: Method defined here
  --> pyrogram/types/messages_and_media/giveaway.py:41:9
   |
39 |     """
40 |
41 |     def __init__(
   |         ^^^^^^^^
42 |         self,
43 |         *,
   |
  ::: pyrogram/types/messages_and_media/giveaway.py:48:9
   |
46 |         quantity: int,
47 |         months: int,
48 |         expire_date: datetime,
   |         --------------------- Parameter declared here
49 |         new_subscribers: bool,
50 |         allowed_countries: list[str] | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/messages_and_media/giveaway.py:88:13
   |
86 |             months=giveaway.months,
87 |             expire_date=utils.timestamp_to_datetime(giveaway.until_date),
88 |             new_subscribers=giveaway.only_new_subscribers,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `bool`, found `Unknown | bool | None`
89 |             allowed_countries=giveaway.countries_iso2
90 |             if len(giveaway.countries_iso2) > 0
   |
info: Element `None` of this union is not assignable to `bool`
info: Method defined here
  --> pyrogram/types/messages_and_media/giveaway.py:41:9
   |
39 |     """
40 |
41 |     def __init__(
   |         ^^^^^^^^
42 |         self,
43 |         *,
   |
  ::: pyrogram/types/messages_and_media/giveaway.py:49:9
   |
47 |         months: int,
48 |         expire_date: datetime,
49 |         new_subscribers: bool,
   |         --------------------- Parameter declared here
50 |         allowed_countries: list[str] | None = None,
51 |         private_channel_ids: list[int] | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `len` is incorrect
  --> pyrogram/types/messages_and_media/giveaway.py:90:20
   |
88 |             new_subscribers=giveaway.only_new_subscribers,
89 |             allowed_countries=giveaway.countries_iso2
90 |             if len(giveaway.countries_iso2) > 0
   |                    ^^^^^^^^^^^^^^^^^^^^^^^ Expected `Sized`, found `Unknown | list[str] | None`
91 |             else None,
92 |             private_channel_ids=private_ids if len(private_ids) > 0 else None,
   |
info: Element `None` of this union is not assignable to `Sized`
info: Function defined here
    --> stdlib/builtins.pyi:3784:5
     |
3782 |     """
3783 |
3784 | def len(obj: Sized, /) -> int:
     |     ^^^ ---------- Parameter declared here
3785 |     """Return the number of items in a container."""
     |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `channel_id` is not defined on `MessageActionGiveawayResults` in union `MessageActionGiveawayResults | MessageMediaGiveawayResults`
  --> pyrogram/types/messages_and_media/giveaway_result.py:88:44
   |
86 |         winners = None
87 |         if not hide_winners:
88 |             chat_id = utils.get_channel_id(giveaway_result.channel_id)
   |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
89 |             chat = await client.invoke(
90 |                 raw.functions.channels.GetChannels(
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `launch_msg_id` is not defined on `MessageActionGiveawayResults` in union `MessageActionGiveawayResults | MessageMediaGiveawayResults`
  --> pyrogram/types/messages_and_media/giveaway_result.py:97:17
   |
95 |             giveaway_message = await client.get_messages(
96 |                 chat_id,
97 |                 giveaway_result.launch_msg_id,
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
98 |             )
99 |             expired_date = utils.timestamp_to_datetime(giveaway_result.until_date)
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `until_date` is not defined on `MessageActionGiveawayResults` in union `MessageActionGiveawayResults | MessageMediaGiveawayResults`
   --> pyrogram/types/messages_and_media/giveaway_result.py:99:56
    |
 97 |                 giveaway_result.launch_msg_id,
 98 |             )
 99 |             expired_date = utils.timestamp_to_datetime(giveaway_result.until_date)
    |                                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^
100 |             winners = []
101 |             for winner in giveaway_result.winners:
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `winners` is not defined on `MessageActionGiveawayResults` in union `MessageActionGiveawayResults | MessageMediaGiveawayResults`
   --> pyrogram/types/messages_and_media/giveaway_result.py:101:27
    |
 99 |             expired_date = utils.timestamp_to_datetime(giveaway_result.until_date)
100 |             winners = []
101 |             for winner in giveaway_result.winners:
    |                           ^^^^^^^^^^^^^^^^^^^^^^^
102 |                 winners.append(await client.get_users(winner))
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/messages_and_media/giveaway_result.py:107:13
    |
105 |             chat=chat,
106 |             giveaway_message=giveaway_message,
107 |             quantity=getattr(giveaway_result, "winners_count", None),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Any | None`
108 |             unclaimed_quantity=getattr(giveaway_result, "unclaimed_count", None),
109 |             winners=winners,
    |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/types/messages_and_media/giveaway_result.py:48:9
   |
46 |     """
47 |
48 |     def __init__(
   |         ^^^^^^^^
49 |         self,
50 |         *,
   |
  ::: pyrogram/types/messages_and_media/giveaway_result.py:54:9
   |
52 |         chat: types.Chat  | None = None,
53 |         giveaway_message: types.Message  | None = None,
54 |         quantity: int,
   |         ------------- Parameter declared here
55 |         unclaimed_quantity: int,
56 |         winners: list[types.User] | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/messages_and_media/giveaway_result.py:108:13
    |
106 |             giveaway_message=giveaway_message,
107 |             quantity=getattr(giveaway_result, "winners_count", None),
108 |             unclaimed_quantity=getattr(giveaway_result, "unclaimed_count", None),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Any | None`
109 |             winners=winners,
110 |             months=getattr(giveaway_result, "months", None),
    |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/types/messages_and_media/giveaway_result.py:48:9
   |
46 |     """
47 |
48 |     def __init__(
   |         ^^^^^^^^
49 |         self,
50 |         *,
   |
  ::: pyrogram/types/messages_and_media/giveaway_result.py:55:9
   |
53 |         giveaway_message: types.Message  | None = None,
54 |         quantity: int,
55 |         unclaimed_quantity: int,
   |         ----------------------- Parameter declared here
56 |         winners: list[types.User] | None = None,
57 |         months: int | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/types/messages_and_media/location.py:39:16
   |
37 |                 client=client,
38 |             )
39 |         return None
   |                ^^^^ expected `Location`, found `None`
   |
  ::: pyrogram/types/messages_and_media/location.py:32:58
   |
31 |     @staticmethod
32 |     def _parse(client, geo_point: raw.types.GeoPoint) -> Location:
   |                                                          -------- Expected `Location` because of return type
33 |         if isinstance(geo_point, raw.types.GeoPoint):
34 |             return Location(
   |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to function `unparse` is incorrect
  --> pyrogram/types/messages_and_media/message.py:36:37
   |
34 |     @property
35 |     def markdown(self):
36 |         return Parser.unparse(self, self.entities, False)
   |                                     ^^^^^^^^^^^^^ Expected `list[Unknown]`, found `Unknown | None`
37 |
38 |     @property
   |
info: Element `None` of this union is not assignable to `list[Unknown]`
info: Function defined here
  --> pyrogram/parser/parser.py:37:9
   |
36 |     @staticmethod
37 |     def unparse(text: str, entities: list, is_html: bool):
   |         ^^^^^^^            -------------- Parameter declared here
38 |         if is_html:
39 |             return HTML.unparse(text, entities)
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `unparse` is incorrect
  --> pyrogram/types/messages_and_media/message.py:40:37
   |
38 |     @property
39 |     def html(self):
40 |         return Parser.unparse(self, self.entities, True)
   |                                     ^^^^^^^^^^^^^ Expected `list[Unknown]`, found `Unknown | None`
41 |
42 |     def __getitem__(self, item):
   |
info: Element `None` of this union is not assignable to `list[Unknown]`
info: Function defined here
  --> pyrogram/parser/parser.py:37:9
   |
36 |     @staticmethod
37 |     def unparse(text: str, entities: list, is_html: bool):
   |         ^^^^^^^            -------------- Parameter declared here
38 |         if is_html:
39 |             return HTML.unparse(text, entities)
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Module `pyrogram.types` has no member `ChatTheme`
   --> pyrogram/types/messages_and_media/message.py:540:29
    |
538 |         giveaway_result: types.GiveawayResult  | None = None,
539 |         boosts_applied: int | None = None,
540 |         chat_theme_updated: types.ChatTheme = None,
    |                             ^^^^^^^^^^^^^^^
541 |         chat_wallpaper_updated: types.ChatWallpaper = None,
542 |         contact_registered: types.ContactRegistered  | None = None,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Module `pyrogram.types` has no member `ChatWallpaper`
   --> pyrogram/types/messages_and_media/message.py:541:33
    |
539 |         boosts_applied: int | None = None,
540 |         chat_theme_updated: types.ChatTheme = None,
541 |         chat_wallpaper_updated: types.ChatWallpaper = None,
    |                                 ^^^^^^^^^^^^^^^^^^^
542 |         contact_registered: types.ContactRegistered  | None = None,
543 |         gift_code: types.GiftCode = None,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Module `pyrogram.types` has no member `GiftCode`
   --> pyrogram/types/messages_and_media/message.py:543:20
    |
541 |         chat_wallpaper_updated: types.ChatWallpaper = None,
542 |         contact_registered: types.ContactRegistered  | None = None,
543 |         gift_code: types.GiftCode = None,
    |                    ^^^^^^^^^^^^^^
544 |         user_gift: types.UserGift  | None = None,
545 |         star_gift: types.StarGift = None,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Module `pyrogram.types` has no member `StarGift`
   --> pyrogram/types/messages_and_media/message.py:545:20
    |
543 |         gift_code: types.GiftCode = None,
544 |         user_gift: types.UserGift  | None = None,
545 |         star_gift: types.StarGift = None,
    |                    ^^^^^^^^^^^^^^
546 |         screenshot_taken: types.ScreenshotTaken  | None = None,
547 |         invoice: types.Invoice  | None = None,
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
   --> pyrogram/types/messages_and_media/message.py:596:9
    |
594 |           successful_payment: types.SuccessfulPayment  | None = None,
595 |           payment_refunded: types.PaymentRefunded  | None = None,
596 | /         reply_markup: types.InlineKeyboardMarkup
597 | |         | types.ReplyKeyboardMarkup
598 | |         | types.ReplyKeyboardRemove
599 | |         | types.ForceReply = None,
    | |_________________________________^
600 |           reactions: list[types.Reaction] | None = None,
601 |           chat_join_type: enums.ChatJoinType  | None = None,
    |
info: rule `invalid-parameter-default` is enabled by default

error[unresolved-attribute]: Object of type `Client` has no attribute `listen`
   --> pyrogram/types/messages_and_media/message.py:759:22
    |
757 |         message_id = getattr(self, "id", getattr(self, "message_id", None))
758 |
759 |         return await self._client.listen(
    |                      ^^^^^^^^^^^^^^^^^^^
760 |             filters=filters,
761 |             timeout=timeout,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
   --> pyrogram/types/messages_and_media/message.py:764:21
    |
762 |             listener_type=pyrogram.enums.ListenerTypes.CALLBACK_QUERY,
763 |             unallowed_click_alert=alert,
764 |             chat_id=self.chat.id,
    |                     ^^^^^^^^^^^^
765 |             user_id=from_user_id,
766 |             message_id=message_id,
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/messages_and_media/message.py:782:70
    |
780 |     ):
781 |         if isinstance(message, raw.types.MessageEmpty):
782 |             return Message(id=message.id, empty=True, client=client, raw=message)
    |                                                                      ^^^^^^^^^^^ Expected `Message | None`, found `MessageEmpty`
783 |
784 |         from_id = utils.get_raw_peer_id(message.from_id)
    |
info: Method defined here
   --> pyrogram/types/messages_and_media/message.py:473:9
    |
471 |     # TODO: Add game missing field, Also connected_website
472 |
473 |     def __init__(
    |         ^^^^^^^^
474 |         self,
475 |         *,
    |
   ::: pyrogram/types/messages_and_media/message.py:602:9
    |
600 |         reactions: list[types.Reaction] | None = None,
601 |         chat_join_type: enums.ChatJoinType  | None = None,
602 |         raw: raw.types.Message  | None = None,
    |         ------------------------------------- Parameter declared here
603 |     ) -> None:
604 |         super().__init__(client)
    |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `Message & ~MessageEmpty` has no attribute `from_id`
   --> pyrogram/types/messages_and_media/message.py:784:41
    |
782 |             return Message(id=message.id, empty=True, client=client, raw=message)
783 |
784 |         from_id = utils.get_raw_peer_id(message.from_id)
    |                                         ^^^^^^^^^^^^^^^
785 |         peer_id = utils.get_raw_peer_id(message.peer_id)
786 |         user_id = from_id or peer_id
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `Message & ~MessageEmpty` has no attribute `peer_id`
   --> pyrogram/types/messages_and_media/message.py:785:41
    |
784 |         from_id = utils.get_raw_peer_id(message.from_id)
785 |         peer_id = utils.get_raw_peer_id(message.peer_id)
    |                                         ^^^^^^^^^^^^^^^
786 |         user_id = from_id or peer_id
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `Message & ~MessageEmpty` has no attribute `from_id`
   --> pyrogram/types/messages_and_media/message.py:789:24
    |
788 |         if (
789 |             isinstance(message.from_id, raw.types.PeerUser)
    |                        ^^^^^^^^^^^^^^^
790 |             and isinstance(message.peer_id, raw.types.PeerUser)
791 |             and (from_id not in users or peer_id not in users)
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `Message & ~MessageEmpty` has no attribute `peer_id`
   --> pyrogram/types/messages_and_media/message.py:790:28
    |
788 |         if (
789 |             isinstance(message.from_id, raw.types.PeerUser)
790 |             and isinstance(message.peer_id, raw.types.PeerUser)
    |                            ^^^^^^^^^^^^^^^
791 |             and (from_id not in users or peer_id not in users)
792 |         ):
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/messages_and_media/message.py:796:25
    |
794 |                   r = await client.invoke(
795 |                       raw.functions.users.GetUsers(
796 | /                         id=[
797 | |                             await client.resolve_peer(from_id),
798 | |                             await client.resolve_peer(peer_id),
799 | |                         ],
    | |_________________________^ Expected `list[InputUser]`, found `list[Unknown | InputPeer | InputUser | InputChannel]`
800 |                       ),
801 |                   )
    |
info: Method defined here
  --> pyrogram/raw/functions/users/get_users.py:36:9
   |
34 |     QUALNAME = "functions.users.GetUsers"
35 |
36 |     def __init__(self, *, id: List["raw.base.InputUser"]) -> None:
   |         ^^^^^^^^          ------------------------------ Parameter declared here
37 |         self.id = id  # Vector<InputUser>
   |
info: Union variant `bound method GetUsers.__init__(*, id: list[InputUser]) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetUsers.__init__(*, id: list[InputUser]) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `resolve_peer` is incorrect
   --> pyrogram/types/messages_and_media/message.py:797:55
    |
795 |                     raw.functions.users.GetUsers(
796 |                         id=[
797 |                             await client.resolve_peer(from_id),
    |                                                       ^^^^^^^ Expected `int | str`, found `int | None`
798 |                             await client.resolve_peer(peer_id),
799 |                         ],
    |
info: Element `None` of this union is not assignable to `int | str`
info: Method defined here
  --> pyrogram/methods/advanced/resolve_peer.py:14:15
   |
13 | class ResolvePeer:
14 |     async def resolve_peer(
   |               ^^^^^^^^^^^^
15 |         self: pyrogram.Client,
16 |         peer_id: int | str,
   |         ------------------ Parameter declared here
17 |     ) -> raw.base.InputPeer | raw.base.InputUser | raw.base.InputChannel:
18 |         """Get the InputPeer of a known peer id.
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `resolve_peer` is incorrect
   --> pyrogram/types/messages_and_media/message.py:798:55
    |
796 |                         id=[
797 |                             await client.resolve_peer(from_id),
798 |                             await client.resolve_peer(peer_id),
    |                                                       ^^^^^^^ Expected `int | str`, found `int | None`
799 |                         ],
800 |                     ),
    |
info: Element `None` of this union is not assignable to `int | str`
info: Method defined here
  --> pyrogram/methods/advanced/resolve_peer.py:14:15
   |
13 | class ResolvePeer:
14 |     async def resolve_peer(
   |               ^^^^^^^^^^^^
15 |         self: pyrogram.Client,
16 |         peer_id: int | str,
   |         ------------------ Parameter declared here
17 |     ) -> raw.base.InputPeer | raw.base.InputUser | raw.base.InputChannel:
18 |         """Get the InputPeer of a known peer id.
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/messages_and_media/message.py:852:51
    |
850 |             service_type = enums.MessageServiceType.UNKNOWN
851 |
852 |             from_user = types.User._parse(client, users.get(user_id))
    |                                                   ^^^^^^^^^^^^^^^^^^ Expected `User`, found `Unknown | None`
853 |             sender_chat = (
854 |                 types.Chat._parse(client, message, users, chats, is_chat=False)
    |
info: Element `None` of this union is not assignable to `User`
info: Function defined here
   --> pyrogram/types/user_and_chats/user.py:278:9
    |
277 |     @staticmethod
278 |     def _parse(client, user: raw.base.User) -> User | None:
    |         ^^^^^^         ------------------- Parameter declared here
279 |         if user is None or isinstance(user, raw.types.UserEmpty):
280 |             return None
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/messages_and_media/message.py:900:61
    |
898 |                 service_type = enums.MessageServiceType.CHANNEL_CHAT_CREATED
899 |             elif isinstance(action, raw.types.MessageActionChatEditPhoto):
900 |                 new_chat_photo = types.Photo._parse(client, action.photo)
    |                                                             ^^^^^^^^^^^^ Expected `pyrogram.raw.types.photo.Photo`, found `Unknown | pyrogram.raw.base.photo.Photo`
901 |                 service_type = enums.MessageServiceType.NEW_CHAT_PHOTO
902 |             elif isinstance(action, raw.types.MessageActionBotAllowed):
    |
info: Element `Photo` of this union is not assignable to `pyrogram.raw.types.photo.Photo`
info: Function defined here
  --> pyrogram/types/messages_and_media/photo.py:75:9
   |
74 |     @staticmethod
75 |     def _parse(
   |         ^^^^^^
76 |         client,
77 |         photo: raw.types.Photo,
   |         ---------------------- Parameter declared here
78 |         ttl_seconds: int | None = None,
79 |     ) -> Photo:
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `User | None`
   --> pyrogram/types/messages_and_media/message.py:961:21
    |
959 |                     client,
960 |                     action,
961 |                     from_user.id,
    |                     ^^^^^^^^^^^^
962 |                 )
963 |                 service_type = enums.MessageServiceType.GIFTED_PREMIUM
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Class `GiveawayLaunched` has no attribute `_parse`
   --> pyrogram/types/messages_and_media/message.py:965:37
    |
963 |                 service_type = enums.MessageServiceType.GIFTED_PREMIUM
964 |             elif isinstance(action, raw.types.MessageActionGiveawayLaunch):
965 |                 giveaway_launched = types.GiveawayLaunched._parse(client, action)
    |                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
966 |                 service_type = enums.MessageServiceType.GIVEAWAY_LAUNCHED
967 |             elif isinstance(action, raw.types.MessageActionGiveawayResults):
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Module `pyrogram.types` has no member `ChatTheme`
   --> pyrogram/types/messages_and_media/message.py:988:38
    |
986 |                 service_type = enums.MessageServiceType.PAYMENT_REFUNDED
987 |             elif isinstance(action, raw.types.MessageActionSetChatTheme):
988 |                 chat_theme_updated = types.ChatTheme._parse(action)
    |                                      ^^^^^^^^^^^^^^^
989 |                 service_type = enums.MessageServiceType.CHAT_THEME_UPDATED
990 |             elif isinstance(action, raw.types.MessageActionSetChatWallPaper):
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Class `MessageServiceType` has no attribute `CHAT_THEME_UPDATED`
   --> pyrogram/types/messages_and_media/message.py:989:32
    |
987 |             elif isinstance(action, raw.types.MessageActionSetChatTheme):
988 |                 chat_theme_updated = types.ChatTheme._parse(action)
989 |                 service_type = enums.MessageServiceType.CHAT_THEME_UPDATED
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
990 |             elif isinstance(action, raw.types.MessageActionSetChatWallPaper):
991 |                 chat_wallpaper_updated = types.ChatWallpaper._parse(client, action)
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Module `pyrogram.types` has no member `ChatWallpaper`
   --> pyrogram/types/messages_and_media/message.py:991:42
    |
989 |                 service_type = enums.MessageServiceType.CHAT_THEME_UPDATED
990 |             elif isinstance(action, raw.types.MessageActionSetChatWallPaper):
991 |                 chat_wallpaper_updated = types.ChatWallpaper._parse(client, action)
    |                                          ^^^^^^^^^^^^^^^^^^^
992 |                 service_type = enums.MessageServiceType.CHAT_WALLPAPER_UPDATED
993 |             elif isinstance(action, raw.types.MessageActionContactSignUp):
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Class `MessageServiceType` has no attribute `CHAT_WALLPAPER_UPDATED`
   --> pyrogram/types/messages_and_media/message.py:992:32
    |
990 |             elif isinstance(action, raw.types.MessageActionSetChatWallPaper):
991 |                 chat_wallpaper_updated = types.ChatWallpaper._parse(client, action)
992 |                 service_type = enums.MessageServiceType.CHAT_WALLPAPER_UPDATED
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
993 |             elif isinstance(action, raw.types.MessageActionContactSignUp):
994 |                 contact_registered = types.ContactRegistered()
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Module `pyrogram.types` has no member `GiftCode`
   --> pyrogram/types/messages_and_media/message.py:997:29
    |
995 |                 service_type = enums.MessageServiceType.CONTACT_REGISTERED
996 |             elif isinstance(action, raw.types.MessageActionGiftCode):
997 |                 gift_code = types.GiftCode._parse(client, action, chats)
    |                             ^^^^^^^^^^^^^^
998 |                 service_type = enums.MessageServiceType.GIFT_CODE
999 |             elif isinstance(action, raw.types.MessageActionStarGift):
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Class `MessageServiceType` has no attribute `GIFT_CODE`
    --> pyrogram/types/messages_and_media/message.py:998:32
     |
 996 |             elif isinstance(action, raw.types.MessageActionGiftCode):
 997 |                 gift_code = types.GiftCode._parse(client, action, chats)
 998 |                 service_type = enums.MessageServiceType.GIFT_CODE
     |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
 999 |             elif isinstance(action, raw.types.MessageActionStarGift):
1000 |                 user_gift = await types.UserGift._parse_action(
     |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Module `pyrogram.types` has no member `StarGift`
    --> pyrogram/types/messages_and_media/message.py:1007:35
     |
1005 |                 service_type = enums.MessageServiceType.USER_GIFT
1006 |             elif isinstance(action, raw.types.MessageActionStarGift):
1007 |                 star_gift = await types.StarGift._parse_action(
     |                                   ^^^^^^^^^^^^^^
1008 |                     client,
1009 |                     message,
     |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1025:17
     |
1023 |                 from_user=from_user,
1024 |                 service=service_type,
1025 |                 new_chat_members=new_chat_members,
     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `list[User] | None`, found `None | list[Unknown | User | None]`
1026 |                 chat_joined_by_request=chat_joined_by_request,
1027 |                 left_chat_member=left_chat_member,
     |
info: Element `list[Unknown | User | None]` of this union is not assignable to `list[User] | None`
info: Method defined here
   --> pyrogram/types/messages_and_media/message.py:473:9
    |
471 |     # TODO: Add game missing field, Also connected_website
472 |
473 |     def __init__(
    |         ^^^^^^^^
474 |         self,
475 |         *,
    |
   ::: pyrogram/types/messages_and_media/message.py:560:9
    |
558 |         poll: types.Poll  | None = None,
559 |         dice: types.Dice  | None = None,
560 |         new_chat_members: list[types.User] | None = None,
    |         ------------------------------------------------ Parameter declared here
561 |         chat_joined_by_request: types.ChatJoinedByRequest  | None = None,
562 |         left_chat_member: types.User  | None = None,
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1040:17
     |
1038 |                 bot_allowed=bot_allowed,
1039 |                 channel_chat_created=channel_chat_created,
1040 |                 chats_shared=chats_shared,
     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `list[RequestedChats] | None`, found `None | RequestedChats`
1041 |                 is_topic_message=is_topic_message,
1042 |                 forum_topic_created=forum_topic_created,
     |
info: Element `RequestedChats` of this union is not assignable to `list[RequestedChats] | None`
info: Method defined here
   --> pyrogram/types/messages_and_media/message.py:473:9
    |
471 |     # TODO: Add game missing field, Also connected_website
472 |
473 |     def __init__(
    |         ^^^^^^^^
474 |         self,
475 |         *,
    |
   ::: pyrogram/types/messages_and_media/message.py:580:9
    |
578 |         command: list[str] | None = None,
579 |         bot_allowed: types.BotAllowed  | None = None,
580 |         chats_shared: list[types.RequestedChats] | None = None,
    |         ------------------------------------------------------ Parameter declared here
581 |         forum_topic_created: types.ForumTopicCreated  | None = None,
582 |         forum_topic_closed: types.ForumTopicClosed  | None = None,
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1066:17
     |
1064 |                 gift_code=gift_code,
1065 |                 screenshot_taken=screenshot_taken,
1066 |                 raw=message,
     |                 ^^^^^^^^^^^ Expected `Message | None`, found `MessageService & ~MessageEmpty`
1067 |                 chat_join_type=chat_join_type,
1068 |                 client=client,
     |
info: Method defined here
   --> pyrogram/types/messages_and_media/message.py:473:9
    |
471 |     # TODO: Add game missing field, Also connected_website
472 |
473 |     def __init__(
    |         ^^^^^^^^
474 |         self,
475 |         *,
    |
   ::: pyrogram/types/messages_and_media/message.py:602:9
    |
600 |         reactions: list[types.Reaction] | None = None,
601 |         chat_join_type: enums.ChatJoinType  | None = None,
602 |         raw: raw.types.Message  | None = None,
    |         ------------------------------------- Parameter declared here
603 |     ) -> None:
604 |         super().__init__(client)
    |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `type` is not defined on `None` in union `Unknown | Chat | None`
    --> pyrogram/types/messages_and_media/message.py:1071:16
     |
1069 |                 # TODO: supergroup_chat_created
1070 |             )
1071 |             if parsed_message.chat.type is not enums.ChatType.CHANNEL:
     |                ^^^^^^^^^^^^^^^^^^^^^^^^
1072 |                 parsed_message.sender_chat = sender_chat
     |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
    --> pyrogram/types/messages_and_media/message.py:1077:25
     |
1075 |                 try:
1076 |                     parsed_message.pinned_message = await client.get_messages(
1077 |                         parsed_message.chat.id,
     |                         ^^^^^^^^^^^^^^^^^^^^^^
1078 |                         reply_to_message_ids=message.id,
1079 |                         replies=0,
     |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
    --> pyrogram/types/messages_and_media/message.py:1097:29
     |
1095 |                     try:
1096 |                         parsed_message.reply_to_message = await client.get_messages(
1097 |                             parsed_message.chat.id,
     |                             ^^^^^^^^^^^^^^^^^^^^^^
1098 |                             reply_to_message_ids=message.id,
1099 |                             replies=0,
     |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
    --> pyrogram/types/messages_and_media/message.py:1108:35
     |
1106 |                         pass
1107 |
1108 |             client.message_cache[(parsed_message.chat.id, parsed_message.id)] = (
     |                                   ^^^^^^^^^^^^^^^^^^^^^^
1109 |                 parsed_message
1110 |             )
     |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `reply_to_top_id` is not defined on `MessageReplyHeader & ~AlwaysFalsy` in union `(MessageReplyHeader & ~AlwaysFalsy) | (Any & ~AlwaysFalsy)`
    --> pyrogram/types/messages_and_media/message.py:1117:25
     |
1115 |                 if getattr(reply_to, "reply_to_top_id", None):
1116 |                         parsed_message.message_thread_id = (
1117 |                         reply_to.reply_to_top_id
     |                         ^^^^^^^^^^^^^^^^^^^^^^^^
1118 |                         )
1119 |                     else:
     |
info: rule `unresolved-attribute` is enabled by default

error[invalid-syntax]: unindent does not match any outer indentation level
    --> pyrogram/types/messages_and_media/message.py:1119:1
     |
1117 |                         reply_to.reply_to_top_id
1118 |                         )
1119 |                     else:
     | ^^^^^^^^^^^^^^^^^^^^
1120 |                         parsed_message.message_thread_id = (
1121 |                         reply_to.reply_to_msg_id
     |

error[invalid-syntax]: Expected a statement
    --> pyrogram/types/messages_and_media/message.py:1119:21
     |
1117 |                         reply_to.reply_to_top_id
1118 |                         )
1119 |                     else:
     |                     ^^^^
1120 |                         parsed_message.message_thread_id = (
1121 |                         reply_to.reply_to_msg_id
     |

error[invalid-syntax]: Expected a statement
    --> pyrogram/types/messages_and_media/message.py:1119:25
     |
1117 |                         reply_to.reply_to_top_id
1118 |                         )
1119 |                     else:
     |                         ^
1120 |                         parsed_message.message_thread_id = (
1121 |                         reply_to.reply_to_msg_id
     |

error[invalid-syntax]: Expected a statement
    --> pyrogram/types/messages_and_media/message.py:1119:26
     |
1117 |                         reply_to.reply_to_top_id
1118 |                         )
1119 |                     else:
     |                          ^
1120 |                         parsed_message.message_thread_id = (
1121 |                         reply_to.reply_to_msg_id
     |

error[invalid-syntax]: Unexpected indentation
    --> pyrogram/types/messages_and_media/message.py:1120:1
     |
1118 |                         )
1119 |                     else:
1120 |                         parsed_message.message_thread_id = (
     | ^^^^^^^^^^^^^^^^^^^^^^^^
1121 |                         reply_to.reply_to_msg_id
1122 |                         )
     |

error[unresolved-attribute]: Attribute `reply_to_msg_id` is not defined on `MessageReplyHeader & ~AlwaysFalsy` in union `(MessageReplyHeader & ~AlwaysFalsy) | (Any & ~AlwaysFalsy)`
    --> pyrogram/types/messages_and_media/message.py:1121:25
     |
1119 |                     else:
1120 |                         parsed_message.message_thread_id = (
1121 |                         reply_to.reply_to_msg_id
     |                         ^^^^^^^^^^^^^^^^^^^^^^^^
1122 |                         )
1123 |                     parsed_message.is_topic_message = True
     |
info: rule `unresolved-attribute` is enabled by default

error[invalid-syntax]: unindent does not match any outer indentation level
    --> pyrogram/types/messages_and_media/message.py:1123:1
     |
1121 |                         reply_to.reply_to_msg_id
1122 |                         )
1123 |                     parsed_message.is_topic_message = True
     | ^^^^^^^^^^^^^^^^^^^^
1124 |             elif (
1125 |                 parsed_message.chat.is_forum
     |

error[unresolved-attribute]: Attribute `is_forum` is not defined on `None` in union `Unknown | Chat | None`
    --> pyrogram/types/messages_and_media/message.py:1125:17
     |
1123 |                     parsed_message.is_topic_message = True
1124 |             elif (
1125 |                 parsed_message.chat.is_forum
     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1126 |                 and parsed_message.message_thread_id is None
1127 |             ):
     |
info: rule `unresolved-attribute` is enabled by default

error[not-iterable]: Object of type `Unknown | list[MessageEntity] | None` may not be iterable
    --> pyrogram/types/messages_and_media/message.py:1138:31
     |
1136 |             entities = [
1137 |                 types.MessageEntity._parse(client, entity, users)
1138 |                 for entity in message.entities
     |                               ^^^^^^^^^^^^^^^^
1139 |             ]
1140 |             entities = types.List(filter(lambda x: x is not None, entities))
     |
info: It may not have an `__iter__` method or a `__getitem__` method
info: rule `not-iterable` is enabled by default

error[unresolved-attribute]: Attribute `date` is not defined on `MessageFwdHeader & ~AlwaysFalsy` in union `(Unknown & ~AlwaysFalsy) | (MessageFwdHeader & ~AlwaysFalsy)`
    --> pyrogram/types/messages_and_media/message.py:1154:60
     |
1153 |             if forward_header:
1154 |                 forward_date = utils.timestamp_to_datetime(forward_header.date)
     |                                                            ^^^^^^^^^^^^^^^^^^^
1155 |
1156 |                 if forward_header.from_id:
     |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `from_id` is not defined on `MessageFwdHeader & ~AlwaysFalsy` in union `(Unknown & ~AlwaysFalsy) | (MessageFwdHeader & ~AlwaysFalsy)`
    --> pyrogram/types/messages_and_media/message.py:1156:20
     |
1154 |                 forward_date = utils.timestamp_to_datetime(forward_header.date)
1155 |
1156 |                 if forward_header.from_id:
     |                    ^^^^^^^^^^^^^^^^^^^^^^
1157 |                     raw_peer_id = utils.get_raw_peer_id(forward_header.from_id)
1158 |                     peer_id = utils.get_peer_id(forward_header.from_id)
     |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `from_id` is not defined on `MessageFwdHeader & ~AlwaysFalsy` in union `(Unknown & ~AlwaysFalsy) | (MessageFwdHeader & ~AlwaysFalsy)`
    --> pyrogram/types/messages_and_media/message.py:1157:57
     |
1156 |                 if forward_header.from_id:
1157 |                     raw_peer_id = utils.get_raw_peer_id(forward_header.from_id)
     |                                                         ^^^^^^^^^^^^^^^^^^^^^^
1158 |                     peer_id = utils.get_peer_id(forward_header.from_id)
     |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `from_id` is not defined on `MessageFwdHeader & ~AlwaysFalsy` in union `(Unknown & ~AlwaysFalsy) | (MessageFwdHeader & ~AlwaysFalsy)`
    --> pyrogram/types/messages_and_media/message.py:1158:49
     |
1156 |                 if forward_header.from_id:
1157 |                     raw_peer_id = utils.get_raw_peer_id(forward_header.from_id)
1158 |                     peer_id = utils.get_peer_id(forward_header.from_id)
     |                                                 ^^^^^^^^^^^^^^^^^^^^^^
1159 |
1160 |                     if peer_id > 0:
     |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `channel_post` is not defined on `MessageFwdHeader & ~AlwaysFalsy` in union `(Unknown & ~AlwaysFalsy) | (MessageFwdHeader & ~AlwaysFalsy)`
    --> pyrogram/types/messages_and_media/message.py:1167:51
     |
1165 |                             chats[raw_peer_id],
1166 |                         )
1167 |                         forward_from_message_id = forward_header.channel_post
     |                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
1168 |                         forward_signature = forward_header.post_author
1169 |                 elif forward_header.from_name:
     |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `post_author` is not defined on `MessageFwdHeader & ~AlwaysFalsy` in union `(Unknown & ~AlwaysFalsy) | (MessageFwdHeader & ~AlwaysFalsy)`
    --> pyrogram/types/messages_and_media/message.py:1168:45
     |
1166 |                         )
1167 |                         forward_from_message_id = forward_header.channel_post
1168 |                         forward_signature = forward_header.post_author
     |                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^
1169 |                 elif forward_header.from_name:
1170 |                     forward_sender_name = forward_header.from_name
     |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `from_name` is not defined on `MessageFwdHeader & ~AlwaysFalsy` in union `(Unknown & ~AlwaysFalsy) | (MessageFwdHeader & ~AlwaysFalsy)`
    --> pyrogram/types/messages_and_media/message.py:1169:22
     |
1167 |                         forward_from_message_id = forward_header.channel_post
1168 |                         forward_signature = forward_header.post_author
1169 |                 elif forward_header.from_name:
     |                      ^^^^^^^^^^^^^^^^^^^^^^^^
1170 |                     forward_sender_name = forward_header.from_name
     |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `from_name` is not defined on `MessageFwdHeader & ~AlwaysFalsy` in union `(Unknown & ~AlwaysFalsy) | (MessageFwdHeader & ~AlwaysFalsy)`
    --> pyrogram/types/messages_and_media/message.py:1170:43
     |
1168 |                         forward_signature = forward_header.post_author
1169 |                 elif forward_header.from_name:
1170 |                     forward_sender_name = forward_header.from_name
     |                                           ^^^^^^^^^^^^^^^^^^^^^^^^
1171 |
1172 |             photo = None
     |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1202:25
     |
1200 |                     photo = types.Photo._parse(
1201 |                         client,
1202 |                         media.photo,
     |                         ^^^^^^^^^^^ Expected `pyrogram.raw.types.photo.Photo`, found `Unknown | pyrogram.raw.base.photo.Photo`
1203 |                         media.ttl_seconds,
1204 |                     )
     |
info: Element `Photo` of this union is not assignable to `pyrogram.raw.types.photo.Photo`
info: Function defined here
  --> pyrogram/types/messages_and_media/photo.py:75:9
   |
74 |     @staticmethod
75 |     def _parse(
   |         ^^^^^^
76 |         client,
77 |         photo: raw.types.Photo,
   |         ---------------------- Parameter declared here
78 |         ttl_seconds: int | None = None,
79 |     ) -> Photo:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1208:62
     |
1206 |                     has_media_spoiler = media.spoiler
1207 |                 elif isinstance(media, raw.types.MessageMediaGeo):
1208 |                     location = types.Location._parse(client, media.geo)
     |                                                              ^^^^^^^^^ Expected `pyrogram.raw.types.geo_point.GeoPoint`, found `Unknown | pyrogram.raw.base.geo_point.GeoPoint`
1209 |                     media_type = enums.MessageMediaType.LOCATION
1210 |                 elif isinstance(media, raw.types.MessageMediaContact):
     |
info: Element `GeoPoint` of this union is not assignable to `pyrogram.raw.types.geo_point.GeoPoint`
info: Function defined here
  --> pyrogram/types/messages_and_media/location.py:32:9
   |
31 |     @staticmethod
32 |     def _parse(client, geo_point: raw.types.GeoPoint) -> Location:
   |         ^^^^^^         ----------------------------- Parameter declared here
33 |         if isinstance(geo_point, raw.types.GeoPoint):
34 |             return Location(
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1225:25
     |
1223 |                     giveaway_result = await types.GiveawayResult._parse(
1224 |                         client,
1225 |                         message.media,
     |                         ^^^^^^^^^^^^^ Expected `MessageActionGiveawayResults | MessageMediaGiveawayResults`, found `Unknown | MessageMedia`
1226 |                     )
1227 |                     media_type = enums.MessageMediaType.GIVEAWAY_RESULT
     |
info: Element `MessageMedia` of this union is not assignable to `MessageActionGiveawayResults | MessageMediaGiveawayResults`
info: Function defined here
  --> pyrogram/types/messages_and_media/giveaway_result.py:77:15
   |
76 |       @staticmethod
77 |       async def _parse(
   |                 ^^^^^^
78 |           client,
79 | /         giveaway_result: raw.types.MessageActionGiveawayResults
80 | |         | raw.types.MessageMediaGiveawayResults,
   | |_______________________________________________- Parameter declared here
81 |           hide_winners: bool = False,
82 |       ) -> GiveawayResult:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1250:33
     |
1248 | …                         client,
1249 | …                         doc,
1250 | …                         video_attributes,
     |                           ^^^^^^^^^^^^^^^^ Expected `DocumentAttributeVideo`, found `Unknown | DocumentAttribute | None`
1251 | …                         file_name,
1252 | …                     )
     |
info: Union elements `DocumentAttribute` and `None` are not assignable to `DocumentAttributeVideo`
info: Function defined here
  --> pyrogram/types/messages_and_media/animation.py:85:9
   |
84 |     @staticmethod
85 |     def _parse(
   |         ^^^^^^
86 |         client,
87 |         animation: raw.types.Document,
88 |         video_attributes: raw.types.DocumentAttributeVideo,
   |         -------------------------------------------------- Parameter declared here
89 |         file_name: str,
90 |     ) -> Animation:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1251:33
     |
1249 | …                         doc,
1250 | …                         video_attributes,
1251 | …                         file_name,
     |                           ^^^^^^^^^ Expected `str`, found `Any | None`
1252 | …                     )
1253 | …                     media_type = enums.MessageMediaType.ANIMATION
     |
info: Element `None` of this union is not assignable to `str`
info: Function defined here
  --> pyrogram/types/messages_and_media/animation.py:85:9
   |
84 |     @staticmethod
85 |     def _parse(
   |         ^^^^^^
86 |         client,
87 |         animation: raw.types.Document,
88 |         video_attributes: raw.types.DocumentAttributeVideo,
89 |         file_name: str,
   |         -------------- Parameter declared here
90 |     ) -> Animation:
91 |         return Animation(
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `round_message` is not defined on `DocumentAttribute` in union `Unknown | DocumentAttribute`
    --> pyrogram/types/messages_and_media/message.py:1267:32
     |
1265 |                             ]
1266 |
1267 |                             if video_attributes.round_message:
     |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1268 |                                 video_note = types.VideoNote._parse(
1269 |                                     client,
     |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1271:37
     |
1269 | …                         client,
1270 | …                         doc,
1271 | …                         video_attributes,
     |                           ^^^^^^^^^^^^^^^^ Expected `DocumentAttributeVideo`, found `Unknown | DocumentAttribute`
1272 | …                     )
1273 | …                     media_type = enums.MessageMediaType.VIDEO_NOTE
     |
info: Element `DocumentAttribute` of this union is not assignable to `DocumentAttributeVideo`
info: Function defined here
  --> pyrogram/types/messages_and_media/video_note.py:74:9
   |
73 |     @staticmethod
74 |     def _parse(
   |         ^^^^^^
75 |         client,
76 |         video_note: raw.types.Document,
77 |         video_attributes: raw.types.DocumentAttributeVideo,
   |         -------------------------------------------------- Parameter declared here
78 |     ) -> VideoNote:
79 |         return VideoNote(
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1278:37
     |
1276 | …                     client,
1277 | …                     doc,
1278 | …                     video_attributes,
     |                       ^^^^^^^^^^^^^^^^ Expected `DocumentAttributeVideo`, found `Unknown | DocumentAttribute`
1279 | …                     file_name,
1280 | …                     media.ttl_seconds,
     |
info: Element `DocumentAttribute` of this union is not assignable to `DocumentAttributeVideo`
info: Function defined here
  --> pyrogram/types/messages_and_media/video.py:94:9
   |
93 |     @staticmethod
94 |     def _parse(
   |         ^^^^^^
95 |         client,
96 |         video: raw.types.Document,
97 |         video_attributes: raw.types.DocumentAttributeVideo,
   |         -------------------------------------------------- Parameter declared here
98 |         file_name: str,
99 |         ttl_seconds: int | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1279:37
     |
1277 | …                         doc,
1278 | …                         video_attributes,
1279 | …                         file_name,
     |                           ^^^^^^^^^ Expected `str`, found `Any | None`
1280 | …                         media.ttl_seconds,
1281 | …                     )
     |
info: Element `None` of this union is not assignable to `str`
info: Function defined here
   --> pyrogram/types/messages_and_media/video.py:94:9
    |
 93 |     @staticmethod
 94 |     def _parse(
    |         ^^^^^^
 95 |         client,
 96 |         video: raw.types.Document,
 97 |         video_attributes: raw.types.DocumentAttributeVideo,
 98 |         file_name: str,
    |         -------------- Parameter declared here
 99 |         ttl_seconds: int | None = None,
100 |     ) -> Video:
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1307:53
     |
1305 | …                         client,
1306 | …                         altdoc,
1307 | …                         altdoc_video_attribute,
     |                           ^^^^^^^^^^^^^^^^^^^^^^ Expected `DocumentAttributeVideo`, found `(Unknown & ~AlwaysFalsy) | (DocumentAttribute & ~AlwaysFalsy)`
1308 | …                         altdoc_file_name,
1309 | …                     ),
     |
info: Element `DocumentAttribute & ~AlwaysFalsy` of this union is not assignable to `DocumentAttributeVideo`
info: Function defined here
  --> pyrogram/types/messages_and_media/alternative_video.py:94:9
   |
93 |     @staticmethod
94 |     def _parse(
   |         ^^^^^^
95 |         client: pyrogram.Client,
96 |         video: raw.types.Document,
97 |         video_attributes: raw.types.DocumentAttributeVideo,
   |         -------------------------------------------------- Parameter declared here
98 |         file_name: str,
99 |     ) -> AlternativeVideo:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1308:53
     |
1306 | …                             altdoc,
1307 | …                             altdoc_video_attribute,
1308 | …                             altdoc_file_name,
     |                               ^^^^^^^^^^^^^^^^ Expected `str`, found `Any | None`
1309 | …                         ),
1310 | …                     )
     |
info: Element `None` of this union is not assignable to `str`
info: Function defined here
   --> pyrogram/types/messages_and_media/alternative_video.py:94:9
    |
 93 |     @staticmethod
 94 |     def _parse(
    |         ^^^^^^
 95 |         client: pyrogram.Client,
 96 |         video: raw.types.Document,
 97 |         video_attributes: raw.types.DocumentAttributeVideo,
 98 |         file_name: str,
    |         -------------- Parameter declared here
 99 |     ) -> AlternativeVideo:
100 |         file_id = (
    |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `voice` is not defined on `DocumentAttribute` in union `Unknown | DocumentAttribute`
    --> pyrogram/types/messages_and_media/message.py:1316:32
     |
1314 |                             ]
1315 |
1316 |                             if audio_attributes.voice:
     |                                ^^^^^^^^^^^^^^^^^^^^^^
1317 |                                 voice = types.Voice._parse(
1318 |                                     client,
     |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1320:37
     |
1318 | …                         client,
1319 | …                         doc,
1320 | …                         audio_attributes,
     |                           ^^^^^^^^^^^^^^^^ Expected `DocumentAttributeAudio`, found `Unknown | DocumentAttribute`
1321 | …                     )
1322 | …                     media_type = enums.MessageMediaType.VOICE
     |
info: Element `DocumentAttribute` of this union is not assignable to `DocumentAttributeAudio`
info: Function defined here
  --> pyrogram/types/messages_and_media/voice.py:69:9
   |
68 |     @staticmethod
69 |     def _parse(
   |         ^^^^^^
70 |         client,
71 |         voice: raw.types.Document,
72 |         attributes: raw.types.DocumentAttributeAudio,
   |         -------------------------------------------- Parameter declared here
73 |     ) -> Voice:
74 |         return Voice(
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1327:37
     |
1325 | …                         client,
1326 | …                         doc,
1327 | …                         audio_attributes,
     |                           ^^^^^^^^^^^^^^^^ Expected `DocumentAttributeAudio`, found `Unknown | DocumentAttribute`
1328 | …                         file_name,
1329 | …                     )
     |
info: Element `DocumentAttribute` of this union is not assignable to `DocumentAttributeAudio`
info: Function defined here
  --> pyrogram/types/messages_and_media/audio.py:84:9
   |
83 |     @staticmethod
84 |     def _parse(
   |         ^^^^^^
85 |         client,
86 |         audio: raw.types.Document,
87 |         audio_attributes: raw.types.DocumentAttributeAudio,
   |         -------------------------------------------------- Parameter declared here
88 |         file_name: str,
89 |     ) -> Audio:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1328:37
     |
1326 | …                         doc,
1327 | …                         audio_attributes,
1328 | …                         file_name,
     |                           ^^^^^^^^^ Expected `str`, found `Any | None`
1329 | …                     )
1330 | …                     media_type = enums.MessageMediaType.AUDIO
     |
info: Element `None` of this union is not assignable to `str`
info: Function defined here
  --> pyrogram/types/messages_and_media/audio.py:84:9
   |
83 |     @staticmethod
84 |     def _parse(
   |         ^^^^^^
85 |         client,
86 |         audio: raw.types.Document,
87 |         audio_attributes: raw.types.DocumentAttributeAudio,
88 |         file_name: str,
   |         -------------- Parameter declared here
89 |     ) -> Audio:
90 |         return Audio(
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1332:75
     |
1330 |                                 media_type = enums.MessageMediaType.AUDIO
1331 |                         else:
1332 |                             document = types.Document._parse(client, doc, file_name)
     |                                                                           ^^^^^^^^^ Expected `str`, found `Any | None`
1333 |                             media_type = enums.MessageMediaType.DOCUMENT
1334 |                 elif isinstance(media, raw.types.MessageMediaWebPage):
     |
info: Element `None` of this union is not assignable to `str`
info: Function defined here
  --> pyrogram/types/messages_and_media/document.py:69:9
   |
68 |     @staticmethod
69 |     def _parse(client, document: raw.types.Document, file_name: str) -> Document:
   |         ^^^^^^                                       -------------- Parameter declared here
70 |         return Document(
71 |             file_id=FileId(
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1341:29
     |
1339 |                         web_page_preview = types.WebPagePreview._parse(
1340 |                             client,
1341 |                             media,
     |                             ^^^^^ Expected `WebPage | WebPageEmpty`, found `MessageMediaWebPage & ~AlwaysFalsy & ~MessageMediaPhoto & ~MessageMediaGeo & ~MessageMediaContact & ~MessageMediaVenue & ~MessageMediaGame & ~MessageMediaGiveaway & ~MessageMediaGiveawayResults & ~MessageMediaStory & ~MessageMediaDocument`
1342 |                             message.invert_media,
1343 |                         )
     |
info: Function defined here
  --> pyrogram/types/messages_and_media/web_page_preview.py:42:9
   |
41 |     @staticmethod
42 |     def _parse(
   |         ^^^^^^
43 |         client,
44 |         web_page_preview: raw.types.WebPage | raw.types.WebPageEmpty,
   |         ------------------------------------------------------------ Parameter declared here
45 |         invert_media: bool | None = None,
46 |     ):
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1348:67
     |
1346 |                         media = None
1347 |                 elif isinstance(media, raw.types.MessageMediaPoll):
1348 |                     poll = await types.Poll._parse(client, media, users)
     |                                                                   ^^^^^ Expected `list[User]`, found `dict[Unknown, Unknown]`
1349 |                     media_type = enums.MessageMediaType.POLL
1350 |                 elif isinstance(media, raw.types.MessageMediaDice):
     |
info: Function defined here
   --> pyrogram/types/messages_and_media/poll.py:111:15
    |
110 |     @staticmethod
111 |     async def _parse(
    |               ^^^^^^
112 |         client,
113 |         media_poll: raw.types.MessageMediaPoll | raw.types.UpdateMessagePoll,
114 |         users: list[raw.base.User],  # noqa: ARG004
    |         -------------------------- Parameter declared here
115 |     ) -> Poll:
116 |         poll: raw.types.Poll = media_poll.poll
    |
info: rule `invalid-argument-type` is enabled by default

error[missing-argument]: No argument provided for required parameter `invoice` of function `_parse`
    --> pyrogram/types/messages_and_media/message.py:1354:31
     |
1352 |                     media_type = enums.MessageMediaType.DICE
1353 |                 elif isinstance(media, raw.types.MessageMediaInvoice):
1354 |                     invoice = types.Invoice._parse(media)
     |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
1355 |                     media = enums.MessageMediaType.INVOICE
1356 |                 elif isinstance(media, raw.types.MessageMediaPaidMedia):
     |
info: Parameter declared here
   --> pyrogram/types/business/invoice.py:123:9
    |
121 |     def _parse(
122 |         client,
123 |         invoice: raw.types.MessageMediaInvoice | raw.types.Invoice,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
124 |     ) -> Invoice:
125 |         return Invoice(
    |
info: rule `missing-argument` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1376:51
     |
1374 |                     reply_markup = None
1375 |
1376 |             from_user = types.User._parse(client, users.get(user_id))
     |                                                   ^^^^^^^^^^^^^^^^^^ Expected `User`, found `Unknown | None`
1377 |             sender_chat = (
1378 |                 types.Chat._parse(client, message, users, chats, is_chat=False)
     |
info: Element `None` of this union is not assignable to `User`
info: Function defined here
   --> pyrogram/types/user_and_chats/user.py:278:9
    |
277 |     @staticmethod
278 |     def _parse(client, user: raw.base.User) -> User | None:
    |         ^^^^^^         ------------------- Parameter declared here
279 |         if user is None or isinstance(user, raw.types.UserEmpty):
280 |             return None
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1392:21
     |
1390 |                 sender_business_bot = types.User._parse(
1391 |                     client,
1392 |                     users.get(message.via_business_bot_id),
     |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `User`, found `Unknown | None`
1393 |                 )
     |
info: Element `None` of this union is not assignable to `User`
info: Function defined here
   --> pyrogram/types/user_and_chats/user.py:278:9
    |
277 |     @staticmethod
278 |     def _parse(client, user: raw.base.User) -> User | None:
    |         ^^^^^^         ------------------- Parameter declared here
279 |         if user is None or isinstance(user, raw.types.UserEmpty):
280 |             return None
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1440:17
     |
1438 |                 edit_hide=message.edit_hide,
1439 |                 edit_date=utils.timestamp_to_datetime(message.edit_date),
1440 |                 media_group_id=message.grouped_id,
     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `str | None`, found `Unknown | int | None`
1441 |                 invert_media=message.invert_media,
1442 |                 photo=photo,
     |
info: Element `int` of this union is not assignable to `str | None`
info: Method defined here
   --> pyrogram/types/messages_and_media/message.py:473:9
    |
471 |     # TODO: Add game missing field, Also connected_website
472 |
473 |     def __init__(
    |         ^^^^^^^^
474 |         self,
475 |         *,
    |
   ::: pyrogram/types/messages_and_media/message.py:509:9
    |
507 |         media: enums.MessageMediaType  | None = None,
508 |         edit_date: datetime | None = None,
509 |         media_group_id: str | None = None,
    |         --------------------------------- Parameter declared here
510 |         author_signature: str | None = None,
511 |         has_protected_content: bool | None = None,
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1469:21
     |
1467 |                 via_bot=types.User._parse(
1468 |                     client,
1469 |                     users.get(message.via_bot_id),
     |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `User`, found `Unknown | None`
1470 |                 ),
1471 |                 outgoing=message.out,
     |
info: Element `None` of this union is not assignable to `User`
info: Function defined here
   --> pyrogram/types/user_and_chats/user.py:278:9
    |
277 |     @staticmethod
278 |     def _parse(client, user: raw.base.User) -> User | None:
    |         ^^^^^^         ------------------- Parameter declared here
279 |         if user is None or isinstance(user, raw.types.UserEmpty):
280 |             return None
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1472:17
     |
1470 |                 ),
1471 |                 outgoing=message.out,
1472 |                 reply_markup=reply_markup,
     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`, found `Unknown | (ReplyMarkup & ~AlwaysTruthy) | None`
1473 |                 reactions=reactions,
1474 |                 offline=getattr(message, "offline", None),
     |
info: Union elements `ReplyMarkup & ~AlwaysTruthy` and `None` are not assignable to `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
info: Method defined here
   --> pyrogram/types/messages_and_media/message.py:473:9
    |
471 |       # TODO: Add game missing field, Also connected_website
472 |
473 |       def __init__(
    |           ^^^^^^^^
474 |           self,
475 |           *,
    |
   ::: pyrogram/types/messages_and_media/message.py:596:9
    |
594 |           successful_payment: types.SuccessfulPayment  | None = None,
595 |           payment_refunded: types.PaymentRefunded  | None = None,
596 | /         reply_markup: types.InlineKeyboardMarkup
597 | |         | types.ReplyKeyboardMarkup
598 | |         | types.ReplyKeyboardRemove
599 | |         | types.ForceReply = None,
    | |_________________________________- Parameter declared here
600 |           reactions: list[types.Reaction] | None = None,
601 |           chat_join_type: enums.ChatJoinType  | None = None,
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1473:17
     |
1471 |                 outgoing=message.out,
1472 |                 reply_markup=reply_markup,
1473 |                 reactions=reactions,
     |                 ^^^^^^^^^^^^^^^^^^^ Expected `list[Reaction] | None`, found `MessageReactions | None`
1474 |                 offline=getattr(message, "offline", None),
1475 |                 video_processing_pending=getattr(
     |
info: Element `MessageReactions` of this union is not assignable to `list[Reaction] | None`
info: Method defined here
   --> pyrogram/types/messages_and_media/message.py:473:9
    |
471 |     # TODO: Add game missing field, Also connected_website
472 |
473 |     def __init__(
    |         ^^^^^^^^
474 |         self,
475 |         *,
    |
   ::: pyrogram/types/messages_and_media/message.py:600:9
    |
598 |         | types.ReplyKeyboardRemove
599 |         | types.ForceReply = None,
600 |         reactions: list[types.Reaction] | None = None,
    |         --------------------------------------------- Parameter declared here
601 |         chat_join_type: enums.ChatJoinType  | None = None,
602 |         raw: raw.types.Message  | None = None,
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1492:21
     |
1490 |                 fact_check=types.FactCheck._parse(
1491 |                     client,
1492 |                     getattr(message, "factcheck", None),
     |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `FactCheck`, found `Any | None`
1493 |                 ),
1494 |                 report_delivery_until_date=utils.timestamp_to_datetime(
     |
info: Element `None` of this union is not assignable to `FactCheck`
info: Function defined here
  --> pyrogram/types/messages_and_media/fact_check.py:40:9
   |
39 |     @staticmethod
40 |     def _parse(client, fact_check: raw.types.FactCheck) -> FactCheck | None:
   |         ^^^^^^         ------------------------------- Parameter declared here
41 |         if not fact_check:
42 |             return None
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1499:21
     |
1497 |                 paid_message_stars=getattr(message, "paid_message_stars", None),
1498 |                 suggested_post=types.SuggestedPost._parse(
1499 |                     getattr(message, "suggested_post", None),
     |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `SuggestedPost`, found `Any | None`
1500 |                 ),
1501 |                 schedule_repeat_period=getattr(
     |
info: Element `None` of this union is not assignable to `SuggestedPost`
info: Function defined here
  --> pyrogram/types/business/suggested_post.py:53:9
   |
52 |     @staticmethod
53 |     def _parse(suggested_post: raw.types.SuggestedPost) -> SuggestedPost | None:
   |         ^^^^^^ --------------------------------------- Parameter declared here
54 |         if not suggested_post:
55 |             return None
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `type` is not defined on `None` in union `Unknown | Chat | None`
    --> pyrogram/types/messages_and_media/message.py:1515:16
     |
1513 |                 client=client,
1514 |             )
1515 |             if parsed_message.chat.type is not enums.ChatType.CHANNEL:
     |                ^^^^^^^^^^^^^^^^^^^^^^^^
1516 |                 parsed_message.sender_chat = sender_chat
     |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `len` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1521:28
     |
1519 |                 if isinstance(reply_to, raw.types.MessageReplyHeader):
1520 |                     parsed_message.quote_text = reply_to.quote_text
1521 |                     if len(reply_to.quote_entities) > 0:
     |                            ^^^^^^^^^^^^^^^^^^^^^^^ Expected `Sized`, found `Unknown | list[MessageEntity] | None`
1522 |                         quote_entities = [
1523 |                             types.MessageEntity._parse(client, entity, users)
     |
info: Element `None` of this union is not assignable to `Sized`
info: Function defined here
    --> stdlib/builtins.pyi:3784:5
     |
3782 |     """
3783 |
3784 | def len(obj: Sized, /) -> int:
     |     ^^^ ---------- Parameter declared here
3785 |     """Return the number of items in a container."""
     |
info: rule `invalid-argument-type` is enabled by default

error[not-iterable]: Object of type `Unknown | list[MessageEntity] | None` may not be iterable
    --> pyrogram/types/messages_and_media/message.py:1524:43
     |
1522 |                         quote_entities = [
1523 |                             types.MessageEntity._parse(client, entity, users)
1524 |                             for entity in reply_to.quote_entities
     |                                           ^^^^^^^^^^^^^^^^^^^^^^^
1525 |                         ]
1526 |                         parsed_message.quote_entities = types.List(
     |
info: It may not have an `__iter__` method or a `__getitem__` method
info: rule `not-iterable` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
    --> pyrogram/types/messages_and_media/message.py:1546:37
     |
1544 | …                     try:
1545 | …                         msg = await client.get_messages(
1546 | …                             parsed_message.chat.id,
     |                               ^^^^^^^^^^^^^^^^^^^^^^
1547 | …                             message.id,
1548 | …                         )
     |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `topic` is not defined on `list[Message]`, `DraftMessage` in union `Message | list[Message] | DraftMessage`
    --> pyrogram/types/messages_and_media/message.py:1549:36
     |
1547 | …                             message.id,
1548 | …                         )
1549 | …                         if msg.topic:
     |                              ^^^^^^^^^
1550 | …                             parsed_message.topic = msg.topic
1551 | …                     except Exception:
     |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `topic` is not defined on `list[Message]`, `DraftMessage` in union `Message | list[Message] | DraftMessage`
    --> pyrogram/types/messages_and_media/message.py:1550:60
     |
1548 | …                         )
1549 | …                         if msg.topic:
1550 | …                             parsed_message.topic = msg.topic
     |                                                      ^^^^^^^^^
1551 | …                     except Exception:
1552 | …                         pass
     |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `story_id` is not defined on `pyrogram.raw.base.message_reply_header.MessageReplyHeader & ~AlwaysFalsy & ~pyrogram.raw.types.message_reply_header.MessageReplyHeader` in union `(pyrogram.raw.base.message_reply_header.MessageReplyHeader & ~AlwaysFalsy & ~pyrogram.raw.types.message_reply_header.MessageReplyHeader) | (Unknown & ~AlwaysFalsy & ~pyrogram.raw.types.message_reply_header.MessageReplyHeader)`
    --> pyrogram/types/messages_and_media/message.py:1561:56
     |
1559 |                         )
1560 |                 else:
1561 |                     parsed_message.reply_to_story_id = reply_to.story_id
     |                                                        ^^^^^^^^^^^^^^^^^
1562 |                     if isinstance(reply_to.peer, raw.types.PeerUser):
1563 |                         parsed_message.reply_to_story_user_id = (
     |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `peer` is not defined on `pyrogram.raw.base.message_reply_header.MessageReplyHeader & ~AlwaysFalsy & ~pyrogram.raw.types.message_reply_header.MessageReplyHeader` in union `(pyrogram.raw.base.message_reply_header.MessageReplyHeader & ~AlwaysFalsy & ~pyrogram.raw.types.message_reply_header.MessageReplyHeader) | (Unknown & ~AlwaysFalsy & ~pyrogram.raw.types.message_reply_header.MessageReplyHeader)`
    --> pyrogram/types/messages_and_media/message.py:1562:35
     |
1560 |                 else:
1561 |                     parsed_message.reply_to_story_id = reply_to.story_id
1562 |                     if isinstance(reply_to.peer, raw.types.PeerUser):
     |                                   ^^^^^^^^^^^^^
1563 |                         parsed_message.reply_to_story_user_id = (
1564 |                             reply_to.peer.user_id
     |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `peer` is not defined on `pyrogram.raw.base.message_reply_header.MessageReplyHeader & ~AlwaysFalsy & ~pyrogram.raw.types.message_reply_header.MessageReplyHeader` in union `(pyrogram.raw.base.message_reply_header.MessageReplyHeader & ~AlwaysFalsy & ~pyrogram.raw.types.message_reply_header.MessageReplyHeader) | (Unknown & ~AlwaysFalsy & ~pyrogram.raw.types.message_reply_header.MessageReplyHeader)`
    --> pyrogram/types/messages_and_media/message.py:1564:29
     |
1562 |                     if isinstance(reply_to.peer, raw.types.PeerUser):
1563 |                         parsed_message.reply_to_story_user_id = (
1564 |                             reply_to.peer.user_id
     |                             ^^^^^^^^^^^^^
1565 |                         )
1566 |                     elif isinstance(reply_to.peer, raw.types.PeerChat):
     |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `peer` is not defined on `pyrogram.raw.base.message_reply_header.MessageReplyHeader & ~AlwaysFalsy & ~pyrogram.raw.types.message_reply_header.MessageReplyHeader` in union `(pyrogram.raw.base.message_reply_header.MessageReplyHeader & ~AlwaysFalsy & ~pyrogram.raw.types.message_reply_header.MessageReplyHeader) | (Unknown & ~AlwaysFalsy & ~pyrogram.raw.types.message_reply_header.MessageReplyHeader)`
    --> pyrogram/types/messages_and_media/message.py:1566:37
     |
1564 |                             reply_to.peer.user_id
1565 |                         )
1566 |                     elif isinstance(reply_to.peer, raw.types.PeerChat):
     |                                     ^^^^^^^^^^^^^
1567 |                         parsed_message.reply_to_story_chat_id = utils.get_channel_id(
1568 |                             reply_to.peer.chat_id,
     |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `peer` is not defined on `pyrogram.raw.base.message_reply_header.MessageReplyHeader & ~AlwaysFalsy & ~pyrogram.raw.types.message_reply_header.MessageReplyHeader` in union `(pyrogram.raw.base.message_reply_header.MessageReplyHeader & ~AlwaysFalsy & ~pyrogram.raw.types.message_reply_header.MessageReplyHeader) | (Unknown & ~AlwaysFalsy & ~pyrogram.raw.types.message_reply_header.MessageReplyHeader)`
    --> pyrogram/types/messages_and_media/message.py:1568:29
     |
1566 |                     elif isinstance(reply_to.peer, raw.types.PeerChat):
1567 |                         parsed_message.reply_to_story_chat_id = utils.get_channel_id(
1568 |                             reply_to.peer.chat_id,
     |                             ^^^^^^^^^^^^^
1569 |                         )
1570 |                     else:
     |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `peer` is not defined on `pyrogram.raw.base.message_reply_header.MessageReplyHeader & ~AlwaysFalsy & ~pyrogram.raw.types.message_reply_header.MessageReplyHeader` in union `(pyrogram.raw.base.message_reply_header.MessageReplyHeader & ~AlwaysFalsy & ~pyrogram.raw.types.message_reply_header.MessageReplyHeader) | (Unknown & ~AlwaysFalsy & ~pyrogram.raw.types.message_reply_header.MessageReplyHeader)`
    --> pyrogram/types/messages_and_media/message.py:1572:29
     |
1570 |                     else:
1571 |                         parsed_message.reply_to_story_chat_id = utils.get_channel_id(
1572 |                             reply_to.peer.channel_id,
     |                             ^^^^^^^^^^^^^
1573 |                         )
1574 |                 rtci = getattr(reply_to, "reply_to_peer_id", None)
     |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `get_channel_id` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1576:42
     |
1574 |                 rtci = getattr(reply_to, "reply_to_peer_id", None)
1575 |                 reply_to_chat_id = (
1576 |                     utils.get_channel_id(utils.get_raw_peer_id(rtci))
     |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `int | None`
1577 |                     if rtci
1578 |                     else None
     |
info: Element `None` of this union is not assignable to `int`
info: Function defined here
   --> pyrogram/utils.py:277:5
    |
277 | def get_channel_id(peer_id: int) -> int:
    |     ^^^^^^^^^^^^^^ ------------ Parameter declared here
278 |     return MAX_CHANNEL_ID - peer_id
    |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
    --> pyrogram/types/messages_and_media/message.py:1580:41
     |
1578 |                     else None
1579 |                 )
1580 |                 if rtci is not None and parsed_message.chat.id != reply_to_chat_id:
     |                                         ^^^^^^^^^^^^^^^^^^^^^^
1581 |                     parsed_message.reply_to_chat_id = reply_to_chat_id
     |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
    --> pyrogram/types/messages_and_media/message.py:1587:33
     |
1585 |                         if (
1586 |                             rtci is not None
1587 |                             and parsed_message.chat.id != reply_to_chat_id
     |                                 ^^^^^^^^^^^^^^^^^^^^^^
1588 |                         ):
1589 |                             key = (
     |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `reply_to_msg_id` is not defined on `MessageReplyHeader & ~AlwaysFalsy` in union `(MessageReplyHeader & ~AlwaysFalsy) | (Unknown & ~AlwaysFalsy)`
    --> pyrogram/types/messages_and_media/message.py:1591:33
     |
1589 | …                     key = (
1590 | …                         reply_to_chat_id,
1591 | …                         reply_to.reply_to_msg_id,
     |                           ^^^^^^^^^^^^^^^^^^^^^^^^
1592 | …                     )
1593 | …                     reply_to_params = {
     |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
    --> pyrogram/types/messages_and_media/message.py:1599:33
     |
1597 |                         else:
1598 |                             key = (
1599 |                                 parsed_message.chat.id,
     |                                 ^^^^^^^^^^^^^^^^^^^^^^
1600 |                                 parsed_message.reply_to_message_id,
1601 |                             )
     |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `get_messages` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1613:37
     |
1611 | …                         reply_to_message = await client.get_messages(
1612 | …                             replies=replies - 1,
1613 | …                             **reply_to_params,
     |                               ^^^^^^^^^^^^^^^^^ Expected `bool`, found `Unknown | int | None`
1614 | …                         )
1615 | …                     if (
     |
info: Union elements `int` and `None` are not assignable to `bool`
info: Method defined here
  --> pyrogram/methods/messages/get_messages.py:17:15
   |
16 | class GetMessages:
17 |     async def get_messages(
   |               ^^^^^^^^^^^^
18 |         self: pyrogram.Client,
19 |         chat_id: int | str | None = None,
   |
  ::: pyrogram/methods/messages/get_messages.py:23:9
   |
21 |         reply_to_message_ids: int | Iterable[int] | None = None,
22 |         replies: int = 1,
23 |         is_scheduled: bool = False,
   |         -------------------------- Parameter declared here
24 |         link: str | None = None,
25 |     ) -> types.Message | list[types.Message] | types.DraftMessage:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `get_messages` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1613:37
     |
1611 | …                         reply_to_message = await client.get_messages(
1612 | …                             replies=replies - 1,
1613 | …                             **reply_to_params,
     |                               ^^^^^^^^^^^^^^^^^ Expected `str | None`, found `Unknown | int | None`
1614 | …                         )
1615 | …                     if (
     |
info: Element `int` of this union is not assignable to `str | None`
info: Method defined here
  --> pyrogram/methods/messages/get_messages.py:17:15
   |
16 | class GetMessages:
17 |     async def get_messages(
   |               ^^^^^^^^^^^^
18 |         self: pyrogram.Client,
19 |         chat_id: int | str | None = None,
   |
  ::: pyrogram/methods/messages/get_messages.py:24:9
   |
22 |         replies: int = 1,
23 |         is_scheduled: bool = False,
24 |         link: str | None = None,
   |         ----------------------- Parameter declared here
25 |     ) -> types.Message | list[types.Message] | types.DraftMessage:
26 |         """Get one or more messages from a chat by using message identifiers.
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `forum_topic_created` is not defined on `list[Message] & ~AlwaysFalsy`, `DraftMessage & ~AlwaysFalsy` in union `(Unknown & ~AlwaysFalsy) | (Message & ~AlwaysFalsy) | (list[Message] & ~AlwaysFalsy) | (DraftMessage & ~AlwaysFalsy)`
    --> pyrogram/types/messages_and_media/message.py:1617:41
     |
1615 | …                     if (
1616 | …                         reply_to_message
1617 | …                         and not reply_to_message.forum_topic_created
     |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1618 | …                     ):
1619 | …                         parsed_message.reply_to_message = reply_to_message
     |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `get_stories` is incorrect
    --> pyrogram/types/messages_and_media/message.py:1627:33
     |
1625 |                           try:
1626 |                               reply_to_story = await client.get_stories(
1627 | /                                 parsed_message.reply_to_story_user_id
1628 | |                                 or parsed_message.reply_to_story_chat_id,
     | |________________________________________________________________________^ Expected `int | str`, found `Unknown | int | None`
1629 |                                   parsed_message.reply_to_story_id,
1630 |                               )
     |
info: Element `None` of this union is not assignable to `int | str`
info: Method defined here
  --> pyrogram/methods/stories/get_stories.py:16:15
   |
15 | class GetStories:
16 |     async def get_stories(
   |               ^^^^^^^^^^^
17 |         self: pyrogram.Client,
18 |         chat_id: int | str,
   |         ------------------ Parameter declared here
19 |         story_ids: int | Iterable[int],
20 |     ) -> types.Story | list[types.Story]:
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `is_forum` is not defined on `None` in union `Unknown | Chat | None`
    --> pyrogram/types/messages_and_media/message.py:1636:17
     |
1634 |                             parsed_message.reply_to_story = reply_to_story
1635 |             if (
1636 |                 parsed_message.chat.is_forum
     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1637 |                 and parsed_message.message_thread_id is None
1638 |             ):
     |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
    --> pyrogram/types/messages_and_media/message.py:1643:39
     |
1642 |             if not parsed_message.poll:  # Do not cache poll messages
1643 |                 client.message_cache[(parsed_message.chat.id, parsed_message.id)] = (
     |                                       ^^^^^^^^^^^^^^^^^^^^^^
1644 |                     parsed_message
1645 |                 )
     |
info: rule `unresolved-attribute` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
    --> pyrogram/types/messages_and_media/message.py:1858:9
     |
1856 |           disable_notification: bool | None = None,
1857 |           invert_media: bool | None = None,
1858 | /         reply_markup: types.InlineKeyboardMarkup
1859 | |         | types.ReplyKeyboardMarkup
1860 | |         | types.ReplyKeyboardRemove
1861 | |         | types.ForceReply = None,
     | |_________________________________^
1862 |           reply_to_message_id: int | None = None,
1863 |           business_connection_id: str | None = None,
     |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
    --> pyrogram/types/messages_and_media/message.py:2065:9
     |
2063 |           allow_paid_broadcast: bool | None = None,
2064 |           message_effect_id: int | None = None,
2065 | /         reply_markup: types.InlineKeyboardMarkup
2066 | |         | types.ReplyKeyboardMarkup
2067 | |         | types.ReplyKeyboardRemove
2068 | |         | types.ForceReply = None,
     | |_________________________________^
2069 |           progress: Callable | None = None,
2070 |           progress_args: tuple = (),
     |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
    --> pyrogram/types/messages_and_media/message.py:2249:9
     |
2247 |           quote_entities: list[types.MessageEntity] | None = None,
2248 |           allow_paid_broadcast: bool | None = None,
2249 | /         reply_markup: types.InlineKeyboardMarkup
2250 | |         | types.ReplyKeyboardMarkup
2251 | |         | types.ReplyKeyboardRemove
2252 | |         | types.ForceReply = None,
     | |_________________________________^
2253 |       ) -> Message:
2254 |           """Bound method *reply_cached_media* of :obj:`~pyrogram.types.Message`.
     |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
    --> pyrogram/types/messages_and_media/message.py:2433:9
     |
2431 |           allow_paid_broadcast: bool | None = None,
2432 |           parse_mode: enums.ParseMode | None = None,
2433 | /         reply_markup: types.InlineKeyboardMarkup
2434 | |         | types.ReplyKeyboardMarkup
2435 | |         | types.ReplyKeyboardRemove
2436 | |         | types.ForceReply = None,
     | |_________________________________^
2437 |       ) -> Message:
2438 |           """Bound method *reply_contact* of :obj:`~pyrogram.types.Message`.
     |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
    --> pyrogram/types/messages_and_media/message.py:2570:9
     |
2568 |           message_effect_id: int | None = None,
2569 |           schedule_date: datetime | None = None,
2570 | /         reply_markup: types.InlineKeyboardMarkup
2571 | |         | types.ReplyKeyboardMarkup
2572 | |         | types.ReplyKeyboardRemove
2573 | |         | types.ForceReply = None,
     | |_________________________________^
2574 |           progress: Callable | None = None,
2575 |           progress_args: tuple = (),
     |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
    --> pyrogram/types/messages_and_media/message.py:2747:9
     |
2745 |           business_connection_id: str | None = None,
2746 |           allow_paid_broadcast: bool | None = None,
2747 | /         reply_markup: types.InlineKeyboardMarkup
2748 | |         | types.ReplyKeyboardMarkup
2749 | |         | types.ReplyKeyboardRemove
2750 | |         | types.ForceReply = None,
     | |_________________________________^
2751 |       ) -> Message:
2752 |           """Bound method *reply_game* of :obj:`~pyrogram.types.Message`.
     |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
    --> pyrogram/types/messages_and_media/message.py:2928:9
     |
2926 |           allow_paid_broadcast: bool | None = None,
2927 |           parse_mode: enums.ParseMode | None = None,
2928 | /         reply_markup: types.InlineKeyboardMarkup
2929 | |         | types.ReplyKeyboardMarkup
2930 | |         | types.ReplyKeyboardRemove
2931 | |         | types.ForceReply = None,
     | |_________________________________^
2932 |       ) -> Message:
2933 |           """Bound method *reply_location* of :obj:`~pyrogram.types.Message`.
     |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
    --> pyrogram/types/messages_and_media/message.py:3177:9
     |
3175 |           view_once: bool | None = None,
3176 |           invert_media: bool | None = None,
3177 | /         reply_markup: types.InlineKeyboardMarkup
3178 | |         | types.ReplyKeyboardMarkup
3179 | |         | types.ReplyKeyboardRemove
3180 | |         | types.ForceReply = None,
     | |_________________________________^
3181 |           progress: Callable | None = None,
3182 |           progress_args: tuple = (),
     |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
    --> pyrogram/types/messages_and_media/message.py:3369:9
     |
3367 |           parse_mode: enums.ParseMode | None = None,
3368 |           schedule_date: datetime | None = None,
3369 | /         reply_markup: types.InlineKeyboardMarkup
3370 | |         | types.ReplyKeyboardMarkup
3371 | |         | types.ReplyKeyboardRemove
3372 | |         | types.ForceReply = None,
     | |_________________________________^
3373 |       ) -> Message:
3374 |           """Bound method *reply_poll* of :obj:`~pyrogram.types.Message`.
     |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
    --> pyrogram/types/messages_and_media/message.py:3566:9
     |
3564 |           message_effect_id: int | None = None,
3565 |           parse_mode: enums.ParseMode | None = None,
3566 | /         reply_markup: types.InlineKeyboardMarkup
3567 | |         | types.ReplyKeyboardMarkup
3568 | |         | types.ReplyKeyboardRemove
3569 | |         | types.ForceReply = None,
     | |_________________________________^
3570 |           progress: Callable | None = None,
3571 |           progress_args: tuple = (),
     |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
    --> pyrogram/types/messages_and_media/message.py:3728:9
     |
3726 |           allow_paid_broadcast: bool | None = None,
3727 |           parse_mode: enums.ParseMode | None = None,
3728 | /         reply_markup: types.InlineKeyboardMarkup
3729 | |         | types.ReplyKeyboardMarkup
3730 | |         | types.ReplyKeyboardRemove
3731 | |         | types.ForceReply = None,
     | |_________________________________^
3732 |       ) -> Message:
3733 |           """Bound method *reply_venue* of :obj:`~pyrogram.types.Message`.
     |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
    --> pyrogram/types/messages_and_media/message.py:3881:9
     |
3879 |           message_effect_id: int | None = None,
3880 |           invert_media: bool | None = None,
3881 | /         reply_markup: types.InlineKeyboardMarkup
3882 | |         | types.ReplyKeyboardMarkup
3883 | |         | types.ReplyKeyboardRemove
3884 | |         | types.ForceReply = None,
     | |_________________________________^
3885 |           progress: Callable | None = None,
3886 |           progress_args: tuple = (),
     |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
    --> pyrogram/types/messages_and_media/message.py:4088:9
     |
4086 |           message_effect_id: int | None = None,
4087 |           ttl_seconds: int | None = None,
4088 | /         reply_markup: types.InlineKeyboardMarkup
4089 | |         | types.ReplyKeyboardMarkup
4090 | |         | types.ReplyKeyboardRemove
4091 | |         | types.ForceReply = None,
     | |_________________________________^
4092 |           progress: Callable | None = None,
4093 |           progress_args: tuple = (),
     |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
    --> pyrogram/types/messages_and_media/message.py:4264:9
     |
4262 |           allow_paid_broadcast: bool | None = None,
4263 |           message_effect_id: int | None = None,
4264 | /         reply_markup: types.InlineKeyboardMarkup
4265 | |         | types.ReplyKeyboardMarkup
4266 | |         | types.ReplyKeyboardRemove
4267 | |         | types.ForceReply = None,
     | |_________________________________^
4268 |           progress: Callable | None = None,
4269 |           progress_args: tuple = (),
     |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-parameter-default]: Default value of type `<class 'object'>` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
    --> pyrogram/types/messages_and_media/message.py:4901:9
     |
4899 |           allow_paid_broadcast: bool | None = None,
4900 |           invert_media: bool | None = None,
4901 | /         reply_markup: types.InlineKeyboardMarkup
4902 | |         | types.ReplyKeyboardMarkup
4903 | |         | types.ReplyKeyboardRemove
4904 | |         | types.ForceReply = object,
     | |___________________________________^
4905 |       ) -> types.Message | list[types.Message]:
4906 |           """Bound method *copy* of :obj:`~pyrogram.types.Message`.
     |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-return-type]: Return type does not match returned value
    --> pyrogram/types/messages_and_media/message.py:4999:20
     |
4997 |                 self.id,
4998 |             )
4999 |             return None
     |                    ^^^^ expected `Message | list[Message]`, found `None`
5000 |         if self.game and not await self._client.storage.is_bot():
5001 |             log.warning(
     |
    ::: pyrogram/types/messages_and_media/message.py:4905:10
     |
4903 |         | types.ReplyKeyboardRemove
4904 |         | types.ForceReply = object,
4905 |     ) -> types.Message | list[types.Message]:
     |          ----------------------------------- Expected `Message | list[Message]` because of return type
4906 |         """Bound method *copy* of :obj:`~pyrogram.types.Message`.
     |
info: rule `invalid-return-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
    --> pyrogram/types/messages_and_media/message.py:5006:20
     |
5004 |                 self.id,
5005 |             )
5006 |             return None
     |                    ^^^^ expected `Message | list[Message]`, found `None`
5007 |         if self.empty:
5008 |             log.warning("Empty messages cannot be copied.")
     |
    ::: pyrogram/types/messages_and_media/message.py:4905:10
     |
4903 |         | types.ReplyKeyboardRemove
4904 |         | types.ForceReply = object,
4905 |     ) -> types.Message | list[types.Message]:
     |          ----------------------------------- Expected `Message | list[Message]` because of return type
4906 |         """Bound method *copy* of :obj:`~pyrogram.types.Message`.
     |
info: rule `invalid-return-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
    --> pyrogram/types/messages_and_media/message.py:5009:20
     |
5007 |         if self.empty:
5008 |             log.warning("Empty messages cannot be copied.")
5009 |             return None
     |                    ^^^^ expected `Message | list[Message]`, found `None`
5010 |         if self.text:
5011 |             return await self._client.send_message(
     |
    ::: pyrogram/types/messages_and_media/message.py:4905:10
     |
4903 |         | types.ReplyKeyboardRemove
4904 |         | types.ForceReply = object,
4905 |     ) -> types.Message | list[types.Message]:
     |          ----------------------------------- Expected `Message | list[Message]` because of return type
4906 |         """Bound method *copy* of :obj:`~pyrogram.types.Message`.
     |
info: rule `invalid-return-type` is enabled by default

error[invalid-syntax]: Expected dedent, found end of file
    --> pyrogram/types/messages_and_media/message.py:5805:1
     |
5803 |             to_language_code=to_language_code,
5804 |         )
     |          ^
     |

error[unresolved-attribute]: Attribute `user_id` is not defined on `InputUser` in union `Unknown | InputUser`
  --> pyrogram/types/messages_and_media/message_entity.py:74:23
   |
72 |         if isinstance(entity, raw.types.InputMessageEntityMentionName):
73 |             entity_type = enums.MessageEntityType.TEXT_MENTION
74 |             user_id = entity.user_id.user_id
   |                       ^^^^^^^^^^^^^^^^^^^^^^
75 |         else:
76 |             entity_type = enums.MessageEntityType(entity.__class__)
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `MessageEntity` has no attribute `offset`
  --> pyrogram/types/messages_and_media/message_entity.py:81:20
   |
79 |         return MessageEntity(
80 |             type=entity_type,
81 |             offset=entity.offset,
   |                    ^^^^^^^^^^^^^
82 |             length=entity.length,
83 |             url=getattr(entity, "url", None),
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `MessageEntity` has no attribute `length`
  --> pyrogram/types/messages_and_media/message_entity.py:82:20
   |
80 |             type=entity_type,
81 |             offset=entity.offset,
82 |             length=entity.length,
   |                    ^^^^^^^^^^^^^
83 |             url=getattr(entity, "url", None),
84 |             user=types.User._parse(client, users.get(user_id)),
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/types/messages_and_media/message_entity.py:84:44
   |
82 |             length=entity.length,
83 |             url=getattr(entity, "url", None),
84 |             user=types.User._parse(client, users.get(user_id)),
   |                                            ^^^^^^^^^^^^^^^^^^ Expected `User`, found `Unknown | None`
85 |             language=getattr(entity, "language", None),
86 |             custom_emoji_id=getattr(entity, "document_id", None),
   |
info: Element `None` of this union is not assignable to `User`
info: Function defined here
   --> pyrogram/types/user_and_chats/user.py:278:9
    |
277 |     @staticmethod
278 |     def _parse(client, user: raw.base.User) -> User | None:
    |         ^^^^^^         ------------------- Parameter declared here
279 |         if user is None or isinstance(user, raw.types.UserEmpty):
280 |             return None
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Method `__getitem__` of type `bound method dict[int, User].__getitem__(key: int, /) -> User` cannot be called with key of type `None` on object of type `dict[int, User]`
  --> pyrogram/types/messages_and_media/message_reaction_count_updated.py:60:56
   |
58 |         raw_peer_id = utils.get_raw_peer_id(update.peer)
59 |         if peer_id > 0:
60 |             chat = types.Chat._parse_user_chat(client, users[raw_peer_id])
   |                                                        ^^^^^
61 |         else:
62 |             chat = types.Chat._parse_chat_chat(client, chats[raw_peer_id])
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Method `__getitem__` of type `bound method dict[int, Chat].__getitem__(key: int, /) -> Chat` cannot be called with key of type `None` on object of type `dict[int, Chat]`
  --> pyrogram/types/messages_and_media/message_reaction_count_updated.py:62:56
   |
60 |             chat = types.Chat._parse_user_chat(client, users[raw_peer_id])
61 |         else:
62 |             chat = types.Chat._parse_chat_chat(client, chats[raw_peer_id])
   |                                                        ^^^^^
63 |
64 |         return MessageReactionCountUpdated(
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/messages_and_media/message_reaction_count_updated.py:68:13
   |
66 |             chat=chat,
67 |             message_id=update.msg_id,
68 |             date=utils.timestamp_to_datetime(update.date),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `datetime`, found `datetime | None`
69 |             reactions=[
70 |                 types.ReactionCount._parse(client, rt) for rt in update.reactions
   |
info: Element `None` of this union is not assignable to `datetime`
info: Method defined here
  --> pyrogram/types/messages_and_media/message_reaction_count_updated.py:33:9
   |
31 |     """
32 |
33 |     def __init__(
   |         ^^^^^^^^
34 |         self,
35 |         *,
   |
  ::: pyrogram/types/messages_and_media/message_reaction_count_updated.py:39:9
   |
37 |         chat: types.Chat,
38 |         message_id: int,
39 |         date: datetime,
   |         -------------- Parameter declared here
40 |         reactions: list[types.ReactionCount],
41 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/messages_and_media/message_reaction_count_updated.py:69:13
   |
67 |               message_id=update.msg_id,
68 |               date=utils.timestamp_to_datetime(update.date),
69 | /             reactions=[
70 | |                 types.ReactionCount._parse(client, rt) for rt in update.reactions
71 | |             ],
   | |_____________^ Expected `list[ReactionCount]`, found `list[ReactionCount | None]`
72 |           )
   |
info: Method defined here
  --> pyrogram/types/messages_and_media/message_reaction_count_updated.py:33:9
   |
31 |     """
32 |
33 |     def __init__(
   |         ^^^^^^^^
34 |         self,
35 |         *,
   |
  ::: pyrogram/types/messages_and_media/message_reaction_count_updated.py:40:9
   |
38 |         message_id: int,
39 |         date: datetime,
40 |         reactions: list[types.ReactionCount],
   |         ------------------------------------ Parameter declared here
41 |     ) -> None:
42 |         super().__init__(client)
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/types/messages_and_media/message_reaction_count_updated.py:70:52
   |
68 |             date=utils.timestamp_to_datetime(update.date),
69 |             reactions=[
70 |                 types.ReactionCount._parse(client, rt) for rt in update.reactions
   |                                                    ^^ Expected `pyrogram.raw.types.reaction_count.ReactionCount`, found `Unknown | pyrogram.raw.base.reaction_count.ReactionCount`
71 |             ],
72 |         )
   |
info: Element `ReactionCount` of this union is not assignable to `pyrogram.raw.types.reaction_count.ReactionCount`
info: Function defined here
   --> pyrogram/types/messages_and_media/reaction.py:195:9
    |
194 |     @staticmethod
195 |     def _parse(
    |         ^^^^^^
196 |         client: pyrogram.Client,
197 |         update: raw.types.ReactionCount,
    |         ------------------------------- Parameter declared here
198 |     ) -> ReactionCount | None:
199 |         return ReactionCount(
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Method `__getitem__` of type `bound method dict[int, User].__getitem__(key: int, /) -> User` cannot be called with key of type `None` on object of type `dict[int, User]`
  --> pyrogram/types/messages_and_media/message_reaction_updated.py:78:56
   |
76 |         raw_peer_id = utils.get_raw_peer_id(update.peer)
77 |         if peer_id > 0:
78 |             chat = types.Chat._parse_user_chat(client, users[raw_peer_id])
   |                                                        ^^^^^
79 |         else:
80 |             chat = types.Chat._parse_channel_chat(client, chats[raw_peer_id])
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Method `__getitem__` of type `bound method dict[int, Chat].__getitem__(key: int, /) -> Chat` cannot be called with key of type `None` on object of type `dict[int, Chat]`
  --> pyrogram/types/messages_and_media/message_reaction_updated.py:80:59
   |
78 |             chat = types.Chat._parse_user_chat(client, users[raw_peer_id])
79 |         else:
80 |             chat = types.Chat._parse_channel_chat(client, chats[raw_peer_id])
   |                                                           ^^^^^
81 |
82 |         from_user = None
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse_channel_chat` is incorrect
  --> pyrogram/types/messages_and_media/message_reaction_updated.py:80:59
   |
78 |             chat = types.Chat._parse_user_chat(client, users[raw_peer_id])
79 |         else:
80 |             chat = types.Chat._parse_channel_chat(client, chats[raw_peer_id])
   |                                                           ^^^^^^^^^^^^^^^^^^ Expected `Channel`, found `Chat`
81 |
82 |         from_user = None
   |
info: Function defined here
   --> pyrogram/types/user_and_chats/chat.py:431:9
    |
430 |     @staticmethod
431 |     def _parse_channel_chat(client, channel: raw.types.Channel) -> Chat:
    |         ^^^^^^^^^^^^^^^^^^^         -------------------------- Parameter declared here
432 |         peer_id = utils.get_channel_id(channel.id)
433 |         restriction_reason = getattr(channel, "restriction_reason", [])
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Method `__getitem__` of type `bound method dict[int, User].__getitem__(key: int, /) -> User` cannot be called with key of type `None` on object of type `dict[int, User]`
  --> pyrogram/types/messages_and_media/message_reaction_updated.py:89:51
   |
88 |         if actor_peer_id > 0:
89 |             from_user = types.User._parse(client, users[raw_actor_peer_id])
   |                                                   ^^^^^
90 |         else:
91 |             actor_chat = types.Chat._parse_channel_chat(
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Method `__getitem__` of type `bound method dict[int, Chat].__getitem__(key: int, /) -> Chat` cannot be called with key of type `None` on object of type `dict[int, Chat]`
  --> pyrogram/types/messages_and_media/message_reaction_updated.py:93:17
   |
91 |             actor_chat = types.Chat._parse_channel_chat(
92 |                 client,
93 |                 chats[raw_actor_peer_id],
   |                 ^^^^^
94 |             )
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse_channel_chat` is incorrect
  --> pyrogram/types/messages_and_media/message_reaction_updated.py:93:17
   |
91 |             actor_chat = types.Chat._parse_channel_chat(
92 |                 client,
93 |                 chats[raw_actor_peer_id],
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^ Expected `Channel`, found `Chat`
94 |             )
   |
info: Function defined here
   --> pyrogram/types/user_and_chats/chat.py:431:9
    |
430 |     @staticmethod
431 |     def _parse_channel_chat(client, channel: raw.types.Channel) -> Chat:
    |         ^^^^^^^^^^^^^^^^^^^         -------------------------- Parameter declared here
432 |         peer_id = utils.get_channel_id(channel.id)
433 |         restriction_reason = getattr(channel, "restriction_reason", [])
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/messages_and_media/message_reaction_updated.py:99:13
    |
 97 |             client=client,
 98 |             id=update.msg_id,
 99 |             from_user=from_user,
    |             ^^^^^^^^^^^^^^^^^^^ Expected `User`, found `None | User`
100 |             date=utils.timestamp_to_datetime(update.date),
101 |             chat=chat,
    |
info: Element `None` of this union is not assignable to `User`
info: Method defined here
  --> pyrogram/types/messages_and_media/message_reaction_updated.py:45:9
   |
43 |     """
44 |
45 |     def __init__(
   |         ^^^^^^^^
46 |         self,
47 |         *,
48 |         client: pyrogram.Client  | None = None,
49 |         id: int,
50 |         from_user: types.User,
   |         --------------------- Parameter declared here
51 |         actor_chat: types.Chat,
52 |         date: datetime,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/messages_and_media/message_reaction_updated.py:100:13
    |
 98 |             id=update.msg_id,
 99 |             from_user=from_user,
100 |             date=utils.timestamp_to_datetime(update.date),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `datetime`, found `datetime | None`
101 |             chat=chat,
102 |             actor_chat=actor_chat,
    |
info: Element `None` of this union is not assignable to `datetime`
info: Method defined here
  --> pyrogram/types/messages_and_media/message_reaction_updated.py:45:9
   |
43 |     """
44 |
45 |     def __init__(
   |         ^^^^^^^^
46 |         self,
47 |         *,
   |
  ::: pyrogram/types/messages_and_media/message_reaction_updated.py:52:9
   |
50 |         from_user: types.User,
51 |         actor_chat: types.Chat,
52 |         date: datetime,
   |         -------------- Parameter declared here
53 |         chat: types.Chat,
54 |         old_reaction: list[types.ReactionType],
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/messages_and_media/message_reaction_updated.py:102:13
    |
100 |             date=utils.timestamp_to_datetime(update.date),
101 |             chat=chat,
102 |             actor_chat=actor_chat,
    |             ^^^^^^^^^^^^^^^^^^^^^ Expected `Chat`, found `None | Chat`
103 |             old_reaction=[
104 |                 types.ReactionType._parse(client, rt) for rt in update.old_reactions
    |
info: Element `None` of this union is not assignable to `Chat`
info: Method defined here
  --> pyrogram/types/messages_and_media/message_reaction_updated.py:45:9
   |
43 |     """
44 |
45 |     def __init__(
   |         ^^^^^^^^
46 |         self,
47 |         *,
   |
  ::: pyrogram/types/messages_and_media/message_reaction_updated.py:51:9
   |
49 |         id: int,
50 |         from_user: types.User,
51 |         actor_chat: types.Chat,
   |         ---------------------- Parameter declared here
52 |         date: datetime,
53 |         chat: types.Chat,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/messages_and_media/message_reaction_updated.py:103:13
    |
101 |               chat=chat,
102 |               actor_chat=actor_chat,
103 | /             old_reaction=[
104 | |                 types.ReactionType._parse(client, rt) for rt in update.old_reactions
105 | |             ],
    | |_____________^ Expected `list[ReactionType]`, found `list[ReactionType | None]`
106 |               new_reaction=[
107 |                   types.ReactionType._parse(client, rt) for rt in update.new_reactions
    |
info: Method defined here
  --> pyrogram/types/messages_and_media/message_reaction_updated.py:45:9
   |
43 |     """
44 |
45 |     def __init__(
   |         ^^^^^^^^
46 |         self,
47 |         *,
   |
  ::: pyrogram/types/messages_and_media/message_reaction_updated.py:54:9
   |
52 |         date: datetime,
53 |         chat: types.Chat,
54 |         old_reaction: list[types.ReactionType],
   |         -------------------------------------- Parameter declared here
55 |         new_reaction: list[types.ReactionType],
56 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/messages_and_media/message_reaction_updated.py:106:13
    |
104 |                   types.ReactionType._parse(client, rt) for rt in update.old_reactions
105 |               ],
106 | /             new_reaction=[
107 | |                 types.ReactionType._parse(client, rt) for rt in update.new_reactions
108 | |             ],
    | |_____________^ Expected `list[ReactionType]`, found `list[ReactionType | None]`
109 |           )
    |
info: Method defined here
  --> pyrogram/types/messages_and_media/message_reaction_updated.py:45:9
   |
43 |     """
44 |
45 |     def __init__(
   |         ^^^^^^^^
46 |         self,
47 |         *,
   |
  ::: pyrogram/types/messages_and_media/message_reaction_updated.py:55:9
   |
53 |         chat: types.Chat,
54 |         old_reaction: list[types.ReactionType],
55 |         new_reaction: list[types.ReactionType],
   |         -------------------------------------- Parameter declared here
56 |     ) -> None:
57 |         super().__init__(client)
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `MessageReactions & ~AlwaysFalsy` has no attribute `results`
  --> pyrogram/types/messages_and_media/message_reactions.py:44:33
   |
42 |             reactions=[
43 |                 types.Reaction._parse_count(client, reaction)
44 |                 for reaction in message_reactions.results
   |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^
45 |             ],
46 |             top_reactors=[
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/messages_and_media/message_reactions.py:46:13
   |
44 |                   for reaction in message_reactions.results
45 |               ],
46 | /             top_reactors=[
47 | |                 types.MessageReactor._parse(client, reactor, users)
48 | |                 for reactor in message_reactions.top_reactors
49 | |             ],
   | |_____________^ Expected `list[MessageReactor] | None`, found `list[MessageReactor | None]`
50 |           )
   |
info: Method defined here
  --> pyrogram/types/messages_and_media/message_reactions.py:19:9
   |
17 |     """
18 |
19 |     def __init__(
   |         ^^^^^^^^
20 |         self,
21 |         *,
22 |         client: pyrogram.Client  | None = None,
23 |         reactions: list[types.Reaction] | None = None,
24 |         top_reactors: list[types.MessageReactor] | None = None,
   |         ------------------------------------------------------ Parameter declared here
25 |     ) -> None:
26 |         super().__init__(client)
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `MessageReactions & ~AlwaysFalsy` has no attribute `top_reactors`
  --> pyrogram/types/messages_and_media/message_reactions.py:48:32
   |
46 |             top_reactors=[
47 |                 types.MessageReactor._parse(client, reactor, users)
48 |                 for reactor in message_reactions.top_reactors
   |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
49 |             ],
50 |         )
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `MessageReactor & ~AlwaysFalsy` has no attribute `anonymous`
  --> pyrogram/types/messages_and_media/message_reactor.py:55:24
   |
53 |             return None
54 |
55 |         is_anonymous = message_reactor.anonymous
   |                        ^^^^^^^^^^^^^^^^^^^^^^^^^
56 |         from_user = None
57 |         if not is_anonymous:
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/types/messages_and_media/message_reactor.py:60:17
   |
58 |             from_user = types.User._parse(
59 |                 client,
60 |                 users.get(message_reactor.peer_id.user_id),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `pyrogram.raw.base.user.User`, found `pyrogram.raw.types.user.User | None`
61 |             )
   |
info: Element `None` of this union is not assignable to `pyrogram.raw.base.user.User`
info: Function defined here
   --> pyrogram/types/user_and_chats/user.py:278:9
    |
277 |     @staticmethod
278 |     def _parse(client, user: raw.base.User) -> User | None:
    |         ^^^^^^         ------------------- Parameter declared here
279 |         if user is None or isinstance(user, raw.types.UserEmpty):
280 |             return None
    |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `get` is not defined on `None` in union `dict[int, User] | None`
  --> pyrogram/types/messages_and_media/message_reactor.py:60:17
   |
58 |             from_user = types.User._parse(
59 |                 client,
60 |                 users.get(message_reactor.peer_id.user_id),
   |                 ^^^^^^^^^
61 |             )
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `MessageReactor & ~AlwaysFalsy` has no attribute `peer_id`
  --> pyrogram/types/messages_and_media/message_reactor.py:60:27
   |
58 |             from_user = types.User._parse(
59 |                 client,
60 |                 users.get(message_reactor.peer_id.user_id),
   |                           ^^^^^^^^^^^^^^^^^^^^^^^
61 |             )
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `MessageReactor & ~AlwaysFalsy` has no attribute `count`
  --> pyrogram/types/messages_and_media/message_reactor.py:65:20
   |
63 |         return MessageReactor(
64 |             client=client,
65 |             amount=message_reactor.count,
   |                    ^^^^^^^^^^^^^^^^^^^^^
66 |             is_top=message_reactor.top,
67 |             is_my=message_reactor.my,
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `MessageReactor & ~AlwaysFalsy` has no attribute `top`
  --> pyrogram/types/messages_and_media/message_reactor.py:66:20
   |
64 |             client=client,
65 |             amount=message_reactor.count,
66 |             is_top=message_reactor.top,
   |                    ^^^^^^^^^^^^^^^^^^^
67 |             is_my=message_reactor.my,
68 |             is_anonymous=is_anonymous,
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `MessageReactor & ~AlwaysFalsy` has no attribute `my`
  --> pyrogram/types/messages_and_media/message_reactor.py:67:19
   |
65 |             amount=message_reactor.count,
66 |             is_top=message_reactor.top,
67 |             is_my=message_reactor.my,
   |                   ^^^^^^^^^^^^^^^^^^
68 |             is_anonymous=is_anonymous,
69 |             from_user=from_user,
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/messages_and_media/message_story.py:48:21
   |
46 |             chat = await client.invoke(
47 |                 raw.functions.channels.GetChannels(
48 |                     id=[await client.resolve_peer(chat_id)],
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `list[InputChannel]`, found `list[Unknown | InputPeer | InputUser | InputChannel]`
49 |                 ),
50 |             )
   |
info: Method defined here
  --> pyrogram/raw/functions/channels/get_channels.py:36:9
   |
34 |     QUALNAME = "functions.channels.GetChannels"
35 |
36 |     def __init__(self, *, id: List["raw.base.InputChannel"]) -> None:
   |         ^^^^^^^^          --------------------------------- Parameter declared here
37 |         self.id = id  # Vector<InputChannel>
   |
info: Union variant `bound method GetChannels.__init__(*, id: list[InputChannel]) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetChannels.__init__(*, id: list[InputChannel]) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `user_id` is not defined on `Peer & ~PeerChannel` in union `(Unknown & ~PeerChannel) | (Peer & ~PeerChannel)`
  --> pyrogram/types/messages_and_media/message_story.py:53:23
   |
51 |             sender_chat = types.Chat._parse_chat(client, chat.chats[0])
52 |         else:
53 |             user_id = message_story.peer.user_id
   |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^
54 |             from_user = await client.get_users(user_id)
55 |         if not client.me.is_bot:
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `is_bot` is not defined on `None` in union `User | None`
  --> pyrogram/types/messages_and_media/message_story.py:55:16
   |
53 |             user_id = message_story.peer.user_id
54 |             from_user = await client.get_users(user_id)
55 |         if not client.me.is_bot:
   |                ^^^^^^^^^^^^^^^^
56 |             return await client.get_stories(user_id or chat_id, message_story.id)
57 |         return MessageStory(
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/types/messages_and_media/message_story.py:56:20
   |
54 |             from_user = await client.get_users(user_id)
55 |         if not client.me.is_bot:
56 |             return await client.get_stories(user_id or chat_id, message_story.id)
   |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `MessageStory | Story`, found `Story | list[Story]`
57 |         return MessageStory(
58 |             from_user=from_user,
   |
  ::: pyrogram/types/messages_and_media/message_story.py:39:10
   |
37 |         client: pyrogram.Client,
38 |         message_story: raw.types.MessageMediaStory,
39 |     ) -> MessageStory | types.Story:
   |          -------------------------- Expected `MessageStory | Story` because of return type
40 |         from_user = None
41 |         sender_chat = None
   |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `get_stories` is incorrect
  --> pyrogram/types/messages_and_media/message_story.py:56:45
   |
54 |             from_user = await client.get_users(user_id)
55 |         if not client.me.is_bot:
56 |             return await client.get_stories(user_id or chat_id, message_story.id)
   |                                             ^^^^^^^^^^^^^^^^^^ Expected `int | str`, found `(Unknown & ~AlwaysFalsy) | None | int`
57 |         return MessageStory(
58 |             from_user=from_user,
   |
info: Element `None` of this union is not assignable to `int | str`
info: Method defined here
  --> pyrogram/methods/stories/get_stories.py:16:15
   |
15 | class GetStories:
16 |     async def get_stories(
   |               ^^^^^^^^^^^
17 |         self: pyrogram.Client,
18 |         chat_id: int | str,
   |         ------------------ Parameter declared here
19 |         story_ids: int | Iterable[int],
20 |     ) -> types.Story | list[types.Story]:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/messages_and_media/message_story.py:58:13
   |
56 |             return await client.get_stories(user_id or chat_id, message_story.id)
57 |         return MessageStory(
58 |             from_user=from_user,
   |             ^^^^^^^^^^^^^^^^^^^ Expected `User | None`, found `None | User | list[User]`
59 |             sender_chat=sender_chat,
60 |             story_id=message_story.id,
   |
info: Element `list[User]` of this union is not assignable to `User | None`
info: Method defined here
  --> pyrogram/types/messages_and_media/message_story.py:22:9
   |
20 |     """
21 |
22 |     def __init__(
   |         ^^^^^^^^
23 |         self,
24 |         *,
25 |         from_user: types.User  | None = None,
   |         ------------------------------------ Parameter declared here
26 |         sender_chat: types.Chat  | None = None,
27 |         story_id: int,
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `PaymentForm` has no attribute `users`
  --> pyrogram/types/messages_and_media/payment_form.py:85:35
   |
83 |     @staticmethod
84 |     def _parse(client, payment_form: raw.base.payments.PaymentForm) -> PaymentForm:
85 |         users = {i.id: i for i in payment_form.users}
   |                                   ^^^^^^^^^^^^^^^^^^
86 |
87 |         return PaymentForm(
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `PaymentForm` has no attribute `form_id`
  --> pyrogram/types/messages_and_media/payment_form.py:88:16
   |
87 |         return PaymentForm(
88 |             id=payment_form.form_id,
   |                ^^^^^^^^^^^^^^^^^^^^
89 |             bot=types.User._parse(client, users.get(payment_form.bot_id)),
90 |             title=payment_form.title,
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/messages_and_media/payment_form.py:89:13
   |
87 |         return PaymentForm(
88 |             id=payment_form.form_id,
89 |             bot=types.User._parse(client, users.get(payment_form.bot_id)),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `User`, found `User | None`
90 |             title=payment_form.title,
91 |             description=payment_form.description,
   |
info: Element `None` of this union is not assignable to `User`
info: Method defined here
  --> pyrogram/types/messages_and_media/payment_form.py:48:9
   |
46 |     """
47 |
48 |     def __init__(
   |         ^^^^^^^^
49 |         self,
50 |         *,
51 |         client: pyrogram.Client  | None = None,
52 |         id: int,
53 |         bot: types.User,
   |         --------------- Parameter declared here
54 |         title: str,
55 |         description: str,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/types/messages_and_media/payment_form.py:89:43
   |
87 |         return PaymentForm(
88 |             id=payment_form.form_id,
89 |             bot=types.User._parse(client, users.get(payment_form.bot_id)),
   |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `User`, found `Unknown | None`
90 |             title=payment_form.title,
91 |             description=payment_form.description,
   |
info: Element `None` of this union is not assignable to `User`
info: Function defined here
   --> pyrogram/types/user_and_chats/user.py:278:9
    |
277 |     @staticmethod
278 |     def _parse(client, user: raw.base.User) -> User | None:
    |         ^^^^^^         ------------------- Parameter declared here
279 |         if user is None or isinstance(user, raw.types.UserEmpty):
280 |             return None
    |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `PaymentForm` has no attribute `bot_id`
  --> pyrogram/types/messages_and_media/payment_form.py:89:53
   |
87 |         return PaymentForm(
88 |             id=payment_form.form_id,
89 |             bot=types.User._parse(client, users.get(payment_form.bot_id)),
   |                                                     ^^^^^^^^^^^^^^^^^^^
90 |             title=payment_form.title,
91 |             description=payment_form.description,
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `PaymentForm` has no attribute `title`
  --> pyrogram/types/messages_and_media/payment_form.py:90:19
   |
88 |             id=payment_form.form_id,
89 |             bot=types.User._parse(client, users.get(payment_form.bot_id)),
90 |             title=payment_form.title,
   |                   ^^^^^^^^^^^^^^^^^^
91 |             description=payment_form.description,
92 |             invoice=types.Invoice._parse(client, payment_form.invoice),
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `PaymentForm` has no attribute `description`
  --> pyrogram/types/messages_and_media/payment_form.py:91:25
   |
89 |             bot=types.User._parse(client, users.get(payment_form.bot_id)),
90 |             title=payment_form.title,
91 |             description=payment_form.description,
   |                         ^^^^^^^^^^^^^^^^^^^^^^^^
92 |             invoice=types.Invoice._parse(client, payment_form.invoice),
93 |             provider=types.User._parse(
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `PaymentForm` has no attribute `invoice`
  --> pyrogram/types/messages_and_media/payment_form.py:92:50
   |
90 |             title=payment_form.title,
91 |             description=payment_form.description,
92 |             invoice=types.Invoice._parse(client, payment_form.invoice),
   |                                                  ^^^^^^^^^^^^^^^^^^^^
93 |             provider=types.User._parse(
94 |                 client,
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/types/messages_and_media/payment_form.py:95:17
   |
93 |             provider=types.User._parse(
94 |                 client,
95 |                 users.get(getattr(payment_form, "provider_id", None)),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `User`, found `Unknown | None`
96 |             ),
97 |             url=getattr(payment_form, "url", None),
   |
info: Element `None` of this union is not assignable to `User`
info: Function defined here
   --> pyrogram/types/user_and_chats/user.py:278:9
    |
277 |     @staticmethod
278 |     def _parse(client, user: raw.base.User) -> User | None:
    |         ^^^^^^         ------------------- Parameter declared here
279 |         if user is None or isinstance(user, raw.types.UserEmpty):
280 |             return None
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/messages_and_media/photo.py:121:17
    |
119 |                 height=main.h,
120 |                 file_size=main.size,
121 |                 date=utils.timestamp_to_datetime(photo.date),
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `datetime`, found `datetime | None`
122 |                 ttl_seconds=ttl_seconds,
123 |                 thumbs=types.Thumbnail._parse(client, photo),
    |
info: Element `None` of this union is not assignable to `datetime`
info: Method defined here
  --> pyrogram/types/messages_and_media/photo.py:50:9
   |
48 |     """
49 |
50 |     def __init__(
   |         ^^^^^^^^
51 |         self,
52 |         *,
   |
  ::: pyrogram/types/messages_and_media/photo.py:59:9
   |
57 |         height: int,
58 |         file_size: int,
59 |         date: datetime,
   |         -------------- Parameter declared here
60 |         ttl_seconds: int | None = None,
61 |         thumbs: list[types.Thumbnail] | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
   --> pyrogram/types/messages_and_media/photo.py:126:16
    |
124 |                 client=client,
125 |             )
126 |         return None
    |                ^^^^ expected `Photo`, found `None`
    |
   ::: pyrogram/types/messages_and_media/photo.py:79:10
    |
 77 |         photo: raw.types.Photo,
 78 |         ttl_seconds: int | None = None,
 79 |     ) -> Photo:
    |          ----- Expected `Photo` because of return type
 80 |         if isinstance(photo, raw.types.Photo):
 81 |             photos: list[raw.types.PhotoSize] = []
    |
info: rule `invalid-return-type` is enabled by default

error[invalid-assignment]: Object of type `Unknown | pyrogram.raw.base.poll.Poll` is not assignable to `pyrogram.raw.types.poll.Poll`
   --> pyrogram/types/messages_and_media/poll.py:116:15
    |
114 |         users: list[raw.base.User],  # noqa: ARG004
115 |     ) -> Poll:
116 |         poll: raw.types.Poll = media_poll.poll
    |               --------------   ^^^^^^^^^^^^^^^ Incompatible value of type `Unknown | Poll`
    |               |
    |               Declared type
117 |         poll_results: raw.types.PollResults = media_poll.results
118 |         results: list[raw.types.PollAnswerVoters] = poll_results.results
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-assignment]: Object of type `Unknown | pyrogram.raw.base.poll_results.PollResults` is not assignable to `pyrogram.raw.types.poll_results.PollResults`
   --> pyrogram/types/messages_and_media/poll.py:117:23
    |
115 |     ) -> Poll:
116 |         poll: raw.types.Poll = media_poll.poll
117 |         poll_results: raw.types.PollResults = media_poll.results
    |                       ---------------------   ^^^^^^^^^^^^^^^^^^ Incompatible value of type `Unknown | PollResults`
    |                       |
    |                       Declared type
118 |         results: list[raw.types.PollAnswerVoters] = poll_results.results
    |
info: rule `invalid-assignment` is enabled by default

error[invalid-assignment]: Object of type `Unknown | list[pyrogram.raw.base.poll_answer_voters.PollAnswerVoters] | None` is not assignable to `list[pyrogram.raw.types.poll_answer_voters.PollAnswerVoters]`
   --> pyrogram/types/messages_and_media/poll.py:118:18
    |
116 |         poll: raw.types.Poll = media_poll.poll
117 |         poll_results: raw.types.PollResults = media_poll.results
118 |         results: list[raw.types.PollAnswerVoters] = poll_results.results
    |                  --------------------------------   ^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `Unknown | list[PollAnswerVoters] | None`
    |                  |
    |                  Declared type
119 |
120 |         chosen_option_id = None
    |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Attribute `entities` is not defined on `TextWithEntities` in union `Unknown | TextWithEntities`
   --> pyrogram/types/messages_and_media/poll.py:160:31
    |
158 |             [
159 |                 types.MessageEntity._parse(client, entity, {})
160 |                 for entity in poll.question.entities
    |                               ^^^^^^^^^^^^^^^^^^^^^^
161 |             ]
162 |             if poll.question.entities
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `entities` is not defined on `TextWithEntities` in union `Unknown | TextWithEntities`
   --> pyrogram/types/messages_and_media/poll.py:162:16
    |
160 |                 for entity in poll.question.entities
161 |             ]
162 |             if poll.question.entities
    |                ^^^^^^^^^^^^^^^^^^^^^^
163 |             else []
164 |         )
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `text` is not defined on `TextWithEntities` in union `Unknown | TextWithEntities`
   --> pyrogram/types/messages_and_media/poll.py:169:22
    |
167 |         return Poll(
168 |             id=str(poll.id),
169 |             question=poll.question.text,
    |                      ^^^^^^^^^^^^^^^^^^
170 |             options=options,
171 |             question_entities=question_entities,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `total_voters` is not defined on `PollResults` in union `Unknown | PollResults`
   --> pyrogram/types/messages_and_media/poll.py:172:31
    |
170 |             options=options,
171 |             question_entities=question_entities,
172 |             total_voter_count=media_poll.results.total_voters,
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
173 |             is_closed=poll.closed,
174 |             is_anonymous=not poll.public_voters,
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/messages_and_media/poll.py:173:13
    |
171 |             question_entities=question_entities,
172 |             total_voter_count=media_poll.results.total_voters,
173 |             is_closed=poll.closed,
    |             ^^^^^^^^^^^^^^^^^^^^^ Expected `bool`, found `Unknown | bool | None`
174 |             is_anonymous=not poll.public_voters,
175 |             type=enums.PollType.QUIZ if poll.quiz else enums.PollType.REGULAR,
    |
info: Element `None` of this union is not assignable to `bool`
info: Method defined here
  --> pyrogram/types/messages_and_media/poll.py:70:9
   |
68 |     """
69 |
70 |     def __init__(
   |         ^^^^^^^^
71 |         self,
72 |         *,
   |
  ::: pyrogram/types/messages_and_media/poll.py:79:9
   |
77 |         question_entities: list[types.MessageEntity] | None = None,
78 |         total_voter_count: int,
79 |         is_closed: bool,
   |         --------------- Parameter declared here
80 |         is_anonymous: bool | None = None,
81 |         type: enums.PollType  | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/messages_and_media/poll.py:180:13
    |
178 |               correct_option_id=correct_option_id,
179 |               explanation=poll_results.solution,
180 | /             explanation_entities=[
181 | |                 types.MessageEntity._parse(client, i, {})
182 | |                 for i in poll_results.solution_entities
183 | |             ]
184 | |             if poll_results.solution_entities
185 | |             else None,
    | |_____________________^ Expected `list[MessageEntity] | None`, found `list[MessageEntity | None] | None`
186 |               open_period=poll.close_period,
187 |               close_date=utils.timestamp_to_datetime(poll.close_date),
    |
info: Element `list[MessageEntity | None]` of this union is not assignable to `list[MessageEntity] | None`
info: Method defined here
  --> pyrogram/types/messages_and_media/poll.py:70:9
   |
68 |     """
69 |
70 |     def __init__(
   |         ^^^^^^^^
71 |         self,
72 |         *,
   |
  ::: pyrogram/types/messages_and_media/poll.py:86:9
   |
84 |         correct_option_id: int | None = None,
85 |         explanation: str | None = None,
86 |         explanation_entities: list[types.MessageEntity] | None = None,
   |         ------------------------------------------------------------- Parameter declared here
87 |         open_period: int | None = None,
88 |         close_date: datetime | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `user_id` is not defined on `Peer` in union `Unknown | Peer`
   --> pyrogram/types/messages_and_media/poll.py:189:40
    |
187 |             close_date=utils.timestamp_to_datetime(poll.close_date),
188 |             recent_voters=[
189 |                 await client.get_users(user.user_id)
    |                                        ^^^^^^^^^^^^
190 |                 for user in poll_results.recent_voters
191 |             ]
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `results` is not defined on `PollResults` in union `Unknown | PollResults`
   --> pyrogram/types/messages_and_media/poll.py:206:19
    |
204 |             return await Poll._parse(client, update, users)
205 |
206 |         results = update.results.results
    |                   ^^^^^^^^^^^^^^^^^^^^^^
207 |         chosen_option_id = None
208 |         correct_option_id = None
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `total_voters` is not defined on `PollResults` in union `Unknown | PollResults`
   --> pyrogram/types/messages_and_media/poll.py:231:31
    |
229 |             question="",
230 |             options=options,
231 |             total_voter_count=update.results.total_voters,
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
232 |             is_closed=False,
233 |             chosen_option_id=chosen_option_id,
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/messages_and_media/poll.py:235:13
    |
233 |               chosen_option_id=chosen_option_id,
234 |               correct_option_id=correct_option_id,
235 | /             recent_voters=[
236 | |                 types.User._parse(client, users.get(user.user_id, None))
237 | |                 for user in update.results.recent_voters
238 | |             ]
239 | |             if update.results.recent_voters
240 | |             else None,
    | |_____________________^ Expected `list[User] | None`, found `list[User | None] | None`
241 |               client=client,
242 |           )
    |
info: Element `list[User | None]` of this union is not assignable to `list[User] | None`
info: Method defined here
  --> pyrogram/types/messages_and_media/poll.py:70:9
   |
68 |     """
69 |
70 |     def __init__(
   |         ^^^^^^^^
71 |         self,
72 |         *,
   |
  ::: pyrogram/types/messages_and_media/poll.py:89:9
   |
87 |         open_period: int | None = None,
88 |         close_date: datetime | None = None,
89 |         recent_voters: list[types.User] | None = None,
   |         --------------------------------------------- Parameter declared here
90 |     ) -> None:
91 |         super().__init__(client)
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `list[User]` has no attribute `get`
   --> pyrogram/types/messages_and_media/poll.py:236:43
    |
234 |             correct_option_id=correct_option_id,
235 |             recent_voters=[
236 |                 types.User._parse(client, users.get(user.user_id, None))
    |                                           ^^^^^^^^^
237 |                 for user in update.results.recent_voters
238 |             ]
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `recent_voters` is not defined on `PollResults` in union `Unknown | PollResults`
   --> pyrogram/types/messages_and_media/poll.py:237:29
    |
235 |             recent_voters=[
236 |                 types.User._parse(client, users.get(user.user_id, None))
237 |                 for user in update.results.recent_voters
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
238 |             ]
239 |             if update.results.recent_voters
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `recent_voters` is not defined on `PollResults` in union `Unknown | PollResults`
   --> pyrogram/types/messages_and_media/poll.py:239:16
    |
237 |                 for user in update.results.recent_voters
238 |             ]
239 |             if update.results.recent_voters
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
240 |             else None,
241 |             client=client,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `Self@stop` has no attribute `chat`
   --> pyrogram/types/messages_and_media/poll.py:280:21
    |
279 |         return await self._client.stop_poll(
280 |             chat_id=self.chat.id,
    |                     ^^^^^^^^^
281 |             message_id=self.id,
282 |             reply_markup=reply_markup,
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `stop_poll` is incorrect
   --> pyrogram/types/messages_and_media/poll.py:281:13
    |
279 |         return await self._client.stop_poll(
280 |             chat_id=self.chat.id,
281 |             message_id=self.id,
    |             ^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | str`
282 |             reply_markup=reply_markup,
283 |             business_connection_id=self.business_connection_id
    |
info: Element `str` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/methods/messages/stop_poll.py:8:15
   |
 7 | class StopPoll:
 8 |     async def stop_poll(
   |               ^^^^^^^^^
 9 |         self: pyrogram.Client,
10 |         chat_id: int | str,
11 |         message_id: int,
   |         --------------- Parameter declared here
12 |         reply_markup: types.InlineKeyboardMarkup  | None = None,
13 |         business_connection_id: str | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `Self@stop` has no attribute `business_connection_id`
   --> pyrogram/types/messages_and_media/poll.py:283:36
    |
281 |             message_id=self.id,
282 |             reply_markup=reply_markup,
283 |             business_connection_id=self.business_connection_id
    |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
284 |             if business_connection_id is None
285 |             else business_connection_id,
    |
info: rule `unresolved-attribute` is enabled by default

warning[possibly-missing-attribute]: Submodule `utils` may not be available as an attribute on module `pyrogram`
  --> pyrogram/types/messages_and_media/poll_option.py:43:19
   |
41 |     async def write(self, client, i):
42 |         option, entities = (
43 |             await pyrogram.utils.parse_text_entities(
   |                   ^^^^^^^^^^^^^^
44 |                 client,
45 |                 self.text,
   |
help: Consider explicitly importing `pyrogram.utils`
info: rule `possibly-missing-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/messages_and_media/reaction.py:59:46
   |
57 |             return Reaction(
58 |                 client=client,
59 |                 type=ReactionTypeCustomEmoji(custom_emoji_id=reaction.document_id),
   |                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `str | None`, found `Unknown | int`
60 |             )
   |
info: Element `int` of this union is not assignable to `str | None`
info: Method defined here
   --> pyrogram/types/messages_and_media/reaction.py:144:9
    |
142 |     """
143 |
144 |     def __init__(self, *, custom_emoji_id: str | None = None) -> None:
    |         ^^^^^^^^          ---------------------------------- Parameter declared here
145 |         super().__init__(type="custom_emoji", custom_emoji_id=custom_emoji_id)
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/types/messages_and_media/reaction.py:64:16
   |
62 |         if isinstance(reaction, raw.types.ReactionPaid):
63 |             return Reaction(client=client, type=ReactionTypePaid())
64 |         return None
   |                ^^^^ expected `Reaction`, found `None`
65 |
66 |     @staticmethod
   |
  ::: pyrogram/types/messages_and_media/reaction.py:49:73
   |
48 |     @staticmethod
49 |     def _parse(client: pyrogram.Client, reaction: raw.base.Reaction) -> Reaction:
   |                                                                         -------- Expected `Reaction` because of return type
50 |         if isinstance(reaction, raw.types.ReactionEmoji):
51 |             return Reaction(
   |
info: rule `invalid-return-type` is enabled by default

error[unresolved-attribute]: Object of type `ReactionCount` has no attribute `reaction`
  --> pyrogram/types/messages_and_media/reaction.py:71:44
   |
69 |         reaction_count: raw.base.ReactionCount,
70 |     ) -> Reaction:
71 |         reaction = Reaction._parse(client, reaction_count.reaction)
   |                                            ^^^^^^^^^^^^^^^^^^^^^^^
72 |         reaction.count = reaction_count.count
73 |         reaction.chosen_order = reaction_count.chosen_order
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ReactionCount` has no attribute `count`
  --> pyrogram/types/messages_and_media/reaction.py:72:26
   |
70 |     ) -> Reaction:
71 |         reaction = Reaction._parse(client, reaction_count.reaction)
72 |         reaction.count = reaction_count.count
   |                          ^^^^^^^^^^^^^^^^^^^^
73 |         reaction.chosen_order = reaction_count.chosen_order
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ReactionCount` has no attribute `chosen_order`
  --> pyrogram/types/messages_and_media/reaction.py:73:33
   |
71 |         reaction = Reaction._parse(client, reaction_count.reaction)
72 |         reaction.count = reaction_count.count
73 |         reaction.chosen_order = reaction_count.chosen_order
   |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
74 |
75 |         return reaction
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Module `pyrogram.raw.types` has no member `Reaction`
   --> pyrogram/types/messages_and_media/reaction.py:102:17
    |
100 |     def _parse(
101 |         client: pyrogram.Client,  # noqa: ARG004
102 |         update: raw.types.Reaction,
    |                 ^^^^^^^^^^^^^^^^^^
103 |     ) -> ReactionType | None:
104 |         if isinstance(update, raw.types.ReactionEmpty):
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-method-override]: Invalid override of method `write`
   --> pyrogram/types/messages_and_media/reaction.py:129:9
    |
127 |           super().__init__(type="emoji", emoji=emoji)
128 |
129 |       def write(
    |  _________^
130 | |         self,
131 | |         client: pyrogram.Client,  # noqa: ARG002
132 | |     ) -> raw.base.Reaction:
    | |__________________________^ Definition is incompatible with `ReactionType.write`
133 |           return raw.types.ReactionEmoji(emoticon=self.emoji)
    |
   ::: pyrogram/types/messages_and_media/reaction.py:114:9
    |
112 |           return None
113 |
114 |       def write(self, client: pyrogram.Client) -> NoReturn:
    |           ------------------------------------------------ `ReactionType.write` defined here
115 |           raise NotImplementedError
    |
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/messages_and_media/reaction.py:133:40
    |
131 |         client: pyrogram.Client,  # noqa: ARG002
132 |     ) -> raw.base.Reaction:
133 |         return raw.types.ReactionEmoji(emoticon=self.emoji)
    |                                        ^^^^^^^^^^^^^^^^^^^ Expected `str`, found `Unknown | str | None`
    |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/raw/types/reaction_emoji.py:35:9
   |
33 |     QUALNAME = "types.ReactionEmoji"
34 |
35 |     def __init__(self, *, emoticon: str) -> None:
   |         ^^^^^^^^          ------------- Parameter declared here
36 |         self.emoticon = emoticon  # string
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-method-override]: Invalid override of method `write`
   --> pyrogram/types/messages_and_media/reaction.py:147:9
    |
145 |           super().__init__(type="custom_emoji", custom_emoji_id=custom_emoji_id)
146 |
147 |       def write(
    |  _________^
148 | |         self,
149 | |         client: pyrogram.Client,  # noqa: ARG002
150 | |     ) -> raw.base.Reaction:
    | |__________________________^ Definition is incompatible with `ReactionType.write`
151 |           return raw.types.ReactionCustomEmoji(document_id=self.custom_emoji_id)
    |
   ::: pyrogram/types/messages_and_media/reaction.py:114:9
    |
112 |           return None
113 |
114 |       def write(self, client: pyrogram.Client) -> NoReturn:
    |           ------------------------------------------------ `ReactionType.write` defined here
115 |           raise NotImplementedError
    |
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/messages_and_media/reaction.py:151:46
    |
149 |         client: pyrogram.Client,  # noqa: ARG002
150 |     ) -> raw.base.Reaction:
151 |         return raw.types.ReactionCustomEmoji(document_id=self.custom_emoji_id)
    |                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | str | None`
    |
info: Union elements `str` and `None` are not assignable to `int`
info: Method defined here
  --> pyrogram/raw/types/reaction_custom_emoji.py:35:9
   |
33 |     QUALNAME = "types.ReactionCustomEmoji"
34 |
35 |     def __init__(self, *, document_id: int) -> None:
   |         ^^^^^^^^          ---------------- Parameter declared here
36 |         self.document_id = document_id  # long
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-method-override]: Invalid override of method `write`
   --> pyrogram/types/messages_and_media/reaction.py:160:9
    |
158 |           super().__init__(type="paid")
159 |
160 |       def write(
    |  _________^
161 | |         self,
162 | |         client: pyrogram.Client,  # noqa: ARG002
163 | |     ) -> raw.base.Reaction:
    | |__________________________^ Definition is incompatible with `ReactionType.write`
164 |           return raw.types.ReactionPaid()
    |
   ::: pyrogram/types/messages_and_media/reaction.py:114:9
    |
112 |           return None
113 |
114 |       def write(self, client: pyrogram.Client) -> NoReturn:
    |           ------------------------------------------------ `ReactionType.write` defined here
115 |           raise NotImplementedError
    |
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/messages_and_media/reaction.py:200:13
    |
198 |     ) -> ReactionCount | None:
199 |         return ReactionCount(
200 |             type=ReactionType._parse(client, update.reaction),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `ReactionType`, found `ReactionType | None`
201 |             total_count=update.count,
202 |             chosen_order=update.chosen_order,
    |
info: Element `None` of this union is not assignable to `ReactionType`
info: Method defined here
   --> pyrogram/types/messages_and_media/reaction.py:182:9
    |
180 |     """
181 |
182 |     def __init__(
    |         ^^^^^^^^
183 |         self,
184 |         *,
185 |         type: ReactionType,
    |         ------------------ Parameter declared here
186 |         total_count: int,
187 |         chosen_order: int,
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/messages_and_media/reaction.py:202:13
    |
200 |             type=ReactionType._parse(client, update.reaction),
201 |             total_count=update.count,
202 |             chosen_order=update.chosen_order,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | int | None`
203 |         )
    |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
   --> pyrogram/types/messages_and_media/reaction.py:182:9
    |
180 |     """
181 |
182 |     def __init__(
    |         ^^^^^^^^
183 |         self,
184 |         *,
185 |         type: ReactionType,
186 |         total_count: int,
187 |         chosen_order: int,
    |         ----------------- Parameter declared here
188 |     ) -> None:
189 |         super().__init__()
    |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `DocumentAttribute` has no attribute `stickerset`
   --> pyrogram/types/messages_and_media/sticker.py:171:23
    |
169 |         video_attributes = document_attributes.get(raw.types.DocumentAttributeVideo)
170 |
171 |         sticker_set = sticker_attributes.stickerset
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
172 |
173 |         if isinstance(sticker_set, raw.types.InputStickerSetID):
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `DocumentAttribute & ~AlwaysFalsy` has no attribute `w`
   --> pyrogram/types/messages_and_media/sticker.py:203:17
    |
201 |             ).encode(),
202 |             width=(
203 |                 image_size_attributes.w
    |                 ^^^^^^^^^^^^^^^^^^^^^^^
204 |                 if image_size_attributes
205 |                 else video_attributes.w
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `DocumentAttribute & ~AlwaysFalsy` has no attribute `w`
   --> pyrogram/types/messages_and_media/sticker.py:205:22
    |
203 |                 image_size_attributes.w
204 |                 if image_size_attributes
205 |                 else video_attributes.w
    |                      ^^^^^^^^^^^^^^^^^^
206 |                 if video_attributes
207 |                 else 512
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `DocumentAttribute & ~AlwaysFalsy` has no attribute `h`
   --> pyrogram/types/messages_and_media/sticker.py:210:17
    |
208 |             ),
209 |             height=(
210 |                 image_size_attributes.h
    |                 ^^^^^^^^^^^^^^^^^^^^^^^
211 |                 if image_size_attributes
212 |                 else video_attributes.h
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `DocumentAttribute & ~AlwaysFalsy` has no attribute `h`
   --> pyrogram/types/messages_and_media/sticker.py:212:22
    |
210 |                 image_size_attributes.h
211 |                 if image_size_attributes
212 |                 else video_attributes.h
    |                      ^^^^^^^^^^^^^^^^^^
213 |                 if video_attributes
214 |                 else 512
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/messages_and_media/sticker.py:218:13
    |
216 |             is_animated=sticker.mime_type == "application/x-tgsticker",
217 |             is_video=sticker.mime_type == "video/webm",
218 |             needs_repainting=needs_repainting,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `bool`, found `Unknown | bool | None`
219 |             # TODO: mask_position
220 |             set_name=set_name,
    |
info: Element `None` of this union is not assignable to `bool`
info: Method defined here
  --> pyrogram/types/messages_and_media/sticker.py:74:9
   |
72 |     # TODO: Add mask position
73 |
74 |     def __init__(
   |         ^^^^^^^^
75 |         self,
76 |         *,
   |
  ::: pyrogram/types/messages_and_media/sticker.py:84:9
   |
82 |         is_animated: bool,
83 |         is_video: bool,
84 |         needs_repainting: bool = False,
   |         ------------------------------ Parameter declared here
85 |         file_name: str | None = None,
86 |         mime_type: str | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `DocumentAttribute` has no attribute `alt`
   --> pyrogram/types/messages_and_media/sticker.py:221:19
    |
219 |             # TODO: mask_position
220 |             set_name=set_name,
221 |             emoji=sticker_attributes.alt or None,
    |                   ^^^^^^^^^^^^^^^^^^^^^^
222 |             file_size=sticker.size,
223 |             mime_type=sticker.mime_type,
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/messages_and_media/stickerset.py:54:13
   |
52 |     def _parse(stickerset: raw.types.StickerSet) -> StickerSet:
53 |         return StickerSet(
54 |             id=getattr(stickerset, "id", None),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Any | None`
55 |             title=getattr(stickerset, "title", None),
56 |             short_name=getattr(stickerset, "short_name", None),
   |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/types/messages_and_media/stickerset.py:34:9
   |
32 |     """
33 |
34 |     def __init__(
   |         ^^^^^^^^
35 |         self,
36 |         *,
37 |         id: int,
   |         ------- Parameter declared here
38 |         title: str,
39 |         short_name: str,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/messages_and_media/stickerset.py:55:13
   |
53 |         return StickerSet(
54 |             id=getattr(stickerset, "id", None),
55 |             title=getattr(stickerset, "title", None),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `str`, found `Any | None`
56 |             short_name=getattr(stickerset, "short_name", None),
57 |             count=getattr(stickerset, "count", None),
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/messages_and_media/stickerset.py:34:9
   |
32 |     """
33 |
34 |     def __init__(
   |         ^^^^^^^^
35 |         self,
36 |         *,
37 |         id: int,
38 |         title: str,
   |         ---------- Parameter declared here
39 |         short_name: str,
40 |         count: int,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/messages_and_media/stickerset.py:56:13
   |
54 |             id=getattr(stickerset, "id", None),
55 |             title=getattr(stickerset, "title", None),
56 |             short_name=getattr(stickerset, "short_name", None),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `str`, found `Any | None`
57 |             count=getattr(stickerset, "count", None),
58 |             masks=getattr(stickerset, "masks", None),
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/messages_and_media/stickerset.py:34:9
   |
32 |     """
33 |
34 |     def __init__(
   |         ^^^^^^^^
35 |         self,
36 |         *,
37 |         id: int,
38 |         title: str,
39 |         short_name: str,
   |         --------------- Parameter declared here
40 |         count: int,
41 |         masks: bool | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/messages_and_media/stickerset.py:57:13
   |
55 |             title=getattr(stickerset, "title", None),
56 |             short_name=getattr(stickerset, "short_name", None),
57 |             count=getattr(stickerset, "count", None),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Any | None`
58 |             masks=getattr(stickerset, "masks", None),
59 |             emojis=getattr(stickerset, "emojis", None),
   |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/types/messages_and_media/stickerset.py:34:9
   |
32 |     """
33 |
34 |     def __init__(
   |         ^^^^^^^^
35 |         self,
36 |         *,
   |
  ::: pyrogram/types/messages_and_media/stickerset.py:40:9
   |
38 |         title: str,
39 |         short_name: str,
40 |         count: int,
   |         ---------- Parameter declared here
41 |         masks: bool | None = None,
42 |         emojis: bool | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[not-iterable]: Object of type `list[Unknown | pyrogram.raw.types.photo_size.PhotoSize] | Unknown | list[pyrogram.raw.base.photo_size.PhotoSize] | None` may not be iterable
  --> pyrogram/types/messages_and_media/thumbnail.py:75:22
   |
73 |         parsed_thumbs = []
74 |
75 |         for thumb in raw_thumbs:
   |                      ^^^^^^^^^^
76 |             if not isinstance(thumb, raw.types.PhotoSize):
77 |                 continue
   |
info: It may not have an `__iter__` method or a `__getitem__` method
info: rule `not-iterable` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/messages_and_media/translated_text.py:41:13
   |
40 |         return TranslatedText(
41 |             text=Str(translate_result.text).init(entities) or None,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `str`, found `(Unknown & ~AlwaysFalsy) | None`
42 |             entities=entities or None,
43 |         )
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/messages_and_media/translated_text.py:20:9
   |
18 |     """
19 |
20 |     def __init__(
   |         ^^^^^^^^
21 |         self,
22 |         *,
23 |         text: str,
   |         --------- Parameter declared here
24 |         entities: list[types.MessageEntity] | None = None,
25 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/types/messages_and_media/venue.py:51:52
   |
49 |     def _parse(client, venue: raw.types.MessageMediaVenue):
50 |         return Venue(
51 |             location=types.Location._parse(client, venue.geo),
   |                                                    ^^^^^^^^^ Expected `pyrogram.raw.types.geo_point.GeoPoint`, found `Unknown | pyrogram.raw.base.geo_point.GeoPoint`
52 |             title=venue.title,
53 |             address=venue.address,
   |
info: Element `GeoPoint` of this union is not assignable to `pyrogram.raw.types.geo_point.GeoPoint`
info: Function defined here
  --> pyrogram/types/messages_and_media/location.py:32:9
   |
31 |     @staticmethod
32 |     def _parse(client, geo_point: raw.types.GeoPoint) -> Location:
   |         ^^^^^^         ----------------------------- Parameter declared here
33 |         if isinstance(geo_point, raw.types.GeoPoint):
34 |             return Location(
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/messages_and_media/video.py:115:13
    |
113 |             width=video_attributes.w,
114 |             height=video_attributes.h,
115 |             duration=video_attributes.duration,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | int | float`
116 |             file_name=file_name,
117 |             mime_type=video.mime_type,
    |
info: Element `float` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/types/messages_and_media/video.py:61:9
   |
59 |     """
60 |
61 |     def __init__(
   |         ^^^^^^^^
62 |         self,
63 |         *,
   |
  ::: pyrogram/types/messages_and_media/video.py:69:9
   |
67 |         width: int,
68 |         height: int,
69 |         duration: int,
   |         ------------- Parameter declared here
70 |         file_name: str | None = None,
71 |         mime_type: str | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/messages_and_media/video_note.py:92:13
   |
90 |             ).encode(),
91 |             length=video_attributes.w,
92 |             duration=video_attributes.duration,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | int | float`
93 |             file_size=video_note.size,
94 |             mime_type=video_note.mime_type,
   |
info: Element `float` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/types/messages_and_media/video_note.py:49:9
   |
47 |     """
48 |
49 |     def __init__(
   |         ^^^^^^^^
50 |         self,
51 |         *,
   |
  ::: pyrogram/types/messages_and_media/video_note.py:56:9
   |
54 |         file_unique_id: str,
55 |         length: int,
56 |         duration: int,
   |         ------------- Parameter declared here
57 |         thumbs: list[types.Thumbnail] | None = None,
58 |         mime_type: str | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/messages_and_media/web_page.py:138:57
    |
136 |             if raw.types.DocumentAttributeAudio in attributes:
137 |                 audio_attributes = attributes[raw.types.DocumentAttributeAudio]
138 |                 audio = types.Audio._parse(client, doc, audio_attributes, file_name)
    |                                                         ^^^^^^^^^^^^^^^^ Expected `DocumentAttributeAudio`, found `Unknown | DocumentAttribute`
139 |
140 |             elif raw.types.DocumentAttributeAnimated in attributes:
    |
info: Element `DocumentAttribute` of this union is not assignable to `DocumentAttributeAudio`
info: Function defined here
  --> pyrogram/types/messages_and_media/audio.py:84:9
   |
83 |     @staticmethod
84 |     def _parse(
   |         ^^^^^^
85 |         client,
86 |         audio: raw.types.Document,
87 |         audio_attributes: raw.types.DocumentAttributeAudio,
   |         -------------------------------------------------- Parameter declared here
88 |         file_name: str,
89 |     ) -> Audio:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/messages_and_media/web_page.py:138:75
    |
136 |             if raw.types.DocumentAttributeAudio in attributes:
137 |                 audio_attributes = attributes[raw.types.DocumentAttributeAudio]
138 |                 audio = types.Audio._parse(client, doc, audio_attributes, file_name)
    |                                                                           ^^^^^^^^^ Expected `str`, found `Any | None`
139 |
140 |             elif raw.types.DocumentAttributeAnimated in attributes:
    |
info: Element `None` of this union is not assignable to `str`
info: Function defined here
  --> pyrogram/types/messages_and_media/audio.py:84:9
   |
83 |     @staticmethod
84 |     def _parse(
   |         ^^^^^^
85 |         client,
86 |         audio: raw.types.Document,
87 |         audio_attributes: raw.types.DocumentAttributeAudio,
88 |         file_name: str,
   |         -------------- Parameter declared here
89 |     ) -> Audio:
90 |         return Audio(
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/messages_and_media/web_page.py:145:21
    |
143 |                     client,
144 |                     doc,
145 |                     video_attributes,
    |                     ^^^^^^^^^^^^^^^^ Expected `DocumentAttributeVideo`, found `Unknown | DocumentAttribute | None`
146 |                     file_name,
147 |                 )
    |
info: Union elements `DocumentAttribute` and `None` are not assignable to `DocumentAttributeVideo`
info: Function defined here
  --> pyrogram/types/messages_and_media/animation.py:85:9
   |
84 |     @staticmethod
85 |     def _parse(
   |         ^^^^^^
86 |         client,
87 |         animation: raw.types.Document,
88 |         video_attributes: raw.types.DocumentAttributeVideo,
   |         -------------------------------------------------- Parameter declared here
89 |         file_name: str,
90 |     ) -> Animation:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/messages_and_media/web_page.py:146:21
    |
144 |                     doc,
145 |                     video_attributes,
146 |                     file_name,
    |                     ^^^^^^^^^ Expected `str`, found `Any | None`
147 |                 )
    |
info: Element `None` of this union is not assignable to `str`
info: Function defined here
  --> pyrogram/types/messages_and_media/animation.py:85:9
   |
84 |     @staticmethod
85 |     def _parse(
   |         ^^^^^^
86 |         client,
87 |         animation: raw.types.Document,
88 |         video_attributes: raw.types.DocumentAttributeVideo,
89 |         file_name: str,
   |         -------------- Parameter declared here
90 |     ) -> Animation:
91 |         return Animation(
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/messages_and_media/web_page.py:151:57
    |
149 |             elif raw.types.DocumentAttributeVideo in attributes:
150 |                 video_attributes = attributes[raw.types.DocumentAttributeVideo]
151 |                 video = types.Video._parse(client, doc, video_attributes, file_name)
    |                                                         ^^^^^^^^^^^^^^^^ Expected `DocumentAttributeVideo`, found `Unknown | DocumentAttribute`
152 |
153 |             else:
    |
info: Element `DocumentAttribute` of this union is not assignable to `DocumentAttributeVideo`
info: Function defined here
  --> pyrogram/types/messages_and_media/video.py:94:9
   |
93 |     @staticmethod
94 |     def _parse(
   |         ^^^^^^
95 |         client,
96 |         video: raw.types.Document,
97 |         video_attributes: raw.types.DocumentAttributeVideo,
   |         -------------------------------------------------- Parameter declared here
98 |         file_name: str,
99 |         ttl_seconds: int | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/messages_and_media/web_page.py:151:75
    |
149 |             elif raw.types.DocumentAttributeVideo in attributes:
150 |                 video_attributes = attributes[raw.types.DocumentAttributeVideo]
151 |                 video = types.Video._parse(client, doc, video_attributes, file_name)
    |                                                                           ^^^^^^^^^ Expected `str`, found `Any | None`
152 |
153 |             else:
    |
info: Element `None` of this union is not assignable to `str`
info: Function defined here
   --> pyrogram/types/messages_and_media/video.py:94:9
    |
 93 |     @staticmethod
 94 |     def _parse(
    |         ^^^^^^
 95 |         client,
 96 |         video: raw.types.Document,
 97 |         video_attributes: raw.types.DocumentAttributeVideo,
 98 |         file_name: str,
    |         -------------- Parameter declared here
 99 |         ttl_seconds: int | None = None,
100 |     ) -> Video:
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/messages_and_media/web_page.py:154:63
    |
153 |             else:
154 |                 document = types.Document._parse(client, doc, file_name)
    |                                                               ^^^^^^^^^ Expected `str`, found `Any | None`
155 |
156 |         return WebPage(
    |
info: Element `None` of this union is not assignable to `str`
info: Function defined here
  --> pyrogram/types/messages_and_media/document.py:69:9
   |
68 |     @staticmethod
69 |     def _parse(client, document: raw.types.Document, file_name: str) -> Document:
   |         ^^^^^^                                       -------------- Parameter declared here
70 |         return Document(
71 |             file_id=FileId(
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/messages_and_media/web_page_empty.py:31:49
   |
29 |     @staticmethod
30 |     def _parse(webpage: raw.types.WebPageEmpty) -> WebPageEmpty:
31 |         return WebPageEmpty(id=str(webpage.id), url=webpage.url)
   |                                                 ^^^^^^^^^^^^^^^ Expected `str`, found `Unknown | str | None`
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/messages_and_media/web_page_empty.py:23:9
   |
21 |     """
22 |
23 |     def __init__(self, *, id: str, url: str) -> None:
   |         ^^^^^^^^                   -------- Parameter declared here
24 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `WebPage | WebPageEmpty` has no attribute `webpage`
  --> pyrogram/types/messages_and_media/web_page_preview.py:47:23
   |
45 |         invert_media: bool | None = None,
46 |     ):
47 |         if isinstance(web_page_preview.webpage, raw.types.WebPage):
   |                       ^^^^^^^^^^^^^^^^^^^^^^^^
48 |             webpage = types.WebPage._parse(client, web_page_preview.webpage)
49 |         else:
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `WebPage | WebPageEmpty` has no attribute `webpage`
  --> pyrogram/types/messages_and_media/web_page_preview.py:48:52
   |
46 |     ):
47 |         if isinstance(web_page_preview.webpage, raw.types.WebPage):
48 |             webpage = types.WebPage._parse(client, web_page_preview.webpage)
   |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^
49 |         else:
50 |             webpage = types.WebPageEmpty._parse(web_page_preview.webpage)
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `WebPage | WebPageEmpty` has no attribute `webpage`
  --> pyrogram/types/messages_and_media/web_page_preview.py:50:49
   |
48 |             webpage = types.WebPage._parse(client, web_page_preview.webpage)
49 |         else:
50 |             webpage = types.WebPageEmpty._parse(web_page_preview.webpage)
   |                                                 ^^^^^^^^^^^^^^^^^^^^^^^^
51 |         return WebPagePreview(
52 |             webpage=webpage,
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `WebPage | WebPageEmpty` has no attribute `force_large_media`
  --> pyrogram/types/messages_and_media/web_page_preview.py:53:31
   |
51 |         return WebPagePreview(
52 |             webpage=webpage,
53 |             force_large_media=web_page_preview.force_large_media,
   |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
54 |             force_small_media=web_page_preview.force_small_media,
55 |             invert_media=invert_media,
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `WebPage | WebPageEmpty` has no attribute `force_small_media`
  --> pyrogram/types/messages_and_media/web_page_preview.py:54:31
   |
52 |             webpage=webpage,
53 |             force_large_media=web_page_preview.force_large_media,
54 |             force_small_media=web_page_preview.force_small_media,
   |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
55 |             invert_media=invert_media,
56 |             is_safe=web_page_preview.safe,
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `WebPage | WebPageEmpty` has no attribute `safe`
  --> pyrogram/types/messages_and_media/web_page_preview.py:56:21
   |
54 |             force_small_media=web_page_preview.force_small_media,
55 |             invert_media=invert_media,
56 |             is_safe=web_page_preview.safe,
   |                     ^^^^^^^^^^^^^^^^^^^^^
57 |         )
   |
info: rule `unresolved-attribute` is enabled by default

warning[unused-type-ignore-comment]: Unused blanket `type: ignore` directive
  --> pyrogram/types/object.py:14:49
   |
12 | class Object:
13 |     def __init__(self, client: pyrogram.Client | None = None) -> None:
14 |         self._client: pyrogram.Client = client  # type: ignore
   |                                                 ^^^^^^^^^^^^^^
15 |
16 |     def bind(self, client: pyrogram.Client) -> None:
   |
help: Remove the unused suppression comment
11 |
12 | class Object:
13 |     def __init__(self, client: pyrogram.Client | None = None) -> None:
   -         self._client: pyrogram.Client = client  # type: ignore
14 +         self._client: pyrogram.Client = client
15 |
16 |     def bind(self, client: pyrogram.Client) -> None:
17 |         """Bind a Client instance to this and to all nested Pyrogram objects.

error[invalid-method-override]: Invalid override of method `__eq__`
   --> pyrogram/types/object.py:74:9
    |
 72 |     __hash__ = None
 73 |
 74 |     def __eq__(self, other: Object) -> bool:
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Definition is incompatible with `object.__eq__`
 75 |         for attr in self.__dict__:
 76 |             try:
    |
   ::: stdlib/builtins.pyi:142:9
    |
140 |     def __setattr__(self, name: str, value: Any, /) -> None: ...
141 |     def __delattr__(self, name: str, /) -> None: ...
142 |     def __eq__(self, value: object, /) -> bool: ...
    |         -------------------------------------- `object.__eq__` defined here
143 |     def __ne__(self, value: object, /) -> bool: ...
144 |     def __str__(self) -> str: ...  # noqa: Y029
    |
info: This violates the Liskov Substitution Principle
help: It is recommended for `__eq__` to work with arbitrary objects, for example:
help
help:     def __eq__(self, other: object) -> bool:
help:         if not isinstance(other, Object):
help:             return False
help:         return <logic to compare two `Object` instances>
help
info: rule `invalid-method-override` is enabled by default

error[unresolved-attribute]: Attribute `attributes` is not defined on `Document` in union `Unknown | Document`
   --> pyrogram/types/payments/gift.py:233:47
    |
231 |         if isinstance(star_gift, raw.types.StarGift):
232 |             doc = star_gift.sticker
233 |             attributes = {type(i): i for i in doc.attributes}
    |                                               ^^^^^^^^^^^^^^
234 |
235 |             return Gift(
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/payments/gift.py:237:60
    |
235 |             return Gift(
236 |                 id=star_gift.id,
237 |                 sticker=await types.Sticker._parse(client, doc, attributes),
    |                                                            ^^^ Expected `pyrogram.raw.types.document.Document`, found `Unknown | pyrogram.raw.base.document.Document`
238 |                 star_count=star_gift.stars,
239 |                 default_sell_star_count=star_gift.convert_stars,
    |
info: Element `Document` of this union is not assignable to `pyrogram.raw.types.document.Document`
info: Function defined here
   --> pyrogram/types/messages_and_media/sticker.py:147:15
    |
146 |     @staticmethod
147 |     async def _parse(
    |               ^^^^^^
148 |         client,
149 |         sticker: raw.types.Document,
    |         --------------------------- Parameter declared here
150 |         document_attributes: dict[
151 |             type[raw.base.DocumentAttribute],
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
   --> pyrogram/types/payments/gift.py:306:16
    |
304 |                 client=client,
305 |             )
306 |         return None
    |                ^^^^ expected `Gift`, found `None`
    |
   ::: pyrogram/types/payments/gift.py:230:10
    |
228 |         client,
229 |         star_gift: raw.base.StarGift,
230 |     ) -> Gift:
    |          ---- Expected `Gift` because of return type
231 |         if isinstance(star_gift, raw.types.StarGift):
232 |             doc = star_gift.sticker
    |
info: rule `invalid-return-type` is enabled by default

error[unresolved-attribute]: Module `pyrogram.raw.types` has no member `UserStarGift`
  --> pyrogram/types/payments/user_gift.py:76:25
   |
74 |     async def _parse(
75 |         client,
76 |         user_star_gift: raw.types.UserStarGift,
   |                         ^^^^^^^^^^^^^^^^^^^^^^
77 |         users: dict,
78 |     ) -> UserGift:
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/payments/user_gift.py:89:13
   |
88 |         return UserGift(
89 |             date=utils.timestamp_to_datetime(user_star_gift.date),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `datetime`, found `datetime | None`
90 |             gift=await types.Gift._parse(client, user_star_gift.gift),
91 |             is_private=getattr(user_star_gift, "name_hidden", None),
   |
info: Element `None` of this union is not assignable to `datetime`
info: Method defined here
  --> pyrogram/types/payments/user_gift.py:47:9
   |
45 |     """
46 |
47 |     def __init__(
   |         ^^^^^^^^
48 |         self,
49 |         *,
   |
  ::: pyrogram/types/payments/user_gift.py:54:9
   |
52 |         text: str | None = None,
53 |         entities: list[types.MessageEntity] | None = None,
54 |         date: datetime,
   |         -------------- Parameter declared here
55 |         is_private: bool | None = None,
56 |         is_saved: bool | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/types/payments/user_gift.py:95:51
   |
93 |             if getattr(user_star_gift, "unsaved", None)
94 |             else None,
95 |             sender_user=types.User._parse(client, users.get(user_star_gift.from_id))
   |                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `User`, found `Unknown | None`
96 |             if getattr(user_star_gift, "from_id", None)
97 |             else None,
   |
info: Element `None` of this union is not assignable to `User`
info: Function defined here
   --> pyrogram/types/user_and_chats/user.py:278:9
    |
277 |     @staticmethod
278 |     def _parse(client, user: raw.base.User) -> User | None:
    |         ^^^^^^         ------------------- Parameter declared here
279 |         if user is None or isinstance(user, raw.types.UserEmpty):
280 |             return None
    |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `Message` has no attribute `action`
   --> pyrogram/types/payments/user_gift.py:111:18
    |
109 |         users: dict,
110 |     ) -> UserGift:
111 |         action = message.action
    |                  ^^^^^^^^^^^^^^
112 |
113 |         doc = action.gift.sticker
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/payments/user_gift.py:135:13
    |
133 |                 is_limited=getattr(action.gift, "limited", None),
134 |             ),
135 |             date=utils.timestamp_to_datetime(message.date),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `datetime`, found `datetime | None`
136 |             is_private=getattr(action, "name_hidden", None),
137 |             is_saved=getattr(action, "saved", None),
    |
info: Element `None` of this union is not assignable to `datetime`
info: Method defined here
  --> pyrogram/types/payments/user_gift.py:47:9
   |
45 |     """
46 |
47 |     def __init__(
   |         ^^^^^^^^
48 |         self,
49 |         *,
   |
  ::: pyrogram/types/payments/user_gift.py:54:9
   |
52 |         text: str | None = None,
53 |         entities: list[types.MessageEntity] | None = None,
54 |         date: datetime,
   |         -------------- Parameter declared here
55 |         is_private: bool | None = None,
56 |         is_saved: bool | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `Message` has no attribute `date`
   --> pyrogram/types/payments/user_gift.py:135:46
    |
133 |                 is_limited=getattr(action.gift, "limited", None),
134 |             ),
135 |             date=utils.timestamp_to_datetime(message.date),
    |                                              ^^^^^^^^^^^^
136 |             is_private=getattr(action, "name_hidden", None),
137 |             is_saved=getattr(action, "saved", None),
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/payments/user_gift.py:140:17
    |
138 |             sender_user=types.User._parse(
139 |                 client,
140 |                 users.get(utils.get_raw_peer_id(message.peer_id)),
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `User`, found `Unknown | None`
141 |             ),
142 |             message_id=message.id,
    |
info: Element `None` of this union is not assignable to `User`
info: Function defined here
   --> pyrogram/types/user_and_chats/user.py:278:9
    |
277 |     @staticmethod
278 |     def _parse(client, user: raw.base.User) -> User | None:
    |         ^^^^^^         ------------------- Parameter declared here
279 |         if user is None or isinstance(user, raw.types.UserEmpty):
280 |             return None
    |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `Message` has no attribute `peer_id`
   --> pyrogram/types/payments/user_gift.py:140:49
    |
138 |             sender_user=types.User._parse(
139 |                 client,
140 |                 users.get(utils.get_raw_peer_id(message.peer_id)),
    |                                                 ^^^^^^^^^^^^^^^
141 |             ),
142 |             message_id=message.id,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `Message` has no attribute `id`
   --> pyrogram/types/payments/user_gift.py:142:24
    |
140 |                 users.get(utils.get_raw_peer_id(message.peer_id)),
141 |             ),
142 |             message_id=message.id,
    |                        ^^^^^^^^^^
143 |             text=Str(text).init(entities) if text else None,
144 |             entities=entities,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | User | None`
   --> pyrogram/types/payments/user_gift.py:174:28
    |
172 |         """
173 |         return await self._client.toggle_gift_is_saved(
174 |             sender_user_id=self.sender_user.id,
    |                            ^^^^^^^^^^^^^^^^^^^
175 |             message_id=self.message_id,
176 |             is_saved=is_saved,
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `toggle_gift_is_saved` is incorrect
   --> pyrogram/types/payments/user_gift.py:175:13
    |
173 |         return await self._client.toggle_gift_is_saved(
174 |             sender_user_id=self.sender_user.id,
175 |             message_id=self.message_id,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | int | None`
176 |             is_saved=is_saved,
177 |         )
    |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/methods/business/toggle_gift_is_saved.py:8:15
   |
 7 | class ToggleGiftIsSaved:
 8 |     async def toggle_gift_is_saved(
   |               ^^^^^^^^^^^^^^^^^^^^
 9 |         self: pyrogram.Client,
10 |         sender_user_id: int | str,
11 |         message_id: int,
   |         --------------- Parameter declared here
12 |         is_saved: bool,
13 |     ) -> bool:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/stories/input_media_area_channel_post.py:37:13
   |
35 |     async def write(self, client: pyrogram.Client):
36 |         return raw.types.InputMediaAreaChannelPost(
37 |             coordinates=self.coordinates,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `pyrogram.raw.base.media_area_coordinates.MediaAreaCoordinates`, found `Unknown | pyrogram.types.stories.media_area_coordinates.MediaAreaCoordinates`
38 |             channel=await client.resolve_peer(self.chat_id),
39 |             msg_id=self.message_id,
   |
info: Element `MediaAreaCoordinates` of this union is not assignable to `pyrogram.raw.base.media_area_coordinates.MediaAreaCoordinates`
info: Method defined here
  --> pyrogram/raw/types/input_media_area_channel_post.py:41:9
   |
39 |     QUALNAME = "types.InputMediaAreaChannelPost"
40 |
41 |     def __init__(self, *, coordinates: "raw.base.MediaAreaCoordinates", channel: "raw.base.InputChannel", msg_id: int) -> None:
   |         ^^^^^^^^          -------------------------------------------- Parameter declared here
42 |         self.coordinates = coordinates  # MediaAreaCoordinates
43 |         self.channel = channel  # InputChannel
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/stories/input_media_area_channel_post.py:38:13
   |
36 |         return raw.types.InputMediaAreaChannelPost(
37 |             coordinates=self.coordinates,
38 |             channel=await client.resolve_peer(self.chat_id),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InputChannel`, found `InputPeer | InputUser | InputChannel`
39 |             msg_id=self.message_id,
40 |         )
   |
info: Union elements `InputPeer` and `InputUser` are not assignable to `InputChannel`
info: Method defined here
  --> pyrogram/raw/types/input_media_area_channel_post.py:41:9
   |
39 |     QUALNAME = "types.InputMediaAreaChannelPost"
40 |
41 |     def __init__(self, *, coordinates: "raw.base.MediaAreaCoordinates", channel: "raw.base.InputChannel", msg_id: int) -> None:
   |         ^^^^^^^^                                                        -------------------------------- Parameter declared here
42 |         self.coordinates = coordinates  # MediaAreaCoordinates
43 |         self.channel = channel  # InputChannel
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
  --> pyrogram/types/stories/media_area.py:24:10
   |
22 |         self: pyrogram.Client,
23 |         media_area: raw.base.MediaArea,
24 |     ) -> MediaArea:
   |          --------- Expected `MediaArea` because of return type
25 |         if isinstance(media_area, raw.types.MediaAreaChannelPost):
26 |             return await types.MediaAreaChannelPost._parse(self, media_area)
27 |         return None
   |                ^^^^ expected `MediaArea`, found `None`
   |
info: rule `invalid-return-type` is enabled by default

error[invalid-method-override]: Invalid override of method `_parse`
  --> pyrogram/types/stories/media_area_channel_post.py:35:15
   |
33 |           self.message_id = message_id
34 |
35 |       async def _parse(
   |  _______________^
36 | |         self: pyrogram.Client,
37 | |         media_area: raw.types.MediaAreaChannelPost,
38 | |     ) -> MediaAreaChannelPost:
   | |_____________________________^ Definition is incompatible with `MediaArea._parse`
39 |           channel_id = utils.get_channel_id(media_area.channel_id)
40 |           chat = types.Chat._parse_chat(
   |
  ::: pyrogram/types/stories/media_area.py:21:15
   |
19 |           self.coordinates = coordinates
20 |
21 |       async def _parse(
   |  _______________-
22 | |         self: pyrogram.Client,
23 | |         media_area: raw.base.MediaArea,
24 | |     ) -> MediaArea:
   | |__________________- `MediaArea._parse` defined here
25 |           if isinstance(media_area, raw.types.MediaAreaChannelPost):
26 |               return await types.MediaAreaChannelPost._parse(self, media_area)
   |
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/stories/media_area_channel_post.py:45:25
   |
43 |                 await self.invoke(
44 |                     raw.functions.channels.GetChannels(
45 |                         id=[await self.resolve_peer(channel_id)],
   |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `list[InputChannel]`, found `list[Unknown | InputPeer | InputUser | InputChannel]`
46 |                     ),
47 |                 )
   |
info: Method defined here
  --> pyrogram/raw/functions/channels/get_channels.py:36:9
   |
34 |     QUALNAME = "functions.channels.GetChannels"
35 |
36 |     def __init__(self, *, id: List["raw.base.InputChannel"]) -> None:
   |         ^^^^^^^^          --------------------------------- Parameter declared here
37 |         self.id = id  # Vector<InputChannel>
   |
info: Union variant `bound method GetChannels.__init__(*, id: list[InputChannel]) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetChannels.__init__(*, id: list[InputChannel]) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/types/stories/media_area_channel_post.py:51:59
   |
49 |         )
50 |         return MediaAreaChannelPost(
51 |             coordinates=types.MediaAreaCoordinates._parse(media_area.coordinates),
   |                                                           ^^^^^^^^^^^^^^^^^^^^^^ Expected `pyrogram.raw.types.media_area_coordinates.MediaAreaCoordinates`, found `Unknown | pyrogram.raw.base.media_area_coordinates.MediaAreaCoordinates`
52 |             chat=chat,
53 |             message_id=media_area.msg_id,
   |
info: Element `MediaAreaCoordinates` of this union is not assignable to `pyrogram.raw.types.media_area_coordinates.MediaAreaCoordinates`
info: Function defined here
  --> pyrogram/types/stories/media_area_coordinates.py:43:9
   |
41 |         self.rotation = rotation
42 |
43 |     def _parse(
   |         ^^^^^^
44 |         self: raw.types.MediaAreaCoordinates,
   |         ------------------------------------ Parameter declared here
45 |     ) -> MediaAreaCoordinates:
46 |         return MediaAreaCoordinates(
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
   --> pyrogram/types/stories/story.py:169:10
    |
167 |         | raw.types.InputPeerChannel
168 |         | raw.types.InputPeerUser,
169 |     ) -> Story:
    |          ----- Expected `Story` because of return type
170 |         if isinstance(stories, raw.types.StoryItemSkipped):
171 |             return await types.StorySkipped._parse(client, stories, peer)
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `Story`, found `StorySkipped`
172 |         if isinstance(stories, raw.types.StoryItemDeleted):
173 |             return await types.StoryDeleted._parse(client, stories, peer)
    |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/stories/story.py:171:69
    |
169 |     ) -> Story:
170 |         if isinstance(stories, raw.types.StoryItemSkipped):
171 |             return await types.StorySkipped._parse(client, stories, peer)
    |                                                                     ^^^^ Expected `PeerChannel | PeerUser`, found `PeerChannel | PeerUser | InputPeerChannel | InputPeerUser`
172 |         if isinstance(stories, raw.types.StoryItemDeleted):
173 |             return await types.StoryDeleted._parse(client, stories, peer)
    |
info: Union elements `InputPeerChannel` and `InputPeerUser` are not assignable to `PeerChannel | PeerUser`
info: Function defined here
  --> pyrogram/types/stories/story_skipped.py:57:15
   |
55 |         self.close_friends = close_friends
56 |
57 |     async def _parse(
   |               ^^^^^^
58 |         self: pyrogram.Client,
59 |         stories: raw.base.StoryItem,
60 |         peer: raw.types.PeerChannel | raw.types.PeerUser,
   |         ------------------------------------------------ Parameter declared here
61 |     ) -> StorySkipped:
62 |         from_user = None
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
   --> pyrogram/types/stories/story.py:169:10
    |
167 |         | raw.types.InputPeerChannel
168 |         | raw.types.InputPeerUser,
169 |     ) -> Story:
    |          ----- Expected `Story` because of return type
170 |         if isinstance(stories, raw.types.StoryItemSkipped):
171 |             return await types.StorySkipped._parse(client, stories, peer)
172 |         if isinstance(stories, raw.types.StoryItemDeleted):
173 |             return await types.StoryDeleted._parse(client, stories, peer)
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `Story`, found `StoryDeleted`
174 |         entities = [
175 |             types.MessageEntity._parse(client, entity, {})
    |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/stories/story.py:173:69
    |
171 |             return await types.StorySkipped._parse(client, stories, peer)
172 |         if isinstance(stories, raw.types.StoryItemDeleted):
173 |             return await types.StoryDeleted._parse(client, stories, peer)
    |                                                                     ^^^^ Expected `PeerChannel | PeerUser`, found `PeerChannel | PeerUser | InputPeerChannel | InputPeerUser`
174 |         entities = [
175 |             types.MessageEntity._parse(client, entity, {})
    |
info: Union elements `InputPeerChannel` and `InputPeerUser` are not assignable to `PeerChannel | PeerUser`
info: Function defined here
  --> pyrogram/types/stories/story_deleted.py:37:15
   |
35 |         self.sender_chat = sender_chat
36 |
37 |     async def _parse(
   |               ^^^^^^
38 |         self: pyrogram.Client,
39 |         stories: raw.base.StoryItem,
40 |         peer: raw.types.PeerChannel | raw.types.PeerUser,
   |         ------------------------------------------------ Parameter declared here
41 |     ) -> StoryDeleted:
42 |         from_user = None
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem & ~StoryItemSkipped & ~StoryItemDeleted` has no attribute `entities`
   --> pyrogram/types/stories/story.py:176:27
    |
174 |         entities = [
175 |             types.MessageEntity._parse(client, entity, {})
176 |             for entity in stories.entities
    |                           ^^^^^^^^^^^^^^^^
177 |         ]
178 |         entities = types.List(filter(lambda x: x is not None, entities))
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem & ~StoryItemSkipped & ~StoryItemDeleted` has no attribute `media`
   --> pyrogram/types/stories/story.py:189:12
    |
187 |         allowed_users = None
188 |         denied_users = None
189 |         if stories.media:
    |            ^^^^^^^^^^^^^
190 |             if isinstance(stories.media, raw.types.MessageMediaPhoto):
191 |                 photo = types.Photo._parse(
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem & ~StoryItemSkipped & ~StoryItemDeleted` has no attribute `media`
   --> pyrogram/types/stories/story.py:190:27
    |
188 |         denied_users = None
189 |         if stories.media:
190 |             if isinstance(stories.media, raw.types.MessageMediaPhoto):
    |                           ^^^^^^^^^^^^^
191 |                 photo = types.Photo._parse(
192 |                     client,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem & ~StoryItemSkipped & ~StoryItemDeleted` has no attribute `media`
   --> pyrogram/types/stories/story.py:193:21
    |
191 |                 photo = types.Photo._parse(
192 |                     client,
193 |                     stories.media.photo,
    |                     ^^^^^^^^^^^^^
194 |                     stories.media.ttl_seconds,
195 |                 )
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem & ~StoryItemSkipped & ~StoryItemDeleted` has no attribute `media`
   --> pyrogram/types/stories/story.py:194:21
    |
192 |                     client,
193 |                     stories.media.photo,
194 |                     stories.media.ttl_seconds,
    |                     ^^^^^^^^^^^^^
195 |                 )
196 |                 media_type = enums.MessageMediaType.PHOTO
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem & ~StoryItemSkipped & ~StoryItemDeleted` has no attribute `media`
   --> pyrogram/types/stories/story.py:197:29
    |
195 |                 )
196 |                 media_type = enums.MessageMediaType.PHOTO
197 |             elif isinstance(stories.media, raw.types.MessageMediaDocument):
    |                             ^^^^^^^^^^^^^
198 |                 doc = stories.media.document
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem & ~StoryItemSkipped & ~StoryItemDeleted` has no attribute `media`
   --> pyrogram/types/stories/story.py:198:23
    |
196 |                 media_type = enums.MessageMediaType.PHOTO
197 |             elif isinstance(stories.media, raw.types.MessageMediaDocument):
198 |                 doc = stories.media.document
    |                       ^^^^^^^^^^^^^
199 |
200 |                 if isinstance(doc, raw.types.Document):
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/stories/story.py:210:29
    |
208 |                             client,
209 |                             doc,
210 |                             video_attributes,
    |                             ^^^^^^^^^^^^^^^^ Expected `DocumentAttributeVideo`, found `Unknown | None`
211 |                             None,
212 |                         )
    |
info: Element `None` of this union is not assignable to `DocumentAttributeVideo`
info: Function defined here
  --> pyrogram/types/messages_and_media/animation.py:85:9
   |
84 |     @staticmethod
85 |     def _parse(
   |         ^^^^^^
86 |         client,
87 |         animation: raw.types.Document,
88 |         video_attributes: raw.types.DocumentAttributeVideo,
   |         -------------------------------------------------- Parameter declared here
89 |         file_name: str,
90 |     ) -> Animation:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/stories/story.py:211:29
    |
209 |                             doc,
210 |                             video_attributes,
211 |                             None,
    |                             ^^^^ Expected `str`, found `None`
212 |                         )
213 |                         media_type = enums.MessageMediaType.ANIMATION
    |
info: Function defined here
  --> pyrogram/types/messages_and_media/animation.py:85:9
   |
84 |     @staticmethod
85 |     def _parse(
   |         ^^^^^^
86 |         client,
87 |         animation: raw.types.Document,
88 |         video_attributes: raw.types.DocumentAttributeVideo,
89 |         file_name: str,
   |         -------------- Parameter declared here
90 |     ) -> Animation:
91 |         return Animation(
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/stories/story.py:221:29
    |
219 | …                     client,
220 | …                     doc,
221 | …                     video_attributes,
    |                       ^^^^^^^^^^^^^^^^ Expected `DocumentAttributeVideo`, found `Unknown | None`
222 | …                     None,
223 | …                     stories.media.ttl_seconds,
    |
info: Element `None` of this union is not assignable to `DocumentAttributeVideo`
info: Function defined here
  --> pyrogram/types/messages_and_media/video.py:94:9
   |
93 |     @staticmethod
94 |     def _parse(
   |         ^^^^^^
95 |         client,
96 |         video: raw.types.Document,
97 |         video_attributes: raw.types.DocumentAttributeVideo,
   |         -------------------------------------------------- Parameter declared here
98 |         file_name: str,
99 |         ttl_seconds: int | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/stories/story.py:222:29
    |
220 |                             doc,
221 |                             video_attributes,
222 |                             None,
    |                             ^^^^ Expected `str`, found `None`
223 |                             stories.media.ttl_seconds,
224 |                         )
    |
info: Function defined here
   --> pyrogram/types/messages_and_media/video.py:94:9
    |
 93 |     @staticmethod
 94 |     def _parse(
    |         ^^^^^^
 95 |         client,
 96 |         video: raw.types.Document,
 97 |         video_attributes: raw.types.DocumentAttributeVideo,
 98 |         file_name: str,
    |         -------------- Parameter declared here
 99 |         ttl_seconds: int | None = None,
100 |     ) -> Video:
    |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem & ~StoryItemSkipped & ~StoryItemDeleted` has no attribute `media`
   --> pyrogram/types/stories/story.py:223:29
    |
221 |                             video_attributes,
222 |                             None,
223 |                             stories.media.ttl_seconds,
    |                             ^^^^^^^^^^^^^
224 |                         )
225 |                         media_type = enums.MessageMediaType.VIDEO
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/stories/story.py:234:21
    |
232 |             chat = await client.invoke(
233 |                 raw.functions.channels.GetChannels(
234 |                     id=[await client.resolve_peer(chat_id)],
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `list[InputChannel]`, found `list[Unknown | InputPeer | InputUser | InputChannel]`
235 |                 ),
236 |             )
    |
info: Method defined here
  --> pyrogram/raw/functions/channels/get_channels.py:36:9
   |
34 |     QUALNAME = "functions.channels.GetChannels"
35 |
36 |     def __init__(self, *, id: List["raw.base.InputChannel"]) -> None:
   |         ^^^^^^^^          --------------------------------- Parameter declared here
37 |         self.id = id  # Vector<InputChannel>
   |
info: Union variant `bound method GetChannels.__init__(*, id: list[InputChannel]) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetChannels.__init__(*, id: list[InputChannel]) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/stories/story.py:250:25
    |
248 |                   chat = await client.invoke(
249 |                       raw.functions.channels.GetChannels(
250 | /                         id=[
251 | |                             await client.resolve_peer(
252 | |                                 utils.get_channel_id(from_id.channel_id),
253 | |                             ),
254 | |                         ],
    | |_________________________^ Expected `list[InputChannel]`, found `list[Unknown | InputPeer | InputUser | InputChannel]`
255 |                       ),
256 |                   )
    |
info: Method defined here
  --> pyrogram/raw/functions/channels/get_channels.py:36:9
   |
34 |     QUALNAME = "functions.channels.GetChannels"
35 |
36 |     def __init__(self, *, id: List["raw.base.InputChannel"]) -> None:
   |         ^^^^^^^^          --------------------------------- Parameter declared here
37 |         self.id = id  # Vector<InputChannel>
   |
info: Union variant `bound method GetChannels.__init__(*, id: list[InputChannel]) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetChannels.__init__(*, id: list[InputChannel]) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/stories/story.py:261:25
    |
259 |                   chat = await client.invoke(
260 |                       raw.functions.channels.GetChannels(
261 | /                         id=[
262 | |                             await client.resolve_peer(
263 | |                                 utils.get_channel_id(from_id.chat_id),
264 | |                             ),
265 | |                         ],
    | |_________________________^ Expected `list[InputChannel]`, found `list[Unknown | InputPeer | InputUser | InputChannel]`
266 |                       ),
267 |                   )
    |
info: Method defined here
  --> pyrogram/raw/functions/channels/get_channels.py:36:9
   |
34 |     QUALNAME = "functions.channels.GetChannels"
35 |
36 |     def __init__(self, *, id: List["raw.base.InputChannel"]) -> None:
   |         ^^^^^^^^          --------------------------------- Parameter declared here
37 |         self.id = id  # Vector<InputChannel>
   |
info: Union variant `bound method GetChannels.__init__(*, id: list[InputChannel]) -> None` is incompatible with this call site
info: Attempted to call union type `Unknown | (bound method GetChannels.__init__(*, id: list[InputChannel]) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem & ~StoryItemSkipped & ~StoryItemDeleted` has no attribute `privacy`
   --> pyrogram/types/stories/story.py:270:21
    |
268 |                 sender_chat = types.Chat._parse_chat(client, chat.chats[0])
269 |
270 |         for priv in stories.privacy:
    |                     ^^^^^^^^^^^^^^^
271 |             if isinstance(priv, raw.types.PrivacyValueAllowAll):
272 |                 privacy = enums.StoryPrivacy.PUBLIC
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem & ~StoryItemSkipped & ~StoryItemDeleted` has no attribute `fwd_from`
   --> pyrogram/types/stories/story.py:295:12
    |
293 |                 denied_users = priv.users
294 |
295 |         if stories.fwd_from is not None:
    |            ^^^^^^^^^^^^^^^^
296 |             forward_from = await types.StoryForwardHeader._parse(
297 |                 client,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem & ~StoryItemSkipped & ~StoryItemDeleted` has no attribute `fwd_from`
   --> pyrogram/types/stories/story.py:298:17
    |
296 |             forward_from = await types.StoryForwardHeader._parse(
297 |                 client,
298 |                 stories.fwd_from,
    |                 ^^^^^^^^^^^^^^^^
299 |             )
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem & ~StoryItemSkipped & ~StoryItemDeleted` has no attribute `media_areas`
   --> pyrogram/types/stories/story.py:302:12
    |
301 |         media_areas = None
302 |         if stories.media_areas is not None and len(stories.media_areas) > 0:
    |            ^^^^^^^^^^^^^^^^^^^
303 |             media_areas = [
304 |                 await types.MediaArea._parse(client, media_area)
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem & ~StoryItemSkipped & ~StoryItemDeleted` has no attribute `media_areas`
   --> pyrogram/types/stories/story.py:302:52
    |
301 |         media_areas = None
302 |         if stories.media_areas is not None and len(stories.media_areas) > 0:
    |                                                    ^^^^^^^^^^^^^^^^^^^
303 |             media_areas = [
304 |                 await types.MediaArea._parse(client, media_area)
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem & ~StoryItemSkipped & ~StoryItemDeleted` has no attribute `media_areas`
   --> pyrogram/types/stories/story.py:305:35
    |
303 |             media_areas = [
304 |                 await types.MediaArea._parse(client, media_area)
305 |                 for media_area in stories.media_areas
    |                                   ^^^^^^^^^^^^^^^^^^^
306 |             ]
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem & ~StoryItemSkipped & ~StoryItemDeleted` has no attribute `id`
   --> pyrogram/types/stories/story.py:309:16
    |
308 |         return Story(
309 |             id=stories.id,
    |                ^^^^^^^^^^
310 |             from_user=from_user,
311 |             sender_chat=sender_chat,
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/stories/story.py:310:13
    |
308 |         return Story(
309 |             id=stories.id,
310 |             from_user=from_user,
    |             ^^^^^^^^^^^^^^^^^^^ Expected `User | None`, found `None | User | list[User]`
311 |             sender_chat=sender_chat,
312 |             date=utils.timestamp_to_datetime(stories.date),
    |
info: Element `list[User]` of this union is not assignable to `User | None`
info: Method defined here
   --> pyrogram/types/stories/story.py:101:9
    |
 99 |     """
100 |
101 |     def __init__(
    |         ^^^^^^^^
102 |         self,
103 |         *,
    |
   ::: pyrogram/types/stories/story.py:107:9
    |
105 |         id: int,
106 |         chat: types.Chat  | None = None,
107 |         from_user: types.User  | None = None,
    |         ------------------------------------ Parameter declared here
108 |         sender_chat: types.Chat  | None = None,
109 |         date: datetime,
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/stories/story.py:312:13
    |
310 |             from_user=from_user,
311 |             sender_chat=sender_chat,
312 |             date=utils.timestamp_to_datetime(stories.date),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `datetime`, found `datetime | None`
313 |             expire_date=utils.timestamp_to_datetime(stories.expire_date),
314 |             media=media_type,
    |
info: Element `None` of this union is not assignable to `datetime`
info: Method defined here
   --> pyrogram/types/stories/story.py:101:9
    |
 99 |     """
100 |
101 |     def __init__(
    |         ^^^^^^^^
102 |         self,
103 |         *,
    |
   ::: pyrogram/types/stories/story.py:109:9
    |
107 |         from_user: types.User  | None = None,
108 |         sender_chat: types.Chat  | None = None,
109 |         date: datetime,
    |         -------------- Parameter declared here
110 |         expire_date: datetime,
111 |         media: enums.MessageMediaType,
    |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem & ~StoryItemSkipped & ~StoryItemDeleted` has no attribute `date`
   --> pyrogram/types/stories/story.py:312:46
    |
310 |             from_user=from_user,
311 |             sender_chat=sender_chat,
312 |             date=utils.timestamp_to_datetime(stories.date),
    |                                              ^^^^^^^^^^^^
313 |             expire_date=utils.timestamp_to_datetime(stories.expire_date),
314 |             media=media_type,
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/stories/story.py:313:13
    |
311 |             sender_chat=sender_chat,
312 |             date=utils.timestamp_to_datetime(stories.date),
313 |             expire_date=utils.timestamp_to_datetime(stories.expire_date),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `datetime`, found `datetime | None`
314 |             media=media_type,
315 |             has_protected_content=stories.noforwards,
    |
info: Element `None` of this union is not assignable to `datetime`
info: Method defined here
   --> pyrogram/types/stories/story.py:101:9
    |
 99 |     """
100 |
101 |     def __init__(
    |         ^^^^^^^^
102 |         self,
103 |         *,
    |
   ::: pyrogram/types/stories/story.py:110:9
    |
108 |         sender_chat: types.Chat  | None = None,
109 |         date: datetime,
110 |         expire_date: datetime,
    |         --------------------- Parameter declared here
111 |         media: enums.MessageMediaType,
112 |         has_protected_content: bool | None = None,
    |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem & ~StoryItemSkipped & ~StoryItemDeleted` has no attribute `expire_date`
   --> pyrogram/types/stories/story.py:313:53
    |
311 |             sender_chat=sender_chat,
312 |             date=utils.timestamp_to_datetime(stories.date),
313 |             expire_date=utils.timestamp_to_datetime(stories.expire_date),
    |                                                     ^^^^^^^^^^^^^^^^^^^
314 |             media=media_type,
315 |             has_protected_content=stories.noforwards,
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/stories/story.py:314:13
    |
312 |             date=utils.timestamp_to_datetime(stories.date),
313 |             expire_date=utils.timestamp_to_datetime(stories.expire_date),
314 |             media=media_type,
    |             ^^^^^^^^^^^^^^^^ Expected `MessageMediaType`, found `Literal[MessageMediaType.PHOTO, MessageMediaType.ANIMATION, MessageMediaType.VIDEO] | None`
315 |             has_protected_content=stories.noforwards,
316 |             animation=animation,
    |
info: Element `None` of this union is not assignable to `MessageMediaType`
info: Method defined here
   --> pyrogram/types/stories/story.py:101:9
    |
 99 |     """
100 |
101 |     def __init__(
    |         ^^^^^^^^
102 |         self,
103 |         *,
    |
   ::: pyrogram/types/stories/story.py:111:9
    |
109 |         date: datetime,
110 |         expire_date: datetime,
111 |         media: enums.MessageMediaType,
    |         ----------------------------- Parameter declared here
112 |         has_protected_content: bool | None = None,
113 |         animation: types.Animation  | None = None,
    |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem & ~StoryItemSkipped & ~StoryItemDeleted` has no attribute `noforwards`
   --> pyrogram/types/stories/story.py:315:35
    |
313 |             expire_date=utils.timestamp_to_datetime(stories.expire_date),
314 |             media=media_type,
315 |             has_protected_content=stories.noforwards,
    |                                   ^^^^^^^^^^^^^^^^^^
316 |             animation=animation,
317 |             photo=photo,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem & ~StoryItemSkipped & ~StoryItemDeleted` has no attribute `edited`
   --> pyrogram/types/stories/story.py:319:20
    |
317 |             photo=photo,
318 |             video=video,
319 |             edited=stories.edited,
    |                    ^^^^^^^^^^^^^^
320 |             pinned=stories.pinned,
321 |             public=stories.public,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem & ~StoryItemSkipped & ~StoryItemDeleted` has no attribute `pinned`
   --> pyrogram/types/stories/story.py:320:20
    |
318 |             video=video,
319 |             edited=stories.edited,
320 |             pinned=stories.pinned,
    |                    ^^^^^^^^^^^^^^
321 |             public=stories.public,
322 |             close_friends=stories.close_friends,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem & ~StoryItemSkipped & ~StoryItemDeleted` has no attribute `public`
   --> pyrogram/types/stories/story.py:321:20
    |
319 |             edited=stories.edited,
320 |             pinned=stories.pinned,
321 |             public=stories.public,
    |                    ^^^^^^^^^^^^^^
322 |             close_friends=stories.close_friends,
323 |             contacts=stories.contacts,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem & ~StoryItemSkipped & ~StoryItemDeleted` has no attribute `close_friends`
   --> pyrogram/types/stories/story.py:322:27
    |
320 |             pinned=stories.pinned,
321 |             public=stories.public,
322 |             close_friends=stories.close_friends,
    |                           ^^^^^^^^^^^^^^^^^^^^^
323 |             contacts=stories.contacts,
324 |             selected_contacts=stories.selected_contacts,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem & ~StoryItemSkipped & ~StoryItemDeleted` has no attribute `contacts`
   --> pyrogram/types/stories/story.py:323:22
    |
321 |             public=stories.public,
322 |             close_friends=stories.close_friends,
323 |             contacts=stories.contacts,
    |                      ^^^^^^^^^^^^^^^^
324 |             selected_contacts=stories.selected_contacts,
325 |             caption=stories.caption,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem & ~StoryItemSkipped & ~StoryItemDeleted` has no attribute `selected_contacts`
   --> pyrogram/types/stories/story.py:324:31
    |
322 |             close_friends=stories.close_friends,
323 |             contacts=stories.contacts,
324 |             selected_contacts=stories.selected_contacts,
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^
325 |             caption=stories.caption,
326 |             caption_entities=entities or None,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem & ~StoryItemSkipped & ~StoryItemDeleted` has no attribute `caption`
   --> pyrogram/types/stories/story.py:325:21
    |
323 |             contacts=stories.contacts,
324 |             selected_contacts=stories.selected_contacts,
325 |             caption=stories.caption,
    |                     ^^^^^^^^^^^^^^^
326 |             caption_entities=entities or None,
327 |             views=types.StoryViews._parse(stories.views),
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem & ~StoryItemSkipped & ~StoryItemDeleted` has no attribute `views`
   --> pyrogram/types/stories/story.py:327:43
    |
325 |             caption=stories.caption,
326 |             caption_entities=entities or None,
327 |             views=types.StoryViews._parse(stories.views),
    |                                           ^^^^^^^^^^^^^
328 |             privacy=privacy,
329 |             forward_from=forward_from,
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/stories/story.py:333:13
    |
331 |             denied_users=denied_users,
332 |             media_areas=media_areas,
333 |             raw=stories,
    |             ^^^^^^^^^^^ Expected `pyrogram.raw.types.story_item.StoryItem | None`, found `pyrogram.raw.base.story_item.StoryItem & ~StoryItemSkipped & ~StoryItemDeleted`
334 |             client=client,
335 |         )
    |
info: Method defined here
   --> pyrogram/types/stories/story.py:101:9
    |
 99 |     """
100 |
101 |     def __init__(
    |         ^^^^^^^^
102 |         self,
103 |         *,
    |
   ::: pyrogram/types/stories/story.py:130:9
    |
128 |         denied_users: list[int] | None = None,
129 |         media_areas: list[types.MediaArea] | None = None,
130 |         raw: raw.types.StoryItem  | None = None,
    |         --------------------------------------- Parameter declared here
131 |     ) -> None:
132 |         super().__init__(client)
    |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `Client` has no attribute `set_reaction`
   --> pyrogram/types/stories/story.py:396:22
    |
394 |             sr = [types.ReactionTypeEmoji(emoji=reaction)]
395 |
396 |         return await self._client.set_reaction(
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^
397 |             chat_id=self.chat.id,
398 |             story_id=self.id,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
   --> pyrogram/types/stories/story.py:397:21
    |
396 |         return await self._client.set_reaction(
397 |             chat_id=self.chat.id,
    |                     ^^^^^^^^^^^^
398 |             story_id=self.id,
399 |             reaction=sr,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
   --> pyrogram/types/stories/story.py:476:62
    |
475 |         return await self._client.send_message(
476 |             chat_id=self.from_user.id if self.from_user else self.sender_chat.id,
    |                                                              ^^^^^^^^^^^^^^^^^^^
477 |             text=text,
478 |             parse_mode=parse_mode,
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `send_message` is incorrect
   --> pyrogram/types/stories/story.py:485:13
    |
483 |             schedule_date=schedule_date,
484 |             protect_content=protect_content,
485 |             reply_markup=reply_markup,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`, found `Unknown | None`
486 |         )
    |
info: Element `None` of this union is not assignable to `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
info: Method defined here
  --> pyrogram/methods/messages/send_message.py:13:15
   |
12 |   class SendMessage:
13 |       async def send_message(
   |                 ^^^^^^^^^^^^
14 |           self: pyrogram.Client,
15 |           chat_id: int | str,
   |
  ::: pyrogram/methods/messages/send_message.py:41:9
   |
39 |           update_stickersets_order: bool | None = None,
40 |           suggested_post: types.SuggestedPost | None = None,
41 | /         reply_markup: types.InlineKeyboardMarkup
42 | |         | types.ReplyKeyboardMarkup
43 | |         | types.ReplyKeyboardRemove
44 | |         | types.ForceReply = None,
   | |_________________________________- Parameter declared here
45 |       ) -> types.Message:
46 |           """Send text messages.
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
   --> pyrogram/types/stories/story.py:503:9
    |
501 |           file_name: str | None = None,
502 |           disable_notification: bool | None = None,
503 | /         reply_markup: types.InlineKeyboardMarkup
504 | |         | types.ReplyKeyboardMarkup
505 | |         | types.ReplyKeyboardRemove
506 | |         | types.ForceReply = None,
    | |_________________________________^
507 |           reply_to_story_id: int | None = None,
508 |           progress: Callable | None = None,
    |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-return-type]: Return type does not match returned value
   --> pyrogram/types/stories/story.py:612:16
    |
610 |               reply_to_story_id = self.id
611 |
612 |           return await self._client.send_animation(
    |  ________________^
613 | |             chat_id=self.from_user.id if self.from_user else self.sender_chat.id,
614 | |             animation=animation,
615 | |             caption=caption,
616 | |             parse_mode=parse_mode,
617 | |             caption_entities=caption_entities,
618 | |             has_spoiler=has_spoiler,
619 | |             duration=duration,
620 | |             width=width,
621 | |             height=height,
622 | |             thumb=thumb,
623 | |             file_name=file_name,
624 | |             disable_notification=disable_notification,
625 | |             reply_to_story_id=reply_to_story_id,
626 | |             reply_markup=reply_markup,
627 | |             progress=progress,
628 | |             progress_args=progress_args,
629 | |         )
    | |_________^ expected `Message`, found `Message | None`
630 |
631 |       async def reply_audio(
    |
   ::: pyrogram/types/stories/story.py:510:10
    |
508 |           progress: Callable | None = None,
509 |           progress_args: tuple = (),
510 |       ) -> types.Message:
    |            ------------- Expected `Message` because of return type
511 |           """Bound method *reply_animation* :obj:`~pyrogram.types.Story`.
    |
info: rule `invalid-return-type` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
   --> pyrogram/types/stories/story.py:613:62
    |
612 |         return await self._client.send_animation(
613 |             chat_id=self.from_user.id if self.from_user else self.sender_chat.id,
    |                                                              ^^^^^^^^^^^^^^^^^^^
614 |             animation=animation,
615 |             caption=caption,
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
   --> pyrogram/types/stories/story.py:644:9
    |
642 |           disable_notification: bool | None = None,
643 |           reply_to_story_id: int | None = None,
644 | /         reply_markup: types.InlineKeyboardMarkup
645 | |         | types.ReplyKeyboardMarkup
646 | |         | types.ReplyKeyboardRemove
647 | |         | types.ForceReply = None,
    | |_________________________________^
648 |           progress: Callable | None = None,
649 |           progress_args: tuple = (),
    |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-return-type]: Return type does not match returned value
   --> pyrogram/types/stories/story.py:749:16
    |
747 |               reply_to_story_id = self.id
748 |
749 |           return await self._client.send_audio(
    |  ________________^
750 | |             chat_id=self.from_user.id if self.from_user else self.sender_chat.id,
751 | |             audio=audio,
752 | |             caption=caption,
753 | |             parse_mode=parse_mode,
754 | |             caption_entities=caption_entities,
755 | |             duration=duration,
756 | |             performer=performer,
757 | |             title=title,
758 | |             thumb=thumb,
759 | |             file_name=file_name,
760 | |             disable_notification=disable_notification,
761 | |             reply_to_story_id=reply_to_story_id,
762 | |             reply_markup=reply_markup,
763 | |             progress=progress,
764 | |             progress_args=progress_args,
765 | |         )
    | |_________^ expected `Message`, found `Message | None`
766 |
767 |       async def reply_cached_media(
    |
   ::: pyrogram/types/stories/story.py:650:10
    |
648 |           progress: Callable | None = None,
649 |           progress_args: tuple = (),
650 |       ) -> types.Message:
    |            ------------- Expected `Message` because of return type
651 |           """Bound method *reply_audio* of :obj:`~pyrogram.types.Story`.
    |
info: rule `invalid-return-type` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
   --> pyrogram/types/stories/story.py:750:62
    |
749 |         return await self._client.send_audio(
750 |             chat_id=self.from_user.id if self.from_user else self.sender_chat.id,
    |                                                              ^^^^^^^^^^^^^^^^^^^
751 |             audio=audio,
752 |             caption=caption,
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
   --> pyrogram/types/stories/story.py:775:9
    |
773 |           disable_notification: bool | None = None,
774 |           reply_to_story_id: int | None = None,
775 | /         reply_markup: types.InlineKeyboardMarkup
776 | |         | types.ReplyKeyboardMarkup
777 | |         | types.ReplyKeyboardRemove
778 | |         | types.ForceReply = None,
    | |_________________________________^
779 |       ) -> types.Message:
780 |           """Bound method *reply_cached_media* of :obj:`~pyrogram.types.Story`.
    |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-return-type]: Return type does not match returned value
   --> pyrogram/types/stories/story.py:832:16
    |
830 |               reply_to_story_id = self.id
831 |
832 |           return await self._client.send_cached_media(
    |  ________________^
833 | |             chat_id=self.from_user.id if self.from_user else self.sender_chat.id,
834 | |             file_id=file_id,
835 | |             caption=caption,
836 | |             parse_mode=parse_mode,
837 | |             caption_entities=caption_entities,
838 | |             disable_notification=disable_notification,
839 | |             reply_to_story_id=reply_to_story_id,
840 | |             reply_markup=reply_markup,
841 | |         )
    | |_________^ expected `Message`, found `Message | None`
842 |
843 |       async def reply_media_group(
    |
   ::: pyrogram/types/stories/story.py:779:10
    |
777 |           | types.ReplyKeyboardRemove
778 |           | types.ForceReply = None,
779 |       ) -> types.Message:
    |            ------------- Expected `Message` because of return type
780 |           """Bound method *reply_cached_media* of :obj:`~pyrogram.types.Story`.
    |
info: rule `invalid-return-type` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
   --> pyrogram/types/stories/story.py:833:62
    |
832 |         return await self._client.send_cached_media(
833 |             chat_id=self.from_user.id if self.from_user else self.sender_chat.id,
    |                                                              ^^^^^^^^^^^^^^^^^^^
834 |             file_id=file_id,
835 |             caption=caption,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
   --> pyrogram/types/stories/story.py:895:62
    |
894 |         return await self._client.send_media_group(
895 |             chat_id=self.from_user.id if self.from_user else self.sender_chat.id,
    |                                                              ^^^^^^^^^^^^^^^^^^^
896 |             media=media,
897 |             disable_notification=disable_notification,
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `send_media_group` is incorrect
   --> pyrogram/types/stories/story.py:896:13
    |
894 |         return await self._client.send_media_group(
895 |             chat_id=self.from_user.id if self.from_user else self.sender_chat.id,
896 |             media=media,
    |             ^^^^^^^^^^^ Expected `list[InputMediaPhoto | InputMediaVideo | InputMediaAudio | InputMediaDocument | InputMediaAnimation]`, found `list[InputMediaPhoto | InputMediaVideo | InputMediaAudio | InputMediaDocument]`
897 |             disable_notification=disable_notification,
898 |             reply_to_story_id=reply_to_story_id,
    |
info: Method defined here
  --> pyrogram/methods/messages/send_media_group.py:23:15
   |
21 |   class SendMediaGroup:
22 |       # TODO: Add progress parameter
23 |       async def send_media_group(
   |                 ^^^^^^^^^^^^^^^^
24 |           self: pyrogram.Client,
25 |           chat_id: int | str,
26 | /         media: list[
27 | |             types.InputMediaPhoto
28 | |             | types.InputMediaVideo
29 | |             | types.InputMediaAudio
30 | |             | types.InputMediaDocument
31 | |             | types.InputMediaAnimation
32 | |         ],
   | |_________- Parameter declared here
33 |           disable_notification: bool | None = None,
34 |           message_thread_id: int | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
   --> pyrogram/types/stories/story.py:912:9
    |
910 |           disable_notification: bool | None = None,
911 |           reply_to_story_id: int | None = None,
912 | /         reply_markup: types.InlineKeyboardMarkup
913 | |         | types.ReplyKeyboardMarkup
914 | |         | types.ReplyKeyboardRemove
915 | |         | types.ForceReply = None,
    | |_________________________________^
916 |           progress: Callable | None = None,
917 |           progress_args: tuple = (),
    |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-return-type]: Return type does not match returned value
    --> pyrogram/types/stories/story.py:1009:16
     |
1007 |               reply_to_story_id = self.id
1008 |
1009 |           return await self._client.send_photo(
     |  ________________^
1010 | |             chat_id=self.from_user.id if self.from_user else self.sender_chat.id,
1011 | |             photo=photo,
1012 | |             caption=caption,
1013 | |             parse_mode=parse_mode,
1014 | |             caption_entities=caption_entities,
1015 | |             has_spoiler=has_spoiler,
1016 | |             ttl_seconds=ttl_seconds,
1017 | |             view_once=view_once,
1018 | |             disable_notification=disable_notification,
1019 | |             reply_to_story_id=reply_to_story_id,
1020 | |             reply_markup=reply_markup,
1021 | |             progress=progress,
1022 | |             progress_args=progress_args,
1023 | |         )
     | |_________^ expected `Message`, found `Message | None`
1024 |
1025 |       async def reply_sticker(
     |
    ::: pyrogram/types/stories/story.py:918:10
     |
 916 |           progress: Callable | None = None,
 917 |           progress_args: tuple = (),
 918 |       ) -> types.Message:
     |            ------------- Expected `Message` because of return type
 919 |           """Bound method *reply_photo* of :obj:`~pyrogram.types.Story`.
     |
info: rule `invalid-return-type` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
    --> pyrogram/types/stories/story.py:1010:62
     |
1009 |         return await self._client.send_photo(
1010 |             chat_id=self.from_user.id if self.from_user else self.sender_chat.id,
     |                                                              ^^^^^^^^^^^^^^^^^^^
1011 |             photo=photo,
1012 |             caption=caption,
     |
info: rule `unresolved-attribute` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
    --> pyrogram/types/stories/story.py:1030:9
     |
1028 |           disable_notification: bool | None = None,
1029 |           reply_to_story_id: int | None = None,
1030 | /         reply_markup: types.InlineKeyboardMarkup
1031 | |         | types.ReplyKeyboardMarkup
1032 | |         | types.ReplyKeyboardRemove
1033 | |         | types.ForceReply = None,
     | |_________________________________^
1034 |           progress: Callable | None = None,
1035 |           progress_args: tuple = (),
     |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-return-type]: Return type does not match returned value
    --> pyrogram/types/stories/story.py:1106:16
     |
1104 |               reply_to_story_id = self.id
1105 |
1106 |           return await self._client.send_sticker(
     |  ________________^
1107 | |             chat_id=self.from_user.id if self.from_user else self.sender_chat.id,
1108 | |             sticker=sticker,
1109 | |             disable_notification=disable_notification,
1110 | |             reply_to_story_id=reply_to_story_id,
1111 | |             reply_markup=reply_markup,
1112 | |             progress=progress,
1113 | |             progress_args=progress_args,
1114 | |         )
     | |_________^ expected `Message`, found `Message | None`
1115 |
1116 |       async def reply_video(
     |
    ::: pyrogram/types/stories/story.py:1036:10
     |
1034 |           progress: Callable | None = None,
1035 |           progress_args: tuple = (),
1036 |       ) -> types.Message:
     |            ------------- Expected `Message` because of return type
1037 |           """Bound method *reply_sticker* of :obj:`~pyrogram.types.Story`.
     |
info: rule `invalid-return-type` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
    --> pyrogram/types/stories/story.py:1107:62
     |
1106 |         return await self._client.send_sticker(
1107 |             chat_id=self.from_user.id if self.from_user else self.sender_chat.id,
     |                                                              ^^^^^^^^^^^^^^^^^^^
1108 |             sticker=sticker,
1109 |             disable_notification=disable_notification,
     |
info: rule `unresolved-attribute` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
    --> pyrogram/types/stories/story.py:1132:9
     |
1130 |           disable_notification: bool | None = None,
1131 |           reply_to_story_id: int | None = None,
1132 | /         reply_markup: types.InlineKeyboardMarkup
1133 | |         | types.ReplyKeyboardMarkup
1134 | |         | types.ReplyKeyboardRemove
1135 | |         | types.ForceReply = None,
     | |_________________________________^
1136 |           progress: Callable | None = None,
1137 |           progress_args: tuple = (),
     |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-return-type]: Return type does not match returned value
    --> pyrogram/types/stories/story.py:1247:16
     |
1245 |               reply_to_story_id = self.id
1246 |
1247 |           return await self._client.send_video(
     |  ________________^
1248 | |             chat_id=self.from_user.id if self.from_user else self.sender_chat.id,
1249 | |             video=video,
1250 | |             caption=caption,
1251 | |             parse_mode=parse_mode,
1252 | |             caption_entities=caption_entities,
1253 | |             has_spoiler=has_spoiler,
1254 | |             ttl_seconds=ttl_seconds,
1255 | |             duration=duration,
1256 | |             width=width,
1257 | |             height=height,
1258 | |             thumb=thumb,
1259 | |             file_name=file_name,
1260 | |             supports_streaming=supports_streaming,
1261 | |             disable_notification=disable_notification,
1262 | |             reply_to_story_id=reply_to_story_id,
1263 | |             reply_markup=reply_markup,
1264 | |             progress=progress,
1265 | |             progress_args=progress_args,
1266 | |         )
     | |_________^ expected `Message`, found `Message | None`
1267 |
1268 |       async def reply_video_note(
     |
    ::: pyrogram/types/stories/story.py:1138:10
     |
1136 |           progress: Callable | None = None,
1137 |           progress_args: tuple = (),
1138 |       ) -> types.Message:
     |            ------------- Expected `Message` because of return type
1139 |           """Bound method *reply_video* of :obj:`~pyrogram.types.Story`.
     |
info: rule `invalid-return-type` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
    --> pyrogram/types/stories/story.py:1248:62
     |
1247 |         return await self._client.send_video(
1248 |             chat_id=self.from_user.id if self.from_user else self.sender_chat.id,
     |                                                              ^^^^^^^^^^^^^^^^^^^
1249 |             video=video,
1250 |             caption=caption,
     |
info: rule `unresolved-attribute` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
    --> pyrogram/types/stories/story.py:1276:9
     |
1274 |           disable_notification: bool | None = None,
1275 |           reply_to_story_id: int | None = None,
1276 | /         reply_markup: types.InlineKeyboardMarkup
1277 | |         | types.ReplyKeyboardMarkup
1278 | |         | types.ReplyKeyboardRemove
1279 | |         | types.ForceReply = None,
     | |_________________________________^
1280 |           progress: Callable | None = None,
1281 |           progress_args: tuple = (),
     |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-return-type]: Return type does not match returned value
    --> pyrogram/types/stories/story.py:1363:16
     |
1361 |               reply_to_story_id = self.id
1362 |
1363 |           return await self._client.send_video_note(
     |  ________________^
1364 | |             chat_id=self.from_user.id if self.from_user else self.sender_chat.id,
1365 | |             video_note=video_note,
1366 | |             duration=duration,
1367 | |             length=length,
1368 | |             thumb=thumb,
1369 | |             disable_notification=disable_notification,
1370 | |             reply_to_story_id=reply_to_story_id,
1371 | |             reply_markup=reply_markup,
1372 | |             progress=progress,
1373 | |             progress_args=progress_args,
1374 | |         )
     | |_________^ expected `Message`, found `Message | None`
1375 |
1376 |       async def reply_voice(
     |
    ::: pyrogram/types/stories/story.py:1282:10
     |
1280 |           progress: Callable | None = None,
1281 |           progress_args: tuple = (),
1282 |       ) -> types.Message:
     |            ------------- Expected `Message` because of return type
1283 |           """Bound method *reply_video_note* of :obj:`~pyrogram.types.Story`.
     |
info: rule `invalid-return-type` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
    --> pyrogram/types/stories/story.py:1364:62
     |
1363 |         return await self._client.send_video_note(
1364 |             chat_id=self.from_user.id if self.from_user else self.sender_chat.id,
     |                                                              ^^^^^^^^^^^^^^^^^^^
1365 |             video_note=video_note,
1366 |             duration=duration,
     |
info: rule `unresolved-attribute` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `InlineKeyboardMarkup | ReplyKeyboardMarkup | ReplyKeyboardRemove | ForceReply`
    --> pyrogram/types/stories/story.py:1385:9
     |
1383 |           disable_notification: bool | None = None,
1384 |           reply_to_story_id: int | None = None,
1385 | /         reply_markup: types.InlineKeyboardMarkup
1386 | |         | types.ReplyKeyboardMarkup
1387 | |         | types.ReplyKeyboardRemove
1388 | |         | types.ForceReply = None,
     | |_________________________________^
1389 |           progress: Callable | None = None,
1390 |           progress_args: tuple = (),
     |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-return-type]: Return type does not match returned value
    --> pyrogram/types/stories/story.py:1473:16
     |
1471 |               reply_to_story_id = self.id
1472 |
1473 |           return await self._client.send_voice(
     |  ________________^
1474 | |             chat_id=self.from_user.id if self.from_user else self.sender_chat.id,
1475 | |             voice=voice,
1476 | |             caption=caption,
1477 | |             parse_mode=parse_mode,
1478 | |             caption_entities=caption_entities,
1479 | |             duration=duration,
1480 | |             disable_notification=disable_notification,
1481 | |             reply_to_story_id=reply_to_story_id,
1482 | |             reply_markup=reply_markup,
1483 | |             progress=progress,
1484 | |             progress_args=progress_args,
1485 | |         )
     | |_________^ expected `Message`, found `Message | None`
1486 |
1487 |       async def delete(self):
     |
    ::: pyrogram/types/stories/story.py:1391:10
     |
1389 |           progress: Callable | None = None,
1390 |           progress_args: tuple = (),
1391 |       ) -> types.Message:
     |            ------------- Expected `Message` because of return type
1392 |           """Bound method *reply_voice* of :obj:`~pyrogram.types.Story`.
     |
info: rule `invalid-return-type` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
    --> pyrogram/types/stories/story.py:1474:62
     |
1473 |         return await self._client.send_voice(
1474 |             chat_id=self.from_user.id if self.from_user else self.sender_chat.id,
     |                                                              ^^^^^^^^^^^^^^^^^^^
1475 |             voice=voice,
1476 |             caption=caption,
     |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `edit_story` is incorrect
    --> pyrogram/types/stories/story.py:1544:13
     |
1542 |             chat_id=self.sender_chat.id if self.sender_chat else None,
1543 |             story_id=self.id,
1544 |             animation=animation,
     |             ^^^^^^^^^^^^^^^^^^^ Expected `str | None`, found `str | BinaryIO`
1545 |         )
     |
info: Element `BinaryIO` of this union is not assignable to `str | None`
info: Method defined here
  --> pyrogram/methods/stories/edit_story.py:17:15
   |
15 |         return message, entities
16 |
17 |     async def edit_story(
   |               ^^^^^^^^^^
18 |         self: pyrogram.Client,
19 |         story_id: int,
   |
  ::: pyrogram/methods/stories/edit_story.py:26:9
   |
24 |         # allowed_chats: list[int] = None,
25 |         # denied_chats: list[int] = None,
26 |         animation: str | None = None,
   |         ---------------------------- Parameter declared here
27 |         photo: str | None = None,
28 |         video: str | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `edit_story` is incorrect
    --> pyrogram/types/stories/story.py:1721:13
     |
1719 |             chat_id=self.sender_chat.id if self.sender_chat else None,
1720 |             story_id=self.id,
1721 |             photo=photo,
     |             ^^^^^^^^^^^ Expected `str | None`, found `str | BinaryIO`
1722 |         )
     |
info: Element `BinaryIO` of this union is not assignable to `str | None`
info: Method defined here
  --> pyrogram/methods/stories/edit_story.py:17:15
   |
15 |         return message, entities
16 |
17 |     async def edit_story(
   |               ^^^^^^^^^^
18 |         self: pyrogram.Client,
19 |         story_id: int,
   |
  ::: pyrogram/methods/stories/edit_story.py:27:9
   |
25 |         # denied_chats: list[int] = None,
26 |         animation: str | None = None,
27 |         photo: str | None = None,
   |         ------------------------ Parameter declared here
28 |         video: str | None = None,
29 |         caption: str | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `edit_story` is incorrect
    --> pyrogram/types/stories/story.py:1800:13
     |
1798 |             chat_id=self.sender_chat.id if self.sender_chat else None,
1799 |             story_id=self.id,
1800 |             video=video,
     |             ^^^^^^^^^^^ Expected `str | None`, found `str | BinaryIO`
1801 |         )
     |
info: Element `BinaryIO` of this union is not assignable to `str | None`
info: Method defined here
  --> pyrogram/methods/stories/edit_story.py:17:15
   |
15 |         return message, entities
16 |
17 |     async def edit_story(
   |               ^^^^^^^^^^
18 |         self: pyrogram.Client,
19 |         story_id: int,
   |
  ::: pyrogram/methods/stories/edit_story.py:28:9
   |
26 |         animation: str | None = None,
27 |         photo: str | None = None,
28 |         video: str | None = None,
   |         ------------------------ Parameter declared here
29 |         caption: str | None = None,
30 |         parse_mode: enums.ParseMode  | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
    --> pyrogram/types/stories/story.py:1827:62
     |
1825 |         """
1826 |         return await self._client.export_story_link(
1827 |             chat_id=self.from_user.id if self.from_user else self.sender_chat.id,
     |                                                              ^^^^^^^^^^^^^^^^^^^
1828 |             story_id=self.id,
1829 |         )
     |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `None` in union `Unknown | Chat | None`
    --> pyrogram/types/stories/story.py:1912:18
     |
1910 |             forward_from_chat_id=self.from_user.id
1911 |             if self.from_user is not None
1912 |             else self.sender_chat.id,
     |                  ^^^^^^^^^^^^^^^^^^^
1913 |             forward_from_story_id=self.id,
1914 |         )
     |
info: rule `unresolved-attribute` is enabled by default

error[invalid-return-type]: Return type does not match returned value
    --> pyrogram/types/stories/story.py:1982:16
     |
1980 |               ``ValueError``: If the message doesn't contain any downloadable media
1981 |           """
1982 |           return await self._client.download_media(
     |  ________________^
1983 | |             message=self,
1984 | |             file_name=file_name,
1985 | |             in_memory=in_memory,
1986 | |             block=block,
1987 | |             progress=progress,
1988 | |             progress_args=progress_args,
1989 | |         )
     | |_________^ expected `str`, found `str | BinaryIO | None`
1990 |
1991 |       @property
     |
    ::: pyrogram/types/stories/story.py:1923:10
     |
1921 |           progress: Callable | None = None,
1922 |           progress_args: tuple = (),
1923 |       ) -> str:
     |            --- Expected `str` because of return type
1924 |           """Bound method *download* of :obj:`~pyrogram.types.Story`.
     |
info: rule `invalid-return-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
    --> pyrogram/types/stories/story.py:1992:23
     |
1991 |     @property
1992 |     def link(self) -> str:
     |                       --- Expected `str` because of return type
1993 |         if self.chat and self.chat.username:
1994 |             return f"https://t.me/{self.chat.username}/s/{self.id}"
1995 |         return None
     |                ^^^^ expected `str`, found `None`
     |
info: rule `invalid-return-type` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem` has no attribute `id`
  --> pyrogram/types/stories/story_deleted.py:52:16
   |
51 |         return StoryDeleted(
52 |             id=stories.id,
   |                ^^^^^^^^^^
53 |             from_user=from_user,
54 |             sender_chat=sender_chat,
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/stories/story_deleted.py:53:13
   |
51 |         return StoryDeleted(
52 |             id=stories.id,
53 |             from_user=from_user,
   |             ^^^^^^^^^^^^^^^^^^^ Expected `User | None`, found `None | User | list[User]`
54 |             sender_chat=sender_chat,
55 |             client=self,
   |
info: Element `list[User]` of this union is not assignable to `User | None`
info: Method defined here
  --> pyrogram/types/stories/story_deleted.py:23:9
   |
21 |     """
22 |
23 |     def __init__(
   |         ^^^^^^^^
24 |         self,
25 |         *,
26 |         client: pyrogram.Client  | None = None,
27 |         id: int,
28 |         from_user: types.User  | None = None,
   |         ------------------------------------ Parameter declared here
29 |         sender_chat: types.Chat  | None = None,
30 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/stories/story_deleted.py:54:13
   |
52 |             id=stories.id,
53 |             from_user=from_user,
54 |             sender_chat=sender_chat,
   |             ^^^^^^^^^^^^^^^^^^^^^^^ Expected `Chat | None`, found `None | Chat | ChatPreview`
55 |             client=self,
56 |         )
   |
info: Element `ChatPreview` of this union is not assignable to `Chat | None`
info: Method defined here
  --> pyrogram/types/stories/story_deleted.py:23:9
   |
21 |     """
22 |
23 |     def __init__(
   |         ^^^^^^^^
24 |         self,
25 |         *,
   |
  ::: pyrogram/types/stories/story_deleted.py:29:9
   |
27 |         id: int,
28 |         from_user: types.User  | None = None,
29 |         sender_chat: types.Chat  | None = None,
   |         -------------------------------------- Parameter declared here
30 |     ) -> None:
31 |         super().__init__(client)
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `user_id` is not defined on `Peer & ~PeerChannel & ~InputPeerSelf` in union `(Unknown & ~None & ~PeerChannel & ~InputPeerSelf) | (Peer & ~PeerChannel & ~InputPeerSelf)`
  --> pyrogram/types/stories/story_forward_header.py:60:45
   |
58 |                 user = self.me
59 |             else:
60 |                 user = await self.get_users(fwd_header.from_peer.user_id)
   |                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
61 |
62 |         return StoryForwardHeader(
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/stories/story_forward_header.py:63:13
   |
62 |         return StoryForwardHeader(
63 |             user=user,
   |             ^^^^^^^^^ Expected `User | None`, found `None | User | list[User]`
64 |             sender_name=fwd_header.from_name,
65 |             chat=chat,
   |
info: Element `list[User]` of this union is not assignable to `User | None`
info: Method defined here
  --> pyrogram/types/stories/story_forward_header.py:29:9
   |
27 |     """
28 |
29 |     def __init__(
   |         ^^^^^^^^
30 |         self,
31 |         *,
32 |         user: types.User  | None = None,
   |         ------------------------------- Parameter declared here
33 |         sender_name: str | None = None,
34 |         chat: types.Chat  | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/stories/story_forward_header.py:65:13
   |
63 |             user=user,
64 |             sender_name=fwd_header.from_name,
65 |             chat=chat,
   |             ^^^^^^^^^ Expected `Chat | None`, found `None | Chat | ChatPreview`
66 |             story_id=fwd_header.story_id,
67 |             is_modified=fwd_header.modified,
   |
info: Element `ChatPreview` of this union is not assignable to `Chat | None`
info: Method defined here
  --> pyrogram/types/stories/story_forward_header.py:29:9
   |
27 |     """
28 |
29 |     def __init__(
   |         ^^^^^^^^
30 |         self,
31 |         *,
32 |         user: types.User  | None = None,
33 |         sender_name: str | None = None,
34 |         chat: types.Chat  | None = None,
   |         ------------------------------- Parameter declared here
35 |         story_id: int | None = None,
36 |         is_modified: bool | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem` has no attribute `id`
  --> pyrogram/types/stories/story_skipped.py:72:16
   |
71 |         return StorySkipped(
72 |             id=stories.id,
   |                ^^^^^^^^^^
73 |             from_user=from_user,
74 |             sender_chat=sender_chat,
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/stories/story_skipped.py:73:13
   |
71 |         return StorySkipped(
72 |             id=stories.id,
73 |             from_user=from_user,
   |             ^^^^^^^^^^^^^^^^^^^ Expected `User | None`, found `None | User | list[User]`
74 |             sender_chat=sender_chat,
75 |             date=utils.timestamp_to_datetime(stories.date),
   |
info: Element `list[User]` of this union is not assignable to `User | None`
info: Method defined here
  --> pyrogram/types/stories/story_skipped.py:37:9
   |
35 |     """
36 |
37 |     def __init__(
   |         ^^^^^^^^
38 |         self,
39 |         *,
40 |         client: pyrogram.Client  | None = None,
41 |         id: int,
42 |         from_user: types.User  | None = None,
   |         ------------------------------------ Parameter declared here
43 |         sender_chat: types.Chat  | None = None,
44 |         date: datetime,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/stories/story_skipped.py:74:13
   |
72 |             id=stories.id,
73 |             from_user=from_user,
74 |             sender_chat=sender_chat,
   |             ^^^^^^^^^^^^^^^^^^^^^^^ Expected `Chat | None`, found `None | Chat | ChatPreview`
75 |             date=utils.timestamp_to_datetime(stories.date),
76 |             expire_date=utils.timestamp_to_datetime(stories.expire_date),
   |
info: Element `ChatPreview` of this union is not assignable to `Chat | None`
info: Method defined here
  --> pyrogram/types/stories/story_skipped.py:37:9
   |
35 |     """
36 |
37 |     def __init__(
   |         ^^^^^^^^
38 |         self,
39 |         *,
   |
  ::: pyrogram/types/stories/story_skipped.py:43:9
   |
41 |         id: int,
42 |         from_user: types.User  | None = None,
43 |         sender_chat: types.Chat  | None = None,
   |         -------------------------------------- Parameter declared here
44 |         date: datetime,
45 |         expire_date: datetime,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/stories/story_skipped.py:75:13
   |
73 |             from_user=from_user,
74 |             sender_chat=sender_chat,
75 |             date=utils.timestamp_to_datetime(stories.date),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `datetime`, found `datetime | None`
76 |             expire_date=utils.timestamp_to_datetime(stories.expire_date),
77 |             close_friends=stories.close_friends,
   |
info: Element `None` of this union is not assignable to `datetime`
info: Method defined here
  --> pyrogram/types/stories/story_skipped.py:37:9
   |
35 |     """
36 |
37 |     def __init__(
   |         ^^^^^^^^
38 |         self,
39 |         *,
   |
  ::: pyrogram/types/stories/story_skipped.py:44:9
   |
42 |         from_user: types.User  | None = None,
43 |         sender_chat: types.Chat  | None = None,
44 |         date: datetime,
   |         -------------- Parameter declared here
45 |         expire_date: datetime,
46 |         close_friends: bool | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem` has no attribute `date`
  --> pyrogram/types/stories/story_skipped.py:75:46
   |
73 |             from_user=from_user,
74 |             sender_chat=sender_chat,
75 |             date=utils.timestamp_to_datetime(stories.date),
   |                                              ^^^^^^^^^^^^
76 |             expire_date=utils.timestamp_to_datetime(stories.expire_date),
77 |             close_friends=stories.close_friends,
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/stories/story_skipped.py:76:13
   |
74 |             sender_chat=sender_chat,
75 |             date=utils.timestamp_to_datetime(stories.date),
76 |             expire_date=utils.timestamp_to_datetime(stories.expire_date),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `datetime`, found `datetime | None`
77 |             close_friends=stories.close_friends,
78 |             client=self,
   |
info: Element `None` of this union is not assignable to `datetime`
info: Method defined here
  --> pyrogram/types/stories/story_skipped.py:37:9
   |
35 |     """
36 |
37 |     def __init__(
   |         ^^^^^^^^
38 |         self,
39 |         *,
   |
  ::: pyrogram/types/stories/story_skipped.py:45:9
   |
43 |         sender_chat: types.Chat  | None = None,
44 |         date: datetime,
45 |         expire_date: datetime,
   |         --------------------- Parameter declared here
46 |         close_friends: bool | None = None,
47 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem` has no attribute `expire_date`
  --> pyrogram/types/stories/story_skipped.py:76:53
   |
74 |             sender_chat=sender_chat,
75 |             date=utils.timestamp_to_datetime(stories.date),
76 |             expire_date=utils.timestamp_to_datetime(stories.expire_date),
   |                                                     ^^^^^^^^^^^^^^^^^^^
77 |             close_friends=stories.close_friends,
78 |             client=self,
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `StoryItem` has no attribute `close_friends`
  --> pyrogram/types/stories/story_skipped.py:77:27
   |
75 |             date=utils.timestamp_to_datetime(stories.date),
76 |             expire_date=utils.timestamp_to_datetime(stories.expire_date),
77 |             close_friends=stories.close_friends,
   |                           ^^^^^^^^^^^^^^^^^^^^^
78 |             client=self,
79 |         )
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/stories/story_views.py:37:13
   |
35 |     def _parse(storyviews: raw.types.StoryViews) -> StoryViews:
36 |         return StoryViews(
37 |             view_count=getattr(storyviews, "view_count", None),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Any | None`
38 |             recent_viewers=getattr(storyviews, "recent_viewers", None),
39 |         )
   |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/types/stories/story_views.py:23:9
   |
21 |     """
22 |
23 |     def __init__(
   |         ^^^^^^^^
24 |         self,
25 |         *,
26 |         view_count: int,
   |         --------------- Parameter declared here
27 |         recent_viewers: list[int] | None = None,
28 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `day` is not defined on `None` in union `Birthday | None`
  --> pyrogram/types/user_and_chats/birthday.py:28:29
   |
26 |     @staticmethod
27 |     def _parse(birthday: raw.types.Birthday  | None = None) -> Birthday:
28 |         return Birthday(day=birthday.day, month=birthday.month, year=birthday.year)
   |                             ^^^^^^^^^^^^
29 |
30 |     async def write(self) -> raw.types.Birthday:
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `month` is not defined on `None` in union `Birthday | None`
  --> pyrogram/types/user_and_chats/birthday.py:28:49
   |
26 |     @staticmethod
27 |     def _parse(birthday: raw.types.Birthday  | None = None) -> Birthday:
28 |         return Birthday(day=birthday.day, month=birthday.month, year=birthday.year)
   |                                                 ^^^^^^^^^^^^^^
29 |
30 |     async def write(self) -> raw.types.Birthday:
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/user_and_chats/birthday.py:28:65
   |
26 |     @staticmethod
27 |     def _parse(birthday: raw.types.Birthday  | None = None) -> Birthday:
28 |         return Birthday(day=birthday.day, month=birthday.month, year=birthday.year)
   |                                                                 ^^^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | int | None`
29 |
30 |     async def write(self) -> raw.types.Birthday:
   |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/types/user_and_chats/birthday.py:21:9
   |
19 |     """
20 |
21 |     def __init__(self, *, day: int, month: int, year: int) -> None:
   |         ^^^^^^^^                                --------- Parameter declared here
22 |         self.day = day
23 |         self.month = month
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `year` is not defined on `None` in union `Birthday | None`
  --> pyrogram/types/user_and_chats/birthday.py:28:70
   |
26 |     @staticmethod
27 |     def _parse(birthday: raw.types.Birthday  | None = None) -> Birthday:
28 |         return Birthday(day=birthday.day, month=birthday.month, year=birthday.year)
   |                                                                      ^^^^^^^^^^^^^
29 |
30 |     async def write(self) -> raw.types.Birthday:
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/types/user_and_chats/business_info.py:60:17
   |
58 |             location=types.Location._parse(
59 |                 client,
60 |                 getattr(location, "geo_point", None),
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `GeoPoint`, found `Any | None`
61 |             ),
62 |             greeting_message=types.BusinessMessage._parse(
   |
info: Element `None` of this union is not assignable to `GeoPoint`
info: Function defined here
  --> pyrogram/types/messages_and_media/location.py:32:9
   |
31 |     @staticmethod
32 |     def _parse(client, geo_point: raw.types.GeoPoint) -> Location:
   |         ^^^^^^         ----------------------------- Parameter declared here
33 |         if isinstance(geo_point, raw.types.GeoPoint):
34 |             return Location(
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/types/user_and_chats/business_info.py:64:17
   |
62 |             greeting_message=types.BusinessMessage._parse(
63 |                 client,
64 |                 greeting_message,
   |                 ^^^^^^^^^^^^^^^^ Expected `BusinessGreetingMessage | BusinessAwayMessage`, found `Any | None`
65 |                 users,
66 |             ),
   |
info: Element `None` of this union is not assignable to `BusinessGreetingMessage | BusinessAwayMessage`
info: Function defined here
  --> pyrogram/types/user_and_chats/business_message.py:68:9
   |
67 |       @staticmethod
68 |       def _parse(
   |           ^^^^^^
69 |           client,
70 | /         message: raw.types.BusinessGreetingMessage
71 | |         | raw.types.BusinessAwayMessage = None,
   | |______________________________________________- Parameter declared here
72 |           users: dict | None = None,
73 |       ) -> BusinessMessage | None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/types/user_and_chats/business_info.py:67:63
   |
65 |                 users,
66 |             ),
67 |             away_message=types.BusinessMessage._parse(client, away_message, users),
   |                                                               ^^^^^^^^^^^^ Expected `BusinessGreetingMessage | BusinessAwayMessage`, found `Any | None`
68 |             working_hours=types.BusinessWorkingHours._parse(working_hours),
69 |         )
   |
info: Element `None` of this union is not assignable to `BusinessGreetingMessage | BusinessAwayMessage`
info: Function defined here
  --> pyrogram/types/user_and_chats/business_message.py:68:9
   |
67 |       @staticmethod
68 |       def _parse(
   |           ^^^^^^
69 |           client,
70 | /         message: raw.types.BusinessGreetingMessage
71 | |         | raw.types.BusinessAwayMessage = None,
   | |______________________________________________- Parameter declared here
72 |           users: dict | None = None,
73 |       ) -> BusinessMessage | None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-parameter-default]: Default value of type `None` is not assignable to annotated parameter type `BusinessGreetingMessage | BusinessAwayMessage`
  --> pyrogram/types/user_and_chats/business_message.py:70:9
   |
68 |       def _parse(
69 |           client,
70 | /         message: raw.types.BusinessGreetingMessage
71 | |         | raw.types.BusinessAwayMessage = None,
   | |______________________________________________^
72 |           users: dict | None = None,
73 |       ) -> BusinessMessage | None:
   |
info: rule `invalid-parameter-default` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/user_and_chats/business_message.py:102:13
    |
100 |               no_activity_days=getattr(message, "no_activity_days", None),
101 |               offline_only=getattr(message, "offline_only", None),
102 | /             recipients=types.BusinessRecipients._parse(
103 | |                 client,
104 | |                 message.recipients,
105 | |                 users,
106 | |             ),
    | |_____________^ Expected `list[User] | None`, found `BusinessRecipients`
107 |               schedule=schedule,
108 |               start_date=utils.timestamp_to_datetime(message.schedule.start_date)
    |
info: Method defined here
  --> pyrogram/types/user_and_chats/business_message.py:44:9
   |
42 |     """
43 |
44 |     def __init__(
   |         ^^^^^^^^
45 |         self,
46 |         *,
   |
  ::: pyrogram/types/user_and_chats/business_message.py:52:9
   |
50 |         no_activity_days: int | None = None,
51 |         offline_only: bool | None = None,
52 |         recipients: list[types.User] | None = None,
   |         ------------------------------------------ Parameter declared here
53 |         schedule: enums.BusinessSchedule  | None = None,
54 |         start_date: datetime | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/business_message.py:104:17
    |
102 |             recipients=types.BusinessRecipients._parse(
103 |                 client,
104 |                 message.recipients,
    |                 ^^^^^^^^^^^^^^^^^^ Expected `pyrogram.raw.types.business_recipients.BusinessRecipients`, found `Unknown | pyrogram.raw.base.business_recipients.BusinessRecipients`
105 |                 users,
106 |             ),
    |
info: Element `BusinessRecipients` of this union is not assignable to `pyrogram.raw.types.business_recipients.BusinessRecipients`
info: Function defined here
  --> pyrogram/types/user_and_chats/business_recipients.py:48:9
   |
47 |     @staticmethod
48 |     def _parse(
   |         ^^^^^^
49 |         client,
50 |         recipients: raw.types.BusinessRecipients,
   |         ---------------------------------------- Parameter declared here
51 |         users: dict | None = None,
52 |     ) -> BusinessRecipients:
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `schedule` is not defined on `BusinessGreetingMessage & ~AlwaysFalsy` in union `(BusinessGreetingMessage & ~AlwaysFalsy) | (BusinessAwayMessage & ~AlwaysFalsy)`
   --> pyrogram/types/user_and_chats/business_message.py:108:52
    |
106 |             ),
107 |             schedule=schedule,
108 |             start_date=utils.timestamp_to_datetime(message.schedule.start_date)
    |                                                    ^^^^^^^^^^^^^^^^
109 |             if schedule == enums.BusinessSchedule.CUSTOM
110 |             else None,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `start_date` is not defined on `BusinessAwayMessageSchedule` in union `Unknown | BusinessAwayMessageSchedule`
   --> pyrogram/types/user_and_chats/business_message.py:108:52
    |
106 |             ),
107 |             schedule=schedule,
108 |             start_date=utils.timestamp_to_datetime(message.schedule.start_date)
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
109 |             if schedule == enums.BusinessSchedule.CUSTOM
110 |             else None,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `schedule` is not defined on `BusinessGreetingMessage & ~AlwaysFalsy` in union `(BusinessGreetingMessage & ~AlwaysFalsy) | (BusinessAwayMessage & ~AlwaysFalsy)`
   --> pyrogram/types/user_and_chats/business_message.py:111:50
    |
109 |             if schedule == enums.BusinessSchedule.CUSTOM
110 |             else None,
111 |             end_date=utils.timestamp_to_datetime(message.schedule.end_date)
    |                                                  ^^^^^^^^^^^^^^^^
112 |             if schedule == enums.BusinessSchedule.CUSTOM
113 |             else None,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `end_date` is not defined on `BusinessAwayMessageSchedule` in union `Unknown | BusinessAwayMessageSchedule`
   --> pyrogram/types/user_and_chats/business_message.py:111:50
    |
109 |             if schedule == enums.BusinessSchedule.CUSTOM
110 |             else None,
111 |             end_date=utils.timestamp_to_datetime(message.schedule.end_date)
    |                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^
112 |             if schedule == enums.BusinessSchedule.CUSTOM
113 |             else None,
    |
info: rule `unresolved-attribute` is enabled by default

error[not-subscriptable]: Cannot subscript object of type `None` with no `__getitem__` method
  --> pyrogram/types/user_and_chats/business_recipients.py:60:43
   |
58 |             exclude_selected=getattr(recipients, "exclude_selected", None),
59 |             users=types.List(
60 |                 types.User._parse(client, users[i]) for i in recipients.users
   |                                           ^^^^^^^^
61 |             )
62 |             or None
   |
info: rule `not-subscriptable` is enabled by default

error[not-subscriptable]: Cannot subscript object of type `None` with no `__getitem__` method
  --> pyrogram/types/user_and_chats/business_recipients.py:60:43
   |
58 |             exclude_selected=getattr(recipients, "exclude_selected", None),
59 |             users=types.List(
60 |                 types.User._parse(client, users[i]) for i in recipients.users
   |                                           ^^^^^^^^
61 |             )
62 |             or None
   |
info: rule `not-subscriptable` is enabled by default

error[not-iterable]: Object of type `Unknown | list[int] | None` may not be iterable
  --> pyrogram/types/user_and_chats/business_recipients.py:60:62
   |
58 |             exclude_selected=getattr(recipients, "exclude_selected", None),
59 |             users=types.List(
60 |                 types.User._parse(client, users[i]) for i in recipients.users
   |                                                              ^^^^^^^^^^^^^^^^
61 |             )
62 |             or None
   |
info: It may not have an `__iter__` method or a `__getitem__` method
info: rule `not-iterable` is enabled by default

error[unresolved-attribute]: Attribute `start_minute` is not defined on `None` in union `BusinessWeeklyOpen | None`
  --> pyrogram/types/user_and_chats/business_weekly_open.py:36:26
   |
34 |     ) -> BusinessWeeklyOpen:
35 |         return BusinessWeeklyOpen(
36 |             start_minute=weekly_open.start_minute,
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^
37 |             end_minute=weekly_open.end_minute,
38 |         )
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `end_minute` is not defined on `None` in union `BusinessWeeklyOpen | None`
  --> pyrogram/types/user_and_chats/business_weekly_open.py:37:24
   |
35 |         return BusinessWeeklyOpen(
36 |             start_minute=weekly_open.start_minute,
37 |             end_minute=weekly_open.end_minute,
   |                        ^^^^^^^^^^^^^^^^^^^^^^
38 |         )
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/types/user_and_chats/business_working_hours.py:42:49
   |
40 |             timezone=work_hours.timezone_id,
41 |             working_hours=types.List(
42 |                 types.BusinessWeeklyOpen._parse(i) for i in work_hours.weekly_open
   |                                                 ^ Expected `pyrogram.raw.types.business_weekly_open.BusinessWeeklyOpen | None`, found `Unknown | pyrogram.raw.base.business_weekly_open.BusinessWeeklyOpen`
43 |             ),
44 |             is_open_now=getattr(work_hours, "open_now", None),
   |
info: Element `BusinessWeeklyOpen` of this union is not assignable to `pyrogram.raw.types.business_weekly_open.BusinessWeeklyOpen | None`
info: Function defined here
  --> pyrogram/types/user_and_chats/business_weekly_open.py:32:9
   |
31 |     @staticmethod
32 |     def _parse(
   |         ^^^^^^
33 |         weekly_open: raw.types.BusinessWeeklyOpen  | None = None,
   |         -------------------------------------------------------- Parameter declared here
34 |     ) -> BusinessWeeklyOpen:
35 |         return BusinessWeeklyOpen(
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
   --> pyrogram/types/user_and_chats/chat.py:358:28
    |
357 |       @property
358 |       def full_name(self) -> str:
    |                              --- Expected `str` because of return type
359 |           return (
360 | /             " ".join(filter(None, [self.first_name, self.last_name]))
361 | |             or self.title
362 | |             or None
    | |___________________^ expected `str`, found `(str & ~AlwaysFalsy) | (Unknown & ~AlwaysFalsy) | None`
363 |           )
    |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat.py:382:17
    |
380 |             photo=types.ChatPhoto._parse(
381 |                 client,
382 |                 user.photo,
    |                 ^^^^^^^^^^ Expected `pyrogram.raw.types.user_profile_photo.UserProfilePhoto | ChatPhoto`, found `Unknown | pyrogram.raw.base.user_profile_photo.UserProfilePhoto`
383 |                 peer_id,
384 |                 user.access_hash,
    |
info: Element `UserProfilePhoto` of this union is not assignable to `pyrogram.raw.types.user_profile_photo.UserProfilePhoto | ChatPhoto`
info: Function defined here
  --> pyrogram/types/user_and_chats/chat_photo.py:69:9
   |
68 |     @staticmethod
69 |     def _parse(
   |         ^^^^^^
70 |         client,
71 |         chat_photo: raw.types.UserProfilePhoto | raw.types.ChatPhoto,
   |         ------------------------------------------------------------ Parameter declared here
72 |         peer_id: int,
73 |         peer_access_hash: int,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat.py:384:17
    |
382 |                 user.photo,
383 |                 peer_id,
384 |                 user.access_hash,
    |                 ^^^^^^^^^^^^^^^^ Expected `int`, found `Unknown | int | None`
385 |             ),
386 |             restrictions=types.List(
    |
info: Element `None` of this union is not assignable to `int`
info: Function defined here
  --> pyrogram/types/user_and_chats/chat_photo.py:69:9
   |
68 |     @staticmethod
69 |     def _parse(
   |         ^^^^^^
70 |         client,
71 |         chat_photo: raw.types.UserProfilePhoto | raw.types.ChatPhoto,
72 |         peer_id: int,
73 |         peer_access_hash: int,
   |         --------------------- Parameter declared here
74 |     ):
75 |         if not isinstance(
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat.py:387:43
    |
385 |             ),
386 |             restrictions=types.List(
387 |                 [types.Restriction._parse(r) for r in user.restriction_reason],
    |                                           ^ Expected `pyrogram.raw.types.restriction_reason.RestrictionReason`, found `Unknown | pyrogram.raw.base.restriction_reason.RestrictionReason`
388 |             )
389 |             or None,
    |
info: Element `RestrictionReason` of this union is not assignable to `pyrogram.raw.types.restriction_reason.RestrictionReason`
info: Function defined here
  --> pyrogram/types/user_and_chats/restriction.py:33:9
   |
32 |     @staticmethod
33 |     def _parse(
   |         ^^^^^^
34 |         restriction: raw.types.RestrictionReason,
   |         ---------------------------------------- Parameter declared here
35 |     ) -> Restriction:
36 |         return Restriction(
   |
info: rule `invalid-argument-type` is enabled by default

error[not-iterable]: Object of type `Unknown | list[RestrictionReason] | None` may not be iterable
   --> pyrogram/types/user_and_chats/chat.py:387:55
    |
385 |             ),
386 |             restrictions=types.List(
387 |                 [types.Restriction._parse(r) for r in user.restriction_reason],
    |                                                       ^^^^^^^^^^^^^^^^^^^^^^^
388 |             )
389 |             or None,
    |
info: It may not have an `__iter__` method or a `__getitem__` method
info: rule `not-iterable` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat.py:415:17
    |
413 |             photo=types.ChatPhoto._parse(
414 |                 client,
415 |                 getattr(chat, "photo", None),
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `UserProfilePhoto | ChatPhoto`, found `Any | None`
416 |                 peer_id,
417 |                 0,
    |
info: Element `None` of this union is not assignable to `UserProfilePhoto | ChatPhoto`
info: Function defined here
  --> pyrogram/types/user_and_chats/chat_photo.py:69:9
   |
68 |     @staticmethod
69 |     def _parse(
   |         ^^^^^^
70 |         client,
71 |         chat_photo: raw.types.UserProfilePhoto | raw.types.ChatPhoto,
   |         ------------------------------------------------------------ Parameter declared here
72 |         peer_id: int,
73 |         peer_access_hash: int,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat.py:420:17
    |
418 |             ),
419 |             permissions=types.ChatPermissions._parse(
420 |                 getattr(chat, "default_banned_rights", None),
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `ChatBannedRights`, found `Any | None`
421 |             ),
422 |             members_count=getattr(chat, "participants_count", None),
    |
info: Element `None` of this union is not assignable to `ChatBannedRights`
info: Function defined here
   --> pyrogram/types/user_and_chats/chat_permissions.py:149:9
    |
148 |     @staticmethod
149 |     def _parse(
    |         ^^^^^^
150 |         denied_permissions: raw.base.ChatBannedRights,
    |         --------------------------------------------- Parameter declared here
151 |     ) -> ChatPermissions:
152 |         if isinstance(denied_permissions, raw.types.ChatBannedRights):
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat.py:479:17
    |
477 |             photo=types.ChatPhoto._parse(
478 |                 client,
479 |                 getattr(channel, "photo", None),
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `UserProfilePhoto | ChatPhoto`, found `Any | None`
480 |                 peer_id,
481 |                 getattr(channel, "access_hash", 0),
    |
info: Element `None` of this union is not assignable to `UserProfilePhoto | ChatPhoto`
info: Function defined here
  --> pyrogram/types/user_and_chats/chat_photo.py:69:9
   |
68 |     @staticmethod
69 |     def _parse(
   |         ^^^^^^
70 |         client,
71 |         chat_photo: raw.types.UserProfilePhoto | raw.types.ChatPhoto,
   |         ------------------------------------------------------------ Parameter declared here
72 |         peer_id: int,
73 |         peer_access_hash: int,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat.py:488:17
    |
486 |             or None,
487 |             permissions=types.ChatPermissions._parse(
488 |                 getattr(channel, "default_banned_rights", None),
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `ChatBannedRights`, found `Any | None`
489 |             ),
490 |             members_count=getattr(channel, "participants_count", None),
    |
info: Element `None` of this union is not assignable to `ChatBannedRights`
info: Function defined here
   --> pyrogram/types/user_and_chats/chat_permissions.py:149:9
    |
148 |     @staticmethod
149 |     def _parse(
    |         ^^^^^^
150 |         denied_permissions: raw.base.ChatBannedRights,
    |         --------------------------------------------- Parameter declared here
151 |     ) -> ChatPermissions:
152 |         if isinstance(denied_permissions, raw.types.ChatBannedRights):
    |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `User` in union `Unknown | User`
   --> pyrogram/types/user_and_chats/chat.py:540:18
    |
538 |         chat_full: raw.types.messages.ChatFull | raw.types.users.UserFull,
539 |     ) -> Chat:
540 |         users = {u.id: u for u in chat_full.users}
    |                  ^^^^
541 |         chats = {c.id: c for c in chat_full.chats}
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `Chat` in union `Unknown | Chat`
   --> pyrogram/types/user_and_chats/chat.py:541:18
    |
539 |     ) -> Chat:
540 |         users = {u.id: u for u in chat_full.users}
541 |         chats = {c.id: c for c in chat_full.chats}
    |                  ^^^^
542 |
543 |         if isinstance(chat_full, raw.types.users.UserFull):
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `_parse_user_chat` is incorrect
   --> pyrogram/types/user_and_chats/chat.py:546:57
    |
544 |             full_user = chat_full.full_user
545 |
546 |             parsed_chat = Chat._parse_user_chat(client, users[full_user.id])
    |                                                         ^^^^^^^^^^^^^^^^^^^ Expected `pyrogram.raw.types.user.User`, found `Unknown | pyrogram.raw.base.user.User`
547 |             parsed_chat.bio = full_user.about
548 |             parsed_chat.folder_id = getattr(full_user, "folder_id", None)
    |
info: Element `User` of this union is not assignable to `pyrogram.raw.types.user.User`
info: Function defined here
   --> pyrogram/types/user_and_chats/chat.py:366:9
    |
365 |     @staticmethod
366 |     def _parse_user_chat(client, user: raw.types.User) -> Chat:
    |         ^^^^^^^^^^^^^^^^         -------------------- Parameter declared here
367 |         peer_id = user.id
    |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `UserFull` in union `Unknown | UserFull`
   --> pyrogram/types/user_and_chats/chat.py:546:63
    |
544 |             full_user = chat_full.full_user
545 |
546 |             parsed_chat = Chat._parse_user_chat(client, users[full_user.id])
    |                                                               ^^^^^^^^^^^^
547 |             parsed_chat.bio = full_user.about
548 |             parsed_chat.folder_id = getattr(full_user, "folder_id", None)
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `about` is not defined on `UserFull` in union `Unknown | UserFull`
   --> pyrogram/types/user_and_chats/chat.py:547:31
    |
546 |             parsed_chat = Chat._parse_user_chat(client, users[full_user.id])
547 |             parsed_chat.bio = full_user.about
    |                               ^^^^^^^^^^^^^^^
548 |             parsed_chat.folder_id = getattr(full_user, "folder_id", None)
549 |             parsed_chat.business_info = types.BusinessInfo._parse(
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat.py:551:17
    |
549 |             parsed_chat.business_info = types.BusinessInfo._parse(
550 |                 client,
551 |                 full_user,
    |                 ^^^^^^^^^ Expected `pyrogram.raw.types.user_full.UserFull | None`, found `Unknown | pyrogram.raw.base.user_full.UserFull`
552 |                 users,
553 |             )
    |
info: Element `UserFull` of this union is not assignable to `pyrogram.raw.types.user_full.UserFull | None`
info: Function defined here
  --> pyrogram/types/user_and_chats/business_info.py:43:9
   |
42 |     @staticmethod
43 |     def _parse(
   |         ^^^^^^
44 |         client,
45 |         user: raw.types.UserFull  | None = None,
   |         --------------------------------------- Parameter declared here
46 |         users: dict | None = None,
47 |     ) -> BusinessInfo | None:
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `pinned_msg_id` is not defined on `UserFull` in union `Unknown | UserFull`
   --> pyrogram/types/user_and_chats/chat.py:574:16
    |
572 |                 )
573 |
574 |             if full_user.pinned_msg_id:
    |                ^^^^^^^^^^^^^^^^^^^^^^^
575 |                 parsed_chat.pinned_message = await client.get_messages(
576 |                     parsed_chat.id,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `pinned_msg_id` is not defined on `UserFull` in union `Unknown | UserFull`
   --> pyrogram/types/user_and_chats/chat.py:577:33
    |
575 |                 parsed_chat.pinned_message = await client.get_messages(
576 |                     parsed_chat.id,
577 |                     message_ids=full_user.pinned_msg_id,
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^
578 |                 )
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `stories` is not defined on `UserFull` in union `Unknown | UserFull`
   --> pyrogram/types/user_and_chats/chat.py:580:16
    |
578 |                 )
579 |
580 |             if full_user.stories:
    |                ^^^^^^^^^^^^^^^^^
581 |                 peer_stories: raw.types.PeerStories = full_user.stories
582 |                 parsed_chat.stories = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `stories` is not defined on `UserFull` in union `Unknown | UserFull`
   --> pyrogram/types/user_and_chats/chat.py:581:55
    |
580 |             if full_user.stories:
581 |                 peer_stories: raw.types.PeerStories = full_user.stories
    |                                                       ^^^^^^^^^^^^^^^^^
582 |                 parsed_chat.stories = (
583 |                     types.List(
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `wallpaper` is not defined on `UserFull` in union `Unknown | UserFull`
   --> pyrogram/types/user_and_chats/chat.py:596:16
    |
594 |                 )
595 |
596 |             if full_user.wallpaper and isinstance(
    |                ^^^^^^^^^^^^^^^^^^^
597 |                 full_user.wallpaper,
598 |                 raw.types.WallPaper,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `wallpaper` is not defined on `UserFull` in union `Unknown | UserFull`
   --> pyrogram/types/user_and_chats/chat.py:597:17
    |
596 |             if full_user.wallpaper and isinstance(
597 |                 full_user.wallpaper,
    |                 ^^^^^^^^^^^^^^^^^^^
598 |                 raw.types.WallPaper,
599 |             ):
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `wallpaper` is not defined on `UserFull` in union `Unknown | UserFull`
   --> pyrogram/types/user_and_chats/chat.py:602:21
    |
600 |                 parsed_chat.wallpaper = types.Document._parse(
601 |                     client,
602 |                     full_user.wallpaper.document,
    |                     ^^^^^^^^^^^^^^^^^^^
603 |                     "wallpaper.jpg",
604 |                 )
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `id` is not defined on `ChatFull` in union `Unknown | ChatFull`
   --> pyrogram/types/user_and_chats/chat.py:607:30
    |
605 |         else:
606 |             full_chat = chat_full.full_chat
607 |             chat_raw = chats[full_chat.id]
    |                              ^^^^^^^^^^^^
608 |
609 |             if isinstance(full_chat, raw.types.ChatFull):
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `_parse_chat_chat` is incorrect
   --> pyrogram/types/user_and_chats/chat.py:610:61
    |
609 |             if isinstance(full_chat, raw.types.ChatFull):
610 |                 parsed_chat = Chat._parse_chat_chat(client, chat_raw)
    |                                                             ^^^^^^^^ Expected `pyrogram.raw.types.chat.Chat`, found `Unknown | pyrogram.raw.base.chat.Chat`
611 |                 parsed_chat.description = full_chat.about or None
    |
info: Element `Chat` of this union is not assignable to `pyrogram.raw.types.chat.Chat`
info: Function defined here
   --> pyrogram/types/user_and_chats/chat.py:399:9
    |
398 |     @staticmethod
399 |     def _parse_chat_chat(client, chat: raw.types.Chat) -> Chat:
    |         ^^^^^^^^^^^^^^^^         -------------------- Parameter declared here
400 |         peer_id = -chat.id
401 |         active_usernames = getattr(chat, "usernames", [])
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse_channel_chat` is incorrect
   --> pyrogram/types/user_and_chats/chat.py:618:64
    |
616 |                     )
617 |             else:
618 |                 parsed_chat = Chat._parse_channel_chat(client, chat_raw)
    |                                                                ^^^^^^^^ Expected `Channel`, found `Unknown | Chat`
619 |                 parsed_chat.members_count = full_chat.participants_count
620 |                 parsed_chat.slow_mode_delay = getattr(
    |
info: Element `Chat` of this union is not assignable to `Channel`
info: Function defined here
   --> pyrogram/types/user_and_chats/chat.py:431:9
    |
430 |     @staticmethod
431 |     def _parse_channel_chat(client, channel: raw.types.Channel) -> Chat:
    |         ^^^^^^^^^^^^^^^^^^^         -------------------------- Parameter declared here
432 |         peer_id = utils.get_channel_id(channel.id)
433 |         restriction_reason = getattr(channel, "restriction_reason", [])
    |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `participants_count` is not defined on `pyrogram.raw.base.chat_full.ChatFull & ~pyrogram.raw.types.chat_full.ChatFull` in union `(Unknown & ~pyrogram.raw.types.chat_full.ChatFull) | (pyrogram.raw.base.chat_full.ChatFull & ~pyrogram.raw.types.chat_full.ChatFull)`
   --> pyrogram/types/user_and_chats/chat.py:619:45
    |
617 |             else:
618 |                 parsed_chat = Chat._parse_channel_chat(client, chat_raw)
619 |                 parsed_chat.members_count = full_chat.participants_count
    |                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
620 |                 parsed_chat.slow_mode_delay = getattr(
621 |                     full_chat,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `about` is not defined on `pyrogram.raw.base.chat_full.ChatFull & ~pyrogram.raw.types.chat_full.ChatFull` in union `(Unknown & ~pyrogram.raw.types.chat_full.ChatFull) | (pyrogram.raw.base.chat_full.ChatFull & ~pyrogram.raw.types.chat_full.ChatFull)`
   --> pyrogram/types/user_and_chats/chat.py:630:43
    |
628 |                     None,
629 |                 )
630 |                 parsed_chat.description = full_chat.about or None
    |                                           ^^^^^^^^^^^^^^^
631 |                 parsed_chat.can_set_sticker_set = full_chat.can_set_stickers
632 |                 parsed_chat.sticker_set_name = getattr(
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `can_set_stickers` is not defined on `pyrogram.raw.base.chat_full.ChatFull & ~pyrogram.raw.types.chat_full.ChatFull` in union `(Unknown & ~pyrogram.raw.types.chat_full.ChatFull) | (pyrogram.raw.base.chat_full.ChatFull & ~pyrogram.raw.types.chat_full.ChatFull)`
   --> pyrogram/types/user_and_chats/chat.py:631:51
    |
629 |                 )
630 |                 parsed_chat.description = full_chat.about or None
631 |                 parsed_chat.can_set_sticker_set = full_chat.can_set_stickers
    |                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
632 |                 parsed_chat.sticker_set_name = getattr(
633 |                     full_chat.stickerset,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `stickerset` is not defined on `pyrogram.raw.base.chat_full.ChatFull & ~pyrogram.raw.types.chat_full.ChatFull` in union `(Unknown & ~pyrogram.raw.types.chat_full.ChatFull) | (pyrogram.raw.base.chat_full.ChatFull & ~pyrogram.raw.types.chat_full.ChatFull)`
   --> pyrogram/types/user_and_chats/chat.py:633:21
    |
631 |                 parsed_chat.can_set_sticker_set = full_chat.can_set_stickers
632 |                 parsed_chat.sticker_set_name = getattr(
633 |                     full_chat.stickerset,
    |                     ^^^^^^^^^^^^^^^^^^^^
634 |                     "short_name",
635 |                     None,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `participants_hidden` is not defined on `pyrogram.raw.base.chat_full.ChatFull & ~pyrogram.raw.types.chat_full.ChatFull` in union `(Unknown & ~pyrogram.raw.types.chat_full.ChatFull) | (pyrogram.raw.base.chat_full.ChatFull & ~pyrogram.raw.types.chat_full.ChatFull)`
   --> pyrogram/types/user_and_chats/chat.py:637:54
    |
635 |                     None,
636 |                 )
637 |                 parsed_chat.is_participants_hidden = full_chat.participants_hidden
    |                                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
638 |                 parsed_chat.is_antispam = full_chat.antispam
639 |                 parsed_chat.folder_id = getattr(full_chat, "folder_id", None)
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `antispam` is not defined on `pyrogram.raw.base.chat_full.ChatFull & ~pyrogram.raw.types.chat_full.ChatFull` in union `(Unknown & ~pyrogram.raw.types.chat_full.ChatFull) | (pyrogram.raw.base.chat_full.ChatFull & ~pyrogram.raw.types.chat_full.ChatFull)`
   --> pyrogram/types/user_and_chats/chat.py:638:43
    |
636 |                 )
637 |                 parsed_chat.is_participants_hidden = full_chat.participants_hidden
638 |                 parsed_chat.is_antispam = full_chat.antispam
    |                                           ^^^^^^^^^^^^^^^^^^
639 |                 parsed_chat.folder_id = getattr(full_chat, "folder_id", None)
640 |                 parsed_chat.can_enable_paid_reaction = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `paid_reactions_available` is not defined on `pyrogram.raw.base.chat_full.ChatFull & ~pyrogram.raw.types.chat_full.ChatFull` in union `(Unknown & ~pyrogram.raw.types.chat_full.ChatFull) | (pyrogram.raw.base.chat_full.ChatFull & ~pyrogram.raw.types.chat_full.ChatFull)`
   --> pyrogram/types/user_and_chats/chat.py:641:21
    |
639 |                 parsed_chat.folder_id = getattr(full_chat, "folder_id", None)
640 |                 parsed_chat.can_enable_paid_reaction = (
641 |                     full_chat.paid_reactions_available
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
642 |                 )
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `linked_chat_id` is not defined on `pyrogram.raw.base.chat_full.ChatFull & ~pyrogram.raw.types.chat_full.ChatFull` in union `(Unknown & ~pyrogram.raw.types.chat_full.ChatFull) | (pyrogram.raw.base.chat_full.ChatFull & ~pyrogram.raw.types.chat_full.ChatFull)`
   --> pyrogram/types/user_and_chats/chat.py:644:45
    |
642 |                 )
643 |
644 |                 linked_chat_raw = chats.get(full_chat.linked_chat_id)
    |                                             ^^^^^^^^^^^^^^^^^^^^^^^^
645 |
646 |                 if linked_chat_raw:
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `_parse_channel_chat` is incorrect
   --> pyrogram/types/user_and_chats/chat.py:649:25
    |
647 |                     parsed_chat.linked_chat = Chat._parse_channel_chat(
648 |                         client,
649 |                         linked_chat_raw,
    |                         ^^^^^^^^^^^^^^^ Expected `Channel`, found `(Unknown & ~AlwaysFalsy) | (Chat & ~AlwaysFalsy)`
650 |                     )
    |
info: Element `Chat & ~AlwaysFalsy` of this union is not assignable to `Channel`
info: Function defined here
   --> pyrogram/types/user_and_chats/chat.py:431:9
    |
430 |     @staticmethod
431 |     def _parse_channel_chat(client, channel: raw.types.Channel) -> Chat:
    |         ^^^^^^^^^^^^^^^^^^^         -------------------------- Parameter declared here
432 |         peer_id = utils.get_channel_id(channel.id)
433 |         restriction_reason = getattr(channel, "restriction_reason", [])
    |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `default_send_as` is not defined on `pyrogram.raw.base.chat_full.ChatFull & ~pyrogram.raw.types.chat_full.ChatFull` in union `(Unknown & ~pyrogram.raw.types.chat_full.ChatFull) | (pyrogram.raw.base.chat_full.ChatFull & ~pyrogram.raw.types.chat_full.ChatFull)`
   --> pyrogram/types/user_and_chats/chat.py:652:35
    |
650 |                     )
651 |
652 |                 default_send_as = full_chat.default_send_as
    |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^
653 |
654 |                 if default_send_as:
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `_parse_chat` is incorrect
   --> pyrogram/types/user_and_chats/chat.py:660:73
    |
658 |                         send_as_raw = chats[default_send_as.channel_id]
659 |
660 |                     parsed_chat.send_as_chat = Chat._parse_chat(client, send_as_raw)
    |                                                                         ^^^^^^^^^^^ Expected `pyrogram.raw.types.chat.Chat | pyrogram.raw.types.user.User | Channel`, found `Unknown | pyrogram.raw.base.user.User | pyrogram.raw.base.chat.Chat`
661 |
662 |                 if full_chat.stories:
    |
info: Union elements `User` and `Chat` are not assignable to `pyrogram.raw.types.chat.Chat | pyrogram.raw.types.user.User | Channel`
info: Function defined here
   --> pyrogram/types/user_and_chats/chat.py:718:9
    |
717 |     @staticmethod
718 |     def _parse_chat(
    |         ^^^^^^^^^^^
719 |         client,
720 |         chat: raw.types.Chat | raw.types.User | raw.types.Channel,
    |         --------------------------------------------------------- Parameter declared here
721 |     ) -> Chat:
722 |         if isinstance(chat, raw.types.Chat | raw.types.ChatForbidden):
    |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `stories` is not defined on `pyrogram.raw.base.chat_full.ChatFull & ~pyrogram.raw.types.chat_full.ChatFull` in union `(Unknown & ~pyrogram.raw.types.chat_full.ChatFull) | (pyrogram.raw.base.chat_full.ChatFull & ~pyrogram.raw.types.chat_full.ChatFull)`
   --> pyrogram/types/user_and_chats/chat.py:662:20
    |
660 |                     parsed_chat.send_as_chat = Chat._parse_chat(client, send_as_raw)
661 |
662 |                 if full_chat.stories:
    |                    ^^^^^^^^^^^^^^^^^
663 |                     peer_stories: raw.types.PeerStories = full_chat.stories
664 |                     parsed_chat.stories = (
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `stories` is not defined on `pyrogram.raw.base.chat_full.ChatFull & ~pyrogram.raw.types.chat_full.ChatFull` in union `(Unknown & ~pyrogram.raw.types.chat_full.ChatFull) | (pyrogram.raw.base.chat_full.ChatFull & ~pyrogram.raw.types.chat_full.ChatFull)`
   --> pyrogram/types/user_and_chats/chat.py:663:59
    |
662 |                 if full_chat.stories:
663 |                     peer_stories: raw.types.PeerStories = full_chat.stories
    |                                                           ^^^^^^^^^^^^^^^^^
664 |                     parsed_chat.stories = (
665 |                         types.List(
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `wallpaper` is not defined on `pyrogram.raw.base.chat_full.ChatFull & ~pyrogram.raw.types.chat_full.ChatFull` in union `(Unknown & ~pyrogram.raw.types.chat_full.ChatFull) | (pyrogram.raw.base.chat_full.ChatFull & ~pyrogram.raw.types.chat_full.ChatFull)`
   --> pyrogram/types/user_and_chats/chat.py:678:20
    |
676 |                     )
677 |
678 |                 if full_chat.wallpaper and isinstance(
    |                    ^^^^^^^^^^^^^^^^^^^
679 |                     full_chat.wallpaper,
680 |                     raw.types.WallPaper,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `wallpaper` is not defined on `pyrogram.raw.base.chat_full.ChatFull & ~pyrogram.raw.types.chat_full.ChatFull` in union `(Unknown & ~pyrogram.raw.types.chat_full.ChatFull) | (pyrogram.raw.base.chat_full.ChatFull & ~pyrogram.raw.types.chat_full.ChatFull)`
   --> pyrogram/types/user_and_chats/chat.py:679:21
    |
678 |                 if full_chat.wallpaper and isinstance(
679 |                     full_chat.wallpaper,
    |                     ^^^^^^^^^^^^^^^^^^^
680 |                     raw.types.WallPaper,
681 |                 ):
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `wallpaper` is not defined on `pyrogram.raw.base.chat_full.ChatFull & ~pyrogram.raw.types.chat_full.ChatFull` in union `(Unknown & ~pyrogram.raw.types.chat_full.ChatFull) | (pyrogram.raw.base.chat_full.ChatFull & ~pyrogram.raw.types.chat_full.ChatFull)`
   --> pyrogram/types/user_and_chats/chat.py:684:25
    |
682 |                     parsed_chat.wallpaper = types.Document._parse(
683 |                         client,
684 |                         full_chat.wallpaper.document,
    |                         ^^^^^^^^^^^^^^^^^^^
685 |                         "wallpaper.jpg",
686 |                     )
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `pinned_msg_id` is not defined on `ChatFull` in union `Unknown | ChatFull`
   --> pyrogram/types/user_and_chats/chat.py:688:16
    |
686 |                     )
687 |
688 |             if full_chat.pinned_msg_id:
    |                ^^^^^^^^^^^^^^^^^^^^^^^
689 |                 parsed_chat.pinned_message = await client.get_messages(
690 |                     parsed_chat.id,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `pinned_msg_id` is not defined on `ChatFull` in union `Unknown | ChatFull`
   --> pyrogram/types/user_and_chats/chat.py:691:33
    |
689 |                 parsed_chat.pinned_message = await client.get_messages(
690 |                     parsed_chat.id,
691 |                     message_ids=full_chat.pinned_msg_id,
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^
692 |                 )
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `exported_invite` is not defined on `ChatFull` in union `Unknown | ChatFull`
   --> pyrogram/types/user_and_chats/chat.py:695:17
    |
694 |             if isinstance(
695 |                 full_chat.exported_invite,
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^
696 |                 raw.types.ChatInviteExported,
697 |             ):
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `exported_invite` is not defined on `ChatFull` in union `Unknown | ChatFull`
   --> pyrogram/types/user_and_chats/chat.py:698:43
    |
696 |                 raw.types.ChatInviteExported,
697 |             ):
698 |                 parsed_chat.invite_link = full_chat.exported_invite.link
    |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^
699 |
700 |             parsed_chat.available_reactions = types.ChatReactions._parse(
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `available_reactions` is not defined on `ChatFull` in union `Unknown | ChatFull`
   --> pyrogram/types/user_and_chats/chat.py:702:17
    |
700 |             parsed_chat.available_reactions = types.ChatReactions._parse(
701 |                 client,
702 |                 full_chat.available_reactions,
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
703 |             )
704 |             parsed_chat.join_requests_count = getattr(
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `_parse_chat_chat` is incorrect
   --> pyrogram/types/user_and_chats/chat.py:723:50
    |
721 |     ) -> Chat:
722 |         if isinstance(chat, raw.types.Chat | raw.types.ChatForbidden):
723 |             return Chat._parse_chat_chat(client, chat)
    |                                                  ^^^^ Expected `Chat`, found `Chat | (User & ChatForbidden) | (Channel & ChatForbidden)`
724 |         if isinstance(chat, raw.types.User):
725 |             return Chat._parse_user_chat(client, chat)
    |
info: Union elements `User & ChatForbidden` and `Channel & ChatForbidden` are not assignable to `Chat`
info: Function defined here
   --> pyrogram/types/user_and_chats/chat.py:399:9
    |
398 |     @staticmethod
399 |     def _parse_chat_chat(client, chat: raw.types.Chat) -> Chat:
    |         ^^^^^^^^^^^^^^^^         -------------------- Parameter declared here
400 |         peer_id = -chat.id
401 |         active_usernames = getattr(chat, "usernames", [])
    |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `Client` has no attribute `listen`
   --> pyrogram/types/user_and_chats/chat.py:755:16
    |
753 |             asyncio.TimeoutError: In case reply not received within the timeout.
754 |         """
755 |         return self._client.listen(*args, chat_id=self.id, **kwargs)
    |                ^^^^^^^^^^^^^^^^^^^
756 |
757 |     def ask(self, text, *args, **kwargs):
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `Client` has no attribute `ask`
   --> pyrogram/types/user_and_chats/chat.py:789:16
    |
787 |             asyncio.TimeoutError: In case reply not received within the timeout.
788 |         """
789 |         return self._client.ask(self.id, text, *args, **kwargs)
    |                ^^^^^^^^^^^^^^^^
790 |
791 |     def stop_listening(self, *args, **kwargs):
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `Client` has no attribute `stop_listening`
   --> pyrogram/types/user_and_chats/chat.py:813:16
    |
812 |         """
813 |         return self._client.stop_listening(*args, chat_id=self.id, **kwargs)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
814 |
815 |     async def archive(self):
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/user_and_chats/chat_admin_with_invite_links.py:42:13
   |
40 |     ) -> ChatAdminWithInviteLinks:
41 |         return ChatAdminWithInviteLinks(
42 |             admin=types.User._parse(client, users[admin.admin_id]),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `User`, found `User | None`
43 |             chat_invite_links_count=admin.invites_count,
44 |             revoked_chat_invite_links_count=admin.revoked_invites_count,
   |
info: Element `None` of this union is not assignable to `User`
info: Method defined here
  --> pyrogram/types/user_and_chats/chat_admin_with_invite_links.py:22:9
   |
20 |     """
21 |
22 |     def __init__(
   |         ^^^^^^^^
23 |         self,
24 |         *,
25 |         admin: types.User,
   |         ----------------- Parameter declared here
26 |         chat_invite_links_count: int,
27 |         revoked_chat_invite_links_count: int | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[not-subscriptable]: Cannot subscript object of type `None` with no `__getitem__` method
  --> pyrogram/types/user_and_chats/chat_admin_with_invite_links.py:42:45
   |
40 |     ) -> ChatAdminWithInviteLinks:
41 |         return ChatAdminWithInviteLinks(
42 |             admin=types.User._parse(client, users[admin.admin_id]),
   |                                             ^^^^^^^^^^^^^^^^^^^^^
43 |             chat_invite_links_count=admin.invites_count,
44 |             revoked_chat_invite_links_count=admin.revoked_invites_count,
   |
info: rule `not-subscriptable` is enabled by default

error[not-subscriptable]: Cannot subscript object of type `None` with no `__getitem__` method
  --> pyrogram/types/user_and_chats/chat_admin_with_invite_links.py:42:45
   |
40 |     ) -> ChatAdminWithInviteLinks:
41 |         return ChatAdminWithInviteLinks(
42 |             admin=types.User._parse(client, users[admin.admin_id]),
   |                                             ^^^^^^^^^^^^^^^^^^^^^
43 |             chat_invite_links_count=admin.invites_count,
44 |             revoked_chat_invite_links_count=admin.revoked_invites_count,
   |
info: rule `not-subscriptable` is enabled by default

error[invalid-assignment]: Object of type `dict[Unknown, Unknown | User]` is not assignable to `list[User]`
   --> pyrogram/types/user_and_chats/chat_event.py:311:9
    |
309 |         chats: list[raw.base.Chat],
310 |     ):
311 |         users = {i.id: i for i in users}
    |         -----   ^^^^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `dict[Unknown, Unknown | User]`
    |         |
    |         Declared type `list[User]`
312 |         chats = {i.id: i for i in chats}
    |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Object of type `User` has no attribute `id`
   --> pyrogram/types/user_and_chats/chat_event.py:311:18
    |
309 |         chats: list[raw.base.Chat],
310 |     ):
311 |         users = {i.id: i for i in users}
    |                  ^^^^
312 |         chats = {i.id: i for i in chats}
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-assignment]: Object of type `dict[Unknown, Unknown | Chat]` is not assignable to `list[Chat]`
   --> pyrogram/types/user_and_chats/chat_event.py:312:9
    |
310 |     ):
311 |         users = {i.id: i for i in users}
312 |         chats = {i.id: i for i in chats}
    |         -----   ^^^^^^^^^^^^^^^^^^^^^^^^ Incompatible value of type `dict[Unknown, Unknown | Chat]`
    |         |
    |         Declared type `list[Chat]`
313 |
314 |         user = types.User._parse(client, users[event.user_id])
    |
info: rule `invalid-assignment` is enabled by default

error[unresolved-attribute]: Object of type `Chat` has no attribute `id`
   --> pyrogram/types/user_and_chats/chat_event.py:312:18
    |
310 |     ):
311 |         users = {i.id: i for i in users}
312 |         chats = {i.id: i for i in chats}
    |                  ^^^^
313 |
314 |         user = types.User._parse(client, users[event.user_id])
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ChannelAdminLogEvent` has no attribute `user_id`
   --> pyrogram/types/user_and_chats/chat_event.py:314:48
    |
312 |         chats = {i.id: i for i in chats}
313 |
314 |         user = types.User._parse(client, users[event.user_id])
    |                                                ^^^^^^^^^^^^^
315 |         action = event.action
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ChannelAdminLogEvent` has no attribute `action`
   --> pyrogram/types/user_and_chats/chat_event.py:315:18
    |
314 |         user = types.User._parse(client, users[event.user_id])
315 |         action = event.action
    |                  ^^^^^^^^^^^^
316 |
317 |         old_description: str | None = None
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:452:17
    |
450 |                 client,
451 |                 action.message,
452 |                 users,
    |                 ^^^^^ Expected `dict[Unknown, Unknown]`, found `list[User]`
453 |                 chats,
454 |             )
    |
info: Function defined here
   --> pyrogram/types/messages_and_media/message.py:770:15
    |
769 |     @staticmethod
770 |     async def _parse(  # noqa: C901
    |               ^^^^^^
771 |         client: pyrogram.Client,
772 |         message: raw.base.Message,
773 |         users: dict,
    |         ----------- Parameter declared here
774 |         chats: dict,
775 |         topic: dict | None = None,
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:453:17
    |
451 |                 action.message,
452 |                 users,
453 |                 chats,
    |                 ^^^^^ Expected `dict[Unknown, Unknown]`, found `list[Chat]`
454 |             )
455 |             action = enums.ChatEventAction.MESSAGE_DELETED
    |
info: Function defined here
   --> pyrogram/types/messages_and_media/message.py:770:15
    |
769 |     @staticmethod
770 |     async def _parse(  # noqa: C901
    |               ^^^^^^
771 |         client: pyrogram.Client,
772 |         message: raw.base.Message,
773 |         users: dict,
774 |         chats: dict,
    |         ----------- Parameter declared here
775 |         topic: dict | None = None,
776 |         is_scheduled: bool = False,
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:461:17
    |
459 |                 client,
460 |                 action.prev_message,
461 |                 users,
    |                 ^^^^^ Expected `dict[Unknown, Unknown]`, found `list[User]`
462 |                 chats,
463 |             )
    |
info: Function defined here
   --> pyrogram/types/messages_and_media/message.py:770:15
    |
769 |     @staticmethod
770 |     async def _parse(  # noqa: C901
    |               ^^^^^^
771 |         client: pyrogram.Client,
772 |         message: raw.base.Message,
773 |         users: dict,
    |         ----------- Parameter declared here
774 |         chats: dict,
775 |         topic: dict | None = None,
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:462:17
    |
460 |                 action.prev_message,
461 |                 users,
462 |                 chats,
    |                 ^^^^^ Expected `dict[Unknown, Unknown]`, found `list[Chat]`
463 |             )
464 |             new_message = await types.Message._parse(
    |
info: Function defined here
   --> pyrogram/types/messages_and_media/message.py:770:15
    |
769 |     @staticmethod
770 |     async def _parse(  # noqa: C901
    |               ^^^^^^
771 |         client: pyrogram.Client,
772 |         message: raw.base.Message,
773 |         users: dict,
774 |         chats: dict,
    |         ----------- Parameter declared here
775 |         topic: dict | None = None,
776 |         is_scheduled: bool = False,
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:467:17
    |
465 |                 client,
466 |                 action.new_message,
467 |                 users,
    |                 ^^^^^ Expected `dict[Unknown, Unknown]`, found `list[User]`
468 |                 chats,
469 |             )
    |
info: Function defined here
   --> pyrogram/types/messages_and_media/message.py:770:15
    |
769 |     @staticmethod
770 |     async def _parse(  # noqa: C901
    |               ^^^^^^
771 |         client: pyrogram.Client,
772 |         message: raw.base.Message,
773 |         users: dict,
    |         ----------- Parameter declared here
774 |         chats: dict,
775 |         topic: dict | None = None,
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:468:17
    |
466 |                 action.new_message,
467 |                 users,
468 |                 chats,
    |                 ^^^^^ Expected `dict[Unknown, Unknown]`, found `list[Chat]`
469 |             )
470 |             action = enums.ChatEventAction.MESSAGE_EDITED
    |
info: Function defined here
   --> pyrogram/types/messages_and_media/message.py:770:15
    |
769 |     @staticmethod
770 |     async def _parse(  # noqa: C901
    |               ^^^^^^
771 |         client: pyrogram.Client,
772 |         message: raw.base.Message,
773 |         users: dict,
774 |         chats: dict,
    |         ----------- Parameter declared here
775 |         topic: dict | None = None,
776 |         is_scheduled: bool = False,
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:479:17
    |
477 |                 client,
478 |                 action.participant,
479 |                 users,
    |                 ^^^^^ Expected `dict[int, User]`, found `list[User]`
480 |                 chats,
481 |             )
    |
info: Function defined here
   --> pyrogram/types/user_and_chats/chat_member.py:97:9
    |
 96 |     @staticmethod
 97 |     def _parse(
    |         ^^^^^^
 98 |         client: pyrogram.Client,
 99 |         member: raw.base.ChatParticipant | raw.base.ChannelParticipant,
100 |         users: dict[int, raw.base.User],
    |         ------------------------------- Parameter declared here
101 |         chats: dict[int, raw.base.Chat],
102 |     ) -> ChatMember:
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:480:17
    |
478 |                 action.participant,
479 |                 users,
480 |                 chats,
    |                 ^^^^^ Expected `dict[int, Chat]`, found `list[Chat]`
481 |             )
482 |             action = enums.ChatEventAction.MEMBER_INVITED
    |
info: Function defined here
   --> pyrogram/types/user_and_chats/chat_member.py:97:9
    |
 96 |     @staticmethod
 97 |     def _parse(
    |         ^^^^^^
 98 |         client: pyrogram.Client,
 99 |         member: raw.base.ChatParticipant | raw.base.ChannelParticipant,
100 |         users: dict[int, raw.base.User],
101 |         chats: dict[int, raw.base.Chat],
    |         ------------------------------- Parameter declared here
102 |     ) -> ChatMember:
103 |         if isinstance(member, raw.types.ChatParticipant):
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:491:17
    |
489 |                 client,
490 |                 action.prev_participant,
491 |                 users,
    |                 ^^^^^ Expected `dict[int, User]`, found `list[User]`
492 |                 chats,
493 |             )
    |
info: Function defined here
   --> pyrogram/types/user_and_chats/chat_member.py:97:9
    |
 96 |     @staticmethod
 97 |     def _parse(
    |         ^^^^^^
 98 |         client: pyrogram.Client,
 99 |         member: raw.base.ChatParticipant | raw.base.ChannelParticipant,
100 |         users: dict[int, raw.base.User],
    |         ------------------------------- Parameter declared here
101 |         chats: dict[int, raw.base.Chat],
102 |     ) -> ChatMember:
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:492:17
    |
490 |                 action.prev_participant,
491 |                 users,
492 |                 chats,
    |                 ^^^^^ Expected `dict[int, Chat]`, found `list[Chat]`
493 |             )
494 |             new_administrator_privileges = types.ChatMember._parse(
    |
info: Function defined here
   --> pyrogram/types/user_and_chats/chat_member.py:97:9
    |
 96 |     @staticmethod
 97 |     def _parse(
    |         ^^^^^^
 98 |         client: pyrogram.Client,
 99 |         member: raw.base.ChatParticipant | raw.base.ChannelParticipant,
100 |         users: dict[int, raw.base.User],
101 |         chats: dict[int, raw.base.Chat],
    |         ------------------------------- Parameter declared here
102 |     ) -> ChatMember:
103 |         if isinstance(member, raw.types.ChatParticipant):
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:497:17
    |
495 |                 client,
496 |                 action.new_participant,
497 |                 users,
    |                 ^^^^^ Expected `dict[int, User]`, found `list[User]`
498 |                 chats,
499 |             )
    |
info: Function defined here
   --> pyrogram/types/user_and_chats/chat_member.py:97:9
    |
 96 |     @staticmethod
 97 |     def _parse(
    |         ^^^^^^
 98 |         client: pyrogram.Client,
 99 |         member: raw.base.ChatParticipant | raw.base.ChannelParticipant,
100 |         users: dict[int, raw.base.User],
    |         ------------------------------- Parameter declared here
101 |         chats: dict[int, raw.base.Chat],
102 |     ) -> ChatMember:
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:498:17
    |
496 |                 action.new_participant,
497 |                 users,
498 |                 chats,
    |                 ^^^^^ Expected `dict[int, Chat]`, found `list[Chat]`
499 |             )
500 |             action = enums.ChatEventAction.ADMINISTRATOR_PRIVILEGES_CHANGED
    |
info: Function defined here
   --> pyrogram/types/user_and_chats/chat_member.py:97:9
    |
 96 |     @staticmethod
 97 |     def _parse(
    |         ^^^^^^
 98 |         client: pyrogram.Client,
 99 |         member: raw.base.ChatParticipant | raw.base.ChannelParticipant,
100 |         users: dict[int, raw.base.User],
101 |         chats: dict[int, raw.base.Chat],
    |         ------------------------------- Parameter declared here
102 |     ) -> ChatMember:
103 |         if isinstance(member, raw.types.ChatParticipant):
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:509:17
    |
507 |                 client,
508 |                 action.prev_participant,
509 |                 users,
    |                 ^^^^^ Expected `dict[int, User]`, found `list[User]`
510 |                 chats,
511 |             )
    |
info: Function defined here
   --> pyrogram/types/user_and_chats/chat_member.py:97:9
    |
 96 |     @staticmethod
 97 |     def _parse(
    |         ^^^^^^
 98 |         client: pyrogram.Client,
 99 |         member: raw.base.ChatParticipant | raw.base.ChannelParticipant,
100 |         users: dict[int, raw.base.User],
    |         ------------------------------- Parameter declared here
101 |         chats: dict[int, raw.base.Chat],
102 |     ) -> ChatMember:
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:510:17
    |
508 |                 action.prev_participant,
509 |                 users,
510 |                 chats,
    |                 ^^^^^ Expected `dict[int, Chat]`, found `list[Chat]`
511 |             )
512 |             new_member_permissions = types.ChatMember._parse(
    |
info: Function defined here
   --> pyrogram/types/user_and_chats/chat_member.py:97:9
    |
 96 |     @staticmethod
 97 |     def _parse(
    |         ^^^^^^
 98 |         client: pyrogram.Client,
 99 |         member: raw.base.ChatParticipant | raw.base.ChannelParticipant,
100 |         users: dict[int, raw.base.User],
101 |         chats: dict[int, raw.base.Chat],
    |         ------------------------------- Parameter declared here
102 |     ) -> ChatMember:
103 |         if isinstance(member, raw.types.ChatParticipant):
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:515:17
    |
513 |                 client,
514 |                 action.new_participant,
515 |                 users,
    |                 ^^^^^ Expected `dict[int, User]`, found `list[User]`
516 |                 chats,
517 |             )
    |
info: Function defined here
   --> pyrogram/types/user_and_chats/chat_member.py:97:9
    |
 96 |     @staticmethod
 97 |     def _parse(
    |         ^^^^^^
 98 |         client: pyrogram.Client,
 99 |         member: raw.base.ChatParticipant | raw.base.ChannelParticipant,
100 |         users: dict[int, raw.base.User],
    |         ------------------------------- Parameter declared here
101 |         chats: dict[int, raw.base.Chat],
102 |     ) -> ChatMember:
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:516:17
    |
514 |                 action.new_participant,
515 |                 users,
516 |                 chats,
    |                 ^^^^^ Expected `dict[int, Chat]`, found `list[Chat]`
517 |             )
518 |             action = enums.ChatEventAction.MEMBER_PERMISSIONS_CHANGED
    |
info: Function defined here
   --> pyrogram/types/user_and_chats/chat_member.py:97:9
    |
 96 |     @staticmethod
 97 |     def _parse(
    |         ^^^^^^
 98 |         client: pyrogram.Client,
 99 |         member: raw.base.ChatParticipant | raw.base.ChannelParticipant,
100 |         users: dict[int, raw.base.User],
101 |         chats: dict[int, raw.base.Chat],
    |         ------------------------------- Parameter declared here
102 |     ) -> ChatMember:
103 |         if isinstance(member, raw.types.ChatParticipant):
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:524:17
    |
522 |                 client,
523 |                 action.message,
524 |                 users,
    |                 ^^^^^ Expected `dict[Unknown, Unknown]`, found `list[User]`
525 |                 chats,
526 |             )
    |
info: Function defined here
   --> pyrogram/types/messages_and_media/message.py:770:15
    |
769 |     @staticmethod
770 |     async def _parse(  # noqa: C901
    |               ^^^^^^
771 |         client: pyrogram.Client,
772 |         message: raw.base.Message,
773 |         users: dict,
    |         ----------- Parameter declared here
774 |         chats: dict,
775 |         topic: dict | None = None,
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:525:17
    |
523 |                 action.message,
524 |                 users,
525 |                 chats,
    |                 ^^^^^ Expected `dict[Unknown, Unknown]`, found `list[Chat]`
526 |             )
527 |             action = enums.ChatEventAction.POLL_STOPPED
    |
info: Function defined here
   --> pyrogram/types/messages_and_media/message.py:770:15
    |
769 |     @staticmethod
770 |     async def _parse(  # noqa: C901
    |               ^^^^^^
771 |         client: pyrogram.Client,
772 |         message: raw.base.Message,
773 |         users: dict,
774 |         chats: dict,
    |         ----------- Parameter declared here
775 |         topic: dict | None = None,
776 |         is_scheduled: bool = False,
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:569:25
    |
567 |                         client,
568 |                         message,
569 |                         users,
    |                         ^^^^^ Expected `dict[Unknown, Unknown]`, found `list[User]`
570 |                         chats,
571 |                     )
    |
info: Function defined here
   --> pyrogram/types/messages_and_media/message.py:770:15
    |
769 |     @staticmethod
770 |     async def _parse(  # noqa: C901
    |               ^^^^^^
771 |         client: pyrogram.Client,
772 |         message: raw.base.Message,
773 |         users: dict,
    |         ----------- Parameter declared here
774 |         chats: dict,
775 |         topic: dict | None = None,
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:570:25
    |
568 |                         message,
569 |                         users,
570 |                         chats,
    |                         ^^^^^ Expected `dict[Unknown, Unknown]`, found `list[Chat]`
571 |                     )
572 |                     action = enums.ChatEventAction.MESSAGE_PINNED
    |
info: Function defined here
   --> pyrogram/types/messages_and_media/message.py:770:15
    |
769 |     @staticmethod
770 |     async def _parse(  # noqa: C901
    |               ^^^^^^
771 |         client: pyrogram.Client,
772 |         message: raw.base.Message,
773 |         users: dict,
774 |         chats: dict,
    |         ----------- Parameter declared here
775 |         topic: dict | None = None,
776 |         is_scheduled: bool = False,
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:577:25
    |
575 |                         client,
576 |                         message,
577 |                         users,
    |                         ^^^^^ Expected `dict[Unknown, Unknown]`, found `list[User]`
578 |                         chats,
579 |                     )
    |
info: Function defined here
   --> pyrogram/types/messages_and_media/message.py:770:15
    |
769 |     @staticmethod
770 |     async def _parse(  # noqa: C901
    |               ^^^^^^
771 |         client: pyrogram.Client,
772 |         message: raw.base.Message,
773 |         users: dict,
    |         ----------- Parameter declared here
774 |         chats: dict,
775 |         topic: dict | None = None,
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:578:25
    |
576 |                         message,
577 |                         users,
578 |                         chats,
    |                         ^^^^^ Expected `dict[Unknown, Unknown]`, found `list[Chat]`
579 |                     )
580 |                     action = enums.ChatEventAction.MESSAGE_UNPINNED
    |
info: Function defined here
   --> pyrogram/types/messages_and_media/message.py:770:15
    |
769 |     @staticmethod
770 |     async def _parse(  # noqa: C901
    |               ^^^^^^
771 |         client: pyrogram.Client,
772 |         message: raw.base.Message,
773 |         users: dict,
774 |         chats: dict,
    |         ----------- Parameter declared here
775 |         topic: dict | None = None,
776 |         is_scheduled: bool = False,
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:589:17
    |
587 |                 client,
588 |                 action.prev_invite,
589 |                 users,
    |                 ^^^^^ Expected `dict[int, pyrogram.raw.types.user.User] | None`, found `list[pyrogram.raw.base.user.User]`
590 |             )
591 |             new_invite_link = types.ChatInviteLink._parse(
    |
info: Function defined here
   --> pyrogram/types/user_and_chats/chat_invite_link.py:103:9
    |
102 |     @staticmethod
103 |     def _parse(
    |         ^^^^^^
104 |         client: pyrogram.Client,
105 |         invite: raw.base.ExportedChatInvite,
106 |         users: dict[int, raw.types.User] | None = None,
    |         ---------------------------------------------- Parameter declared here
107 |     ) -> ChatInviteLink | None:
108 |         if not isinstance(invite, raw.types.ChatInviteExported):
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:594:17
    |
592 |                 client,
593 |                 action.new_invite,
594 |                 users,
    |                 ^^^^^ Expected `dict[int, pyrogram.raw.types.user.User] | None`, found `list[pyrogram.raw.base.user.User]`
595 |             )
596 |             action = enums.ChatEventAction.INVITE_LINK_EDITED
    |
info: Function defined here
   --> pyrogram/types/user_and_chats/chat_invite_link.py:103:9
    |
102 |     @staticmethod
103 |     def _parse(
    |         ^^^^^^
104 |         client: pyrogram.Client,
105 |         invite: raw.base.ExportedChatInvite,
106 |         users: dict[int, raw.types.User] | None = None,
    |         ---------------------------------------------- Parameter declared here
107 |     ) -> ChatInviteLink | None:
108 |         if not isinstance(invite, raw.types.ChatInviteExported):
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:605:17
    |
603 |                 client,
604 |                 action.invite,
605 |                 users,
    |                 ^^^^^ Expected `dict[int, pyrogram.raw.types.user.User] | None`, found `list[pyrogram.raw.base.user.User]`
606 |             )
607 |             action = enums.ChatEventAction.INVITE_LINK_REVOKED
    |
info: Function defined here
   --> pyrogram/types/user_and_chats/chat_invite_link.py:103:9
    |
102 |     @staticmethod
103 |     def _parse(
    |         ^^^^^^
104 |         client: pyrogram.Client,
105 |         invite: raw.base.ExportedChatInvite,
106 |         users: dict[int, raw.types.User] | None = None,
    |         ---------------------------------------------- Parameter declared here
107 |     ) -> ChatInviteLink | None:
108 |         if not isinstance(invite, raw.types.ChatInviteExported):
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:616:17
    |
614 |                 client,
615 |                 action.invite,
616 |                 users,
    |                 ^^^^^ Expected `dict[int, pyrogram.raw.types.user.User] | None`, found `list[pyrogram.raw.base.user.User]`
617 |             )
618 |             action = enums.ChatEventAction.INVITE_LINK_DELETED
    |
info: Function defined here
   --> pyrogram/types/user_and_chats/chat_invite_link.py:103:9
    |
102 |     @staticmethod
103 |     def _parse(
    |         ^^^^^^
104 |         client: pyrogram.Client,
105 |         invite: raw.base.ExportedChatInvite,
106 |         users: dict[int, raw.types.User] | None = None,
    |         ---------------------------------------------- Parameter declared here
107 |     ) -> ChatInviteLink | None:
108 |         if not isinstance(invite, raw.types.ChatInviteExported):
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:624:78
    |
622 |             raw.types.ChannelAdminLogEventActionParticipantJoinByInvite,
623 |         ):
624 |             invite_link = types.ChatInviteLink._parse(client, action.invite, users)
    |                                                                              ^^^^^ Expected `dict[int, pyrogram.raw.types.user.User] | None`, found `list[pyrogram.raw.base.user.User]`
625 |             via_chat_folder_invite_link = getattr(action, "via_chatlist", None)
626 |             action = enums.ChatEventAction.MEMBER_JOINED_BY_LINK
    |
info: Function defined here
   --> pyrogram/types/user_and_chats/chat_invite_link.py:103:9
    |
102 |     @staticmethod
103 |     def _parse(
    |         ^^^^^^
104 |         client: pyrogram.Client,
105 |         invite: raw.base.ExportedChatInvite,
106 |         users: dict[int, raw.types.User] | None = None,
    |         ---------------------------------------------- Parameter declared here
107 |     ) -> ChatInviteLink | None:
108 |         if not isinstance(invite, raw.types.ChatInviteExported):
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:632:78
    |
630 |             raw.types.ChannelAdminLogEventActionParticipantJoinByRequest,
631 |         ):
632 |             invite_link = types.ChatInviteLink._parse(client, action.invite, users)
    |                                                                              ^^^^^ Expected `dict[int, pyrogram.raw.types.user.User] | None`, found `list[pyrogram.raw.base.user.User]`
633 |             approver_user = types.User._parse(client, users[action.approved_by])
634 |             action = enums.ChatEventAction.MEMBER_JOINED_BY_REQUEST
    |
info: Function defined here
   --> pyrogram/types/user_and_chats/chat_invite_link.py:103:9
    |
102 |     @staticmethod
103 |     def _parse(
    |         ^^^^^^
104 |         client: pyrogram.Client,
105 |         invite: raw.base.ExportedChatInvite,
106 |         users: dict[int, raw.types.User] | None = None,
    |         ---------------------------------------------- Parameter declared here
107 |     ) -> ChatInviteLink | None:
108 |         if not isinstance(invite, raw.types.ChatInviteExported):
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:643:17
    |
641 |                 client,
642 |                 action.prev_participant,
643 |                 users,
    |                 ^^^^^ Expected `dict[int, User]`, found `list[User]`
644 |                 chats,
645 |             )
    |
info: Function defined here
   --> pyrogram/types/user_and_chats/chat_member.py:97:9
    |
 96 |     @staticmethod
 97 |     def _parse(
    |         ^^^^^^
 98 |         client: pyrogram.Client,
 99 |         member: raw.base.ChatParticipant | raw.base.ChannelParticipant,
100 |         users: dict[int, raw.base.User],
    |         ------------------------------- Parameter declared here
101 |         chats: dict[int, raw.base.Chat],
102 |     ) -> ChatMember:
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:644:17
    |
642 |                 action.prev_participant,
643 |                 users,
644 |                 chats,
    |                 ^^^^^ Expected `dict[int, Chat]`, found `list[Chat]`
645 |             )
646 |             new_chat_member = types.ChatMember._parse(
    |
info: Function defined here
   --> pyrogram/types/user_and_chats/chat_member.py:97:9
    |
 96 |     @staticmethod
 97 |     def _parse(
    |         ^^^^^^
 98 |         client: pyrogram.Client,
 99 |         member: raw.base.ChatParticipant | raw.base.ChannelParticipant,
100 |         users: dict[int, raw.base.User],
101 |         chats: dict[int, raw.base.Chat],
    |         ------------------------------- Parameter declared here
102 |     ) -> ChatMember:
103 |         if isinstance(member, raw.types.ChatParticipant):
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:649:17
    |
647 |                 client,
648 |                 action.new_participant,
649 |                 users,
    |                 ^^^^^ Expected `dict[int, User]`, found `list[User]`
650 |                 chats,
651 |             )
    |
info: Function defined here
   --> pyrogram/types/user_and_chats/chat_member.py:97:9
    |
 96 |     @staticmethod
 97 |     def _parse(
    |         ^^^^^^
 98 |         client: pyrogram.Client,
 99 |         member: raw.base.ChatParticipant | raw.base.ChannelParticipant,
100 |         users: dict[int, raw.base.User],
    |         ------------------------------- Parameter declared here
101 |         chats: dict[int, raw.base.Chat],
102 |     ) -> ChatMember:
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:650:17
    |
648 |                 action.new_participant,
649 |                 users,
650 |                 chats,
    |                 ^^^^^ Expected `dict[int, Chat]`, found `list[Chat]`
651 |             )
652 |             action = enums.ChatEventAction.MEMBER_SUBSCRIPTION_EXTENDED
    |
info: Function defined here
   --> pyrogram/types/user_and_chats/chat_member.py:97:9
    |
 96 |     @staticmethod
 97 |     def _parse(
    |         ^^^^^^
 98 |         client: pyrogram.Client,
 99 |         member: raw.base.ChatParticipant | raw.base.ChannelParticipant,
100 |         users: dict[int, raw.base.User],
101 |         chats: dict[int, raw.base.Chat],
    |         ------------------------------- Parameter declared here
102 |     ) -> ChatMember:
103 |         if isinstance(member, raw.types.ChatParticipant):
    |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `ChannelAdminLogEvent` has no attribute `id`
   --> pyrogram/types/user_and_chats/chat_event.py:690:16
    |
689 |         return ChatEvent(
690 |             id=event.id,
    |                ^^^^^^^^
691 |             date=utils.timestamp_to_datetime(event.date),
692 |             user=user,
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:691:13
    |
689 |         return ChatEvent(
690 |             id=event.id,
691 |             date=utils.timestamp_to_datetime(event.date),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `datetime`, found `datetime | None`
692 |             user=user,
693 |             action=action,
    |
info: Element `None` of this union is not assignable to `datetime`
info: Method defined here
   --> pyrogram/types/user_and_chats/chat_event.py:169:9
    |
167 |     """
168 |
169 |     def __init__(
    |         ^^^^^^^^
170 |         self,
171 |         *,
172 |         id: int,
173 |         date: datetime,
    |         -------------- Parameter declared here
174 |         user: types.User,
175 |         action: str,
    |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `ChannelAdminLogEvent` has no attribute `date`
   --> pyrogram/types/user_and_chats/chat_event.py:691:46
    |
689 |         return ChatEvent(
690 |             id=event.id,
691 |             date=utils.timestamp_to_datetime(event.date),
    |                                              ^^^^^^^^^^
692 |             user=user,
693 |             action=action,
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:692:13
    |
690 |             id=event.id,
691 |             date=utils.timestamp_to_datetime(event.date),
692 |             user=user,
    |             ^^^^^^^^^ Expected `User`, found `User | None`
693 |             action=action,
694 |             old_description=old_description,
    |
info: Element `None` of this union is not assignable to `User`
info: Method defined here
   --> pyrogram/types/user_and_chats/chat_event.py:169:9
    |
167 |     """
168 |
169 |     def __init__(
    |         ^^^^^^^^
170 |         self,
171 |         *,
172 |         id: int,
173 |         date: datetime,
174 |         user: types.User,
    |         ---------------- Parameter declared here
175 |         action: str,
176 |         old_description: str | None = None,
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/user_and_chats/chat_event.py:693:13
    |
691 |             date=utils.timestamp_to_datetime(event.date),
692 |             user=user,
693 |             action=action,
    |             ^^^^^^^^^^^^^ Expected `str`, found `(Unknown & ChannelAdminLogEventActionUpdatePinned & ~ChannelAdminLogEventActionChangeAbout & ~ChannelAdminLogEventActionChangeHistoryTTL & ~ChannelAdminLogEventActionChangeLinkedChat & ~ChannelAdminLogEventActionChangePhoto & ~ChannelAdminLogEventActionChangeTitle & ~ChannelAdminLogEventActionChangeUsername & ~ChannelAdminLogEventActionChangeUsernames & ~ChannelAdminLogEventActionDefaultBannedRights & ~ChannelAdminLogEventActionDeleteMessage & ~ChannelAdminLogEventActionEditMessage & ~ChannelAdminLogEventActionParticipantInvite & ~ChannelAdminLogEventActionParticipantToggleAdmin & ~ChannelAdminLogEventActionParticipantToggleBan & ~ChannelAdminLogEventActionStopPoll & ~ChannelAdminLogEventActionParticipantJoin & ~ChannelAdminLogEventActionParticipantLeave & ~ChannelAdminLogEventActionToggleInvites & ~ChannelAdminLogEventActionTogglePreHistoryHidden & ~ChannelAdminLogEventActionToggleSignatures & ~ChannelAdminLogEventActionToggleSlowMode) | Literal[ChatEventAction.DESCRIPTION_CHANGED, ChatEventAction.HISTORY_TTL_CHANGED, ChatEventAction.LINKED_CHAT_CHANGED, ChatEventAction.PHOTO_CHANGED, ChatEventAction.TITLE_CHANGED, ... omitted 30 literals] | str`
694 |             old_description=old_description,
695 |             new_description=new_description,
    |
info: Union element `Literal[ChatEventAction.DESCRIPTION_CHANGED]`, and 34 more union elements, are not assignable to `str`
info: Method defined here
   --> pyrogram/types/user_and_chats/chat_event.py:169:9
    |
167 |     """
168 |
169 |     def __init__(
    |         ^^^^^^^^
170 |         self,
171 |         *,
    |
   ::: pyrogram/types/user_and_chats/chat_event.py:175:9
    |
173 |         date: datetime,
174 |         user: types.User,
175 |         action: str,
    |         ----------- Parameter declared here
176 |         old_description: str | None = None,
177 |         new_description: str | None = None,
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/user_and_chats/chat_invite_link.py:120:13
    |
118 |         return ChatInviteLink(
119 |             invite_link=invite.link,
120 |             date=utils.timestamp_to_datetime(invite.date),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `datetime`, found `datetime | None`
121 |             is_primary=invite.permanent,
122 |             is_revoked=invite.revoked,
    |
info: Element `None` of this union is not assignable to `datetime`
info: Method defined here
  --> pyrogram/types/user_and_chats/chat_invite_link.py:65:9
   |
63 |     """
64 |
65 |     def __init__(
   |         ^^^^^^^^
66 |         self,
67 |         *,
68 |         invite_link: str,
69 |         date: datetime,
   |         -------------- Parameter declared here
70 |         is_primary: bool | None = None,
71 |         is_revoked: bool | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Method `__getitem__` of type `bound method dict[int, Chat].__getitem__(key: int, /) -> Chat` cannot be called with key of type `None` on object of type `dict[int, Chat]`
  --> pyrogram/types/user_and_chats/chat_join_request.py:62:49
   |
61 |         return ChatJoinRequest(
62 |             chat=types.Chat._parse_chat(client, chats[chat_id]),
   |                                                 ^^^^^
63 |             from_user=types.User._parse(client, users[update.user_id]),
64 |             date=utils.timestamp_to_datetime(update.date),
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/user_and_chats/chat_join_request.py:63:13
   |
61 |         return ChatJoinRequest(
62 |             chat=types.Chat._parse_chat(client, chats[chat_id]),
63 |             from_user=types.User._parse(client, users[update.user_id]),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `User`, found `User | None`
64 |             date=utils.timestamp_to_datetime(update.date),
65 |             bio=update.about,
   |
info: Element `None` of this union is not assignable to `User`
info: Method defined here
  --> pyrogram/types/user_and_chats/chat_join_request.py:34:9
   |
32 |     """
33 |
34 |     def __init__(
   |         ^^^^^^^^
35 |         self,
36 |         *,
37 |         client: pyrogram.Client  | None = None,
38 |         chat: types.Chat,
39 |         from_user: types.User,
   |         --------------------- Parameter declared here
40 |         date: datetime,
41 |         bio: str | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/user_and_chats/chat_join_request.py:64:13
   |
62 |             chat=types.Chat._parse_chat(client, chats[chat_id]),
63 |             from_user=types.User._parse(client, users[update.user_id]),
64 |             date=utils.timestamp_to_datetime(update.date),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `datetime`, found `datetime | None`
65 |             bio=update.about,
66 |             invite_link=types.ChatInviteLink._parse(client, update.invite, users),
   |
info: Element `None` of this union is not assignable to `datetime`
info: Method defined here
  --> pyrogram/types/user_and_chats/chat_join_request.py:34:9
   |
32 |     """
33 |
34 |     def __init__(
   |         ^^^^^^^^
35 |         self,
36 |         *,
   |
  ::: pyrogram/types/user_and_chats/chat_join_request.py:40:9
   |
38 |         chat: types.Chat,
39 |         from_user: types.User,
40 |         date: datetime,
   |         -------------- Parameter declared here
41 |         bio: str | None = None,
42 |         invite_link: types.ChatInviteLink  | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/user_and_chats/chat_joiner.py:58:13
   |
56 |     ) -> ChatJoiner:
57 |         return ChatJoiner(
58 |             user=types.User._parse(client, users[joiner.user_id]),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `User`, found `User | None`
59 |             date=utils.timestamp_to_datetime(joiner.date),
60 |             pending=joiner.requested,
   |
info: Element `None` of this union is not assignable to `User`
info: Method defined here
  --> pyrogram/types/user_and_chats/chat_joiner.py:33:9
   |
31 |     """
32 |
33 |     def __init__(
   |         ^^^^^^^^
34 |         self,
35 |         *,
36 |         client: pyrogram.Client,
37 |         user: types.User,
   |         ---------------- Parameter declared here
38 |         date: datetime | None = None,
39 |         bio: str | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `ChatInviteImporter` has no attribute `user_id`
  --> pyrogram/types/user_and_chats/chat_joiner.py:58:50
   |
56 |     ) -> ChatJoiner:
57 |         return ChatJoiner(
58 |             user=types.User._parse(client, users[joiner.user_id]),
   |                                                  ^^^^^^^^^^^^^^
59 |             date=utils.timestamp_to_datetime(joiner.date),
60 |             pending=joiner.requested,
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ChatInviteImporter` has no attribute `date`
  --> pyrogram/types/user_and_chats/chat_joiner.py:59:46
   |
57 |         return ChatJoiner(
58 |             user=types.User._parse(client, users[joiner.user_id]),
59 |             date=utils.timestamp_to_datetime(joiner.date),
   |                                              ^^^^^^^^^^^
60 |             pending=joiner.requested,
61 |             bio=joiner.about,
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ChatInviteImporter` has no attribute `requested`
  --> pyrogram/types/user_and_chats/chat_joiner.py:60:21
   |
58 |             user=types.User._parse(client, users[joiner.user_id]),
59 |             date=utils.timestamp_to_datetime(joiner.date),
60 |             pending=joiner.requested,
   |                     ^^^^^^^^^^^^^^^^
61 |             bio=joiner.about,
62 |             approved_by=(
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ChatInviteImporter` has no attribute `about`
  --> pyrogram/types/user_and_chats/chat_joiner.py:61:17
   |
59 |             date=utils.timestamp_to_datetime(joiner.date),
60 |             pending=joiner.requested,
61 |             bio=joiner.about,
   |                 ^^^^^^^^^^^^
62 |             approved_by=(
63 |                 types.User._parse(client, users[joiner.approved_by])
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ChatInviteImporter` has no attribute `approved_by`
  --> pyrogram/types/user_and_chats/chat_joiner.py:63:49
   |
61 |             bio=joiner.about,
62 |             approved_by=(
63 |                 types.User._parse(client, users[joiner.approved_by])
   |                                                 ^^^^^^^^^^^^^^^^^^
64 |                 if joiner.approved_by
65 |                 else None
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ChatInviteImporter` has no attribute `approved_by`
  --> pyrogram/types/user_and_chats/chat_joiner.py:64:20
   |
62 |             approved_by=(
63 |                 types.User._parse(client, users[joiner.approved_by])
64 |                 if joiner.approved_by
   |                    ^^^^^^^^^^^^^^^^^^
65 |                 else None
66 |             ),
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Method `__getitem__` of type `bound method dict[int, User].__getitem__(key: int, /) -> User` cannot be called with key of type `None` on object of type `dict[int, User]`
   --> pyrogram/types/user_and_chats/chat_member.py:157:43
    |
156 |             user = (
157 |                 types.User._parse(client, users[peer_id])
    |                                           ^^^^^
158 |                 if isinstance(peer, raw.types.PeerUser)
159 |                 else None
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Method `__getitem__` of type `bound method dict[int, Chat].__getitem__(key: int, /) -> Chat` cannot be called with key of type `None` on object of type `dict[int, Chat]`
   --> pyrogram/types/user_and_chats/chat_member.py:163:48
    |
162 |             chat = (
163 |                 types.Chat._parse_chat(client, chats[peer_id])
    |                                                ^^^^^
164 |                 if not isinstance(peer, raw.types.PeerUser)
165 |                 else None
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse_chat` is incorrect
   --> pyrogram/types/user_and_chats/chat_member.py:163:48
    |
162 |             chat = (
163 |                 types.Chat._parse_chat(client, chats[peer_id])
    |                                                ^^^^^^^^^^^^^^ Expected `pyrogram.raw.types.chat.Chat | User | Channel`, found `pyrogram.raw.base.chat.Chat`
164 |                 if not isinstance(peer, raw.types.PeerUser)
165 |                 else None
    |
info: Function defined here
   --> pyrogram/types/user_and_chats/chat.py:718:9
    |
717 |     @staticmethod
718 |     def _parse_chat(
    |         ^^^^^^^^^^^
719 |         client,
720 |         chat: raw.types.Chat | raw.types.User | raw.types.Channel,
    |         --------------------------------------------------------- Parameter declared here
721 |     ) -> Chat:
722 |         if isinstance(chat, raw.types.Chat | raw.types.ChatForbidden):
    |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `view_messages` is not defined on `ChatBannedRights` in union `Unknown | ChatBannedRights`
   --> pyrogram/types/user_and_chats/chat_member.py:171:24
    |
169 |                 status=(
170 |                     enums.ChatMemberStatus.BANNED
171 |                     if member.banned_rights.view_messages
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
172 |                     else enums.ChatMemberStatus.RESTRICTED
173 |                 ),
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Attribute `until_date` is not defined on `ChatBannedRights` in union `Unknown | ChatBannedRights`
   --> pyrogram/types/user_and_chats/chat_member.py:177:21
    |
175 |                 chat=chat,
176 |                 until_date=utils.timestamp_to_datetime(
177 |                     member.banned_rights.until_date,
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
178 |                 ),
179 |                 joined_date=utils.timestamp_to_datetime(member.date),
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Method `__getitem__` of type `bound method dict[int, User].__getitem__(key: int, /) -> User` cannot be called with key of type `None` on object of type `dict[int, User]`
   --> pyrogram/types/user_and_chats/chat_member.py:198:43
    |
197 |             user = (
198 |                 types.User._parse(client, users[peer_id])
    |                                           ^^^^^
199 |                 if isinstance(peer, raw.types.PeerUser)
200 |                 else None
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Method `__getitem__` of type `bound method dict[int, Chat].__getitem__(key: int, /) -> Chat` cannot be called with key of type `None` on object of type `dict[int, Chat]`
   --> pyrogram/types/user_and_chats/chat_member.py:204:48
    |
203 |             chat = (
204 |                 types.Chat._parse_chat(client, chats[peer_id])
    |                                                ^^^^^
205 |                 if not isinstance(peer, raw.types.PeerUser)
206 |                 else None
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse_chat` is incorrect
   --> pyrogram/types/user_and_chats/chat_member.py:204:48
    |
203 |             chat = (
204 |                 types.Chat._parse_chat(client, chats[peer_id])
    |                                                ^^^^^^^^^^^^^^ Expected `pyrogram.raw.types.chat.Chat | User | Channel`, found `pyrogram.raw.base.chat.Chat`
205 |                 if not isinstance(peer, raw.types.PeerUser)
206 |                 else None
    |
info: Function defined here
   --> pyrogram/types/user_and_chats/chat.py:718:9
    |
717 |     @staticmethod
718 |     def _parse_chat(
    |         ^^^^^^^^^^^
719 |         client,
720 |         chat: raw.types.Chat | raw.types.User | raw.types.Channel,
    |         --------------------------------------------------------- Parameter declared here
721 |     ) -> Chat:
722 |         if isinstance(chat, raw.types.Chat | raw.types.ChatForbidden):
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
   --> pyrogram/types/user_and_chats/chat_member.py:226:16
    |
224 |                 client=client,
225 |             )
226 |         return None
    |                ^^^^ expected `ChatMember`, found `None`
    |
   ::: pyrogram/types/user_and_chats/chat_member.py:102:10
    |
100 |         users: dict[int, raw.base.User],
101 |         chats: dict[int, raw.base.Chat],
102 |     ) -> ChatMember:
    |          ---------- Expected `ChatMember` because of return type
103 |         if isinstance(member, raw.types.ChatParticipant):
104 |             return ChatMember(
    |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/user_and_chats/chat_member_updated.py:93:21
   |
91 |                 return ChatMemberUpdated(
92 |                     chat=types.Chat._parse_chat(client, users[update.user_id]),
93 |                     from_user=from_user,
   |                     ^^^^^^^^^^^^^^^^^^^ Expected `User`, found `User | None`
94 |                     date=utils.timestamp_to_datetime(update.date),
95 |                     old_chat_member=_chat_member_two,
   |
info: Element `None` of this union is not assignable to `User`
info: Method defined here
  --> pyrogram/types/user_and_chats/chat_member_updated.py:43:9
   |
41 |     """
42 |
43 |     def __init__(
   |         ^^^^^^^^
44 |         self,
45 |         *,
46 |         client: pyrogram.Client  | None = None,
47 |         chat: types.Chat,
48 |         from_user: types.User,
   |         --------------------- Parameter declared here
49 |         date: datetime,
50 |         old_chat_member: types.ChatMember,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/user_and_chats/chat_member_updated.py:94:21
   |
92 |                     chat=types.Chat._parse_chat(client, users[update.user_id]),
93 |                     from_user=from_user,
94 |                     date=utils.timestamp_to_datetime(update.date),
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `datetime`, found `datetime | None`
95 |                     old_chat_member=_chat_member_two,
96 |                     new_chat_member=_chat_member_one,
   |
info: Element `None` of this union is not assignable to `datetime`
info: Method defined here
  --> pyrogram/types/user_and_chats/chat_member_updated.py:43:9
   |
41 |     """
42 |
43 |     def __init__(
   |         ^^^^^^^^
44 |         self,
45 |         *,
   |
  ::: pyrogram/types/user_and_chats/chat_member_updated.py:49:9
   |
47 |         chat: types.Chat,
48 |         from_user: types.User,
49 |         date: datetime,
   |         -------------- Parameter declared here
50 |         old_chat_member: types.ChatMember,
51 |         new_chat_member: types.ChatMember,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/user_and_chats/chat_member_updated.py:101:17
    |
 99 |             return ChatMemberUpdated(
100 |                 chat=types.Chat._parse_chat(client, users[update.user_id]),
101 |                 from_user=from_user,
    |                 ^^^^^^^^^^^^^^^^^^^ Expected `User`, found `User | None`
102 |                 date=utils.timestamp_to_datetime(update.date),
103 |                 old_chat_member=_chat_member_one,
    |
info: Element `None` of this union is not assignable to `User`
info: Method defined here
  --> pyrogram/types/user_and_chats/chat_member_updated.py:43:9
   |
41 |     """
42 |
43 |     def __init__(
   |         ^^^^^^^^
44 |         self,
45 |         *,
46 |         client: pyrogram.Client  | None = None,
47 |         chat: types.Chat,
48 |         from_user: types.User,
   |         --------------------- Parameter declared here
49 |         date: datetime,
50 |         old_chat_member: types.ChatMember,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/user_and_chats/chat_member_updated.py:102:17
    |
100 |                 chat=types.Chat._parse_chat(client, users[update.user_id]),
101 |                 from_user=from_user,
102 |                 date=utils.timestamp_to_datetime(update.date),
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `datetime`, found `datetime | None`
103 |                 old_chat_member=_chat_member_one,
104 |                 new_chat_member=_chat_member_two,
    |
info: Element `None` of this union is not assignable to `datetime`
info: Method defined here
  --> pyrogram/types/user_and_chats/chat_member_updated.py:43:9
   |
41 |     """
42 |
43 |     def __init__(
   |         ^^^^^^^^
44 |         self,
45 |         *,
   |
  ::: pyrogram/types/user_and_chats/chat_member_updated.py:49:9
   |
47 |         chat: types.Chat,
48 |         from_user: types.User,
49 |         date: datetime,
   |         -------------- Parameter declared here
50 |         old_chat_member: types.ChatMember,
51 |         new_chat_member: types.ChatMember,
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Attribute `channel_id` is not defined on `UpdateChatParticipant & ~UpdateBotStopped` in union `(UpdateChatParticipant & ~UpdateBotStopped) | (UpdateChannelParticipant & ~UpdateBotStopped)`
   --> pyrogram/types/user_and_chats/chat_member_updated.py:108:55
    |
106 |             )
107 |
108 |         chat_id = getattr(update, "chat_id", None) or update.channel_id
    |                                                       ^^^^^^^^^^^^^^^^^
109 |
110 |         old_chat_member = None
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_member_updated.py:119:17
    |
117 |                 client,
118 |                 update.prev_participant,
119 |                 users,
    |                 ^^^^^ Expected `dict[int, pyrogram.raw.base.user.User]`, found `dict[int, pyrogram.raw.types.user.User]`
120 |                 chats,
121 |             )
    |
info: Function defined here
   --> pyrogram/types/user_and_chats/chat_member.py:97:9
    |
 96 |     @staticmethod
 97 |     def _parse(
    |         ^^^^^^
 98 |         client: pyrogram.Client,
 99 |         member: raw.base.ChatParticipant | raw.base.ChannelParticipant,
100 |         users: dict[int, raw.base.User],
    |         ------------------------------- Parameter declared here
101 |         chats: dict[int, raw.base.Chat],
102 |     ) -> ChatMember:
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_member_updated.py:120:17
    |
118 |                 update.prev_participant,
119 |                 users,
120 |                 chats,
    |                 ^^^^^ Expected `dict[int, pyrogram.raw.base.chat.Chat]`, found `dict[int, pyrogram.raw.types.chat.Chat]`
121 |             )
    |
info: Function defined here
   --> pyrogram/types/user_and_chats/chat_member.py:97:9
    |
 96 |     @staticmethod
 97 |     def _parse(
    |         ^^^^^^
 98 |         client: pyrogram.Client,
 99 |         member: raw.base.ChatParticipant | raw.base.ChannelParticipant,
100 |         users: dict[int, raw.base.User],
101 |         chats: dict[int, raw.base.Chat],
    |         ------------------------------- Parameter declared here
102 |     ) -> ChatMember:
103 |         if isinstance(member, raw.types.ChatParticipant):
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_member_updated.py:127:17
    |
125 |                 client,
126 |                 update.new_participant,
127 |                 users,
    |                 ^^^^^ Expected `dict[int, pyrogram.raw.base.user.User]`, found `dict[int, pyrogram.raw.types.user.User]`
128 |                 chats,
129 |             )
    |
info: Function defined here
   --> pyrogram/types/user_and_chats/chat_member.py:97:9
    |
 96 |     @staticmethod
 97 |     def _parse(
    |         ^^^^^^
 98 |         client: pyrogram.Client,
 99 |         member: raw.base.ChatParticipant | raw.base.ChannelParticipant,
100 |         users: dict[int, raw.base.User],
    |         ------------------------------- Parameter declared here
101 |         chats: dict[int, raw.base.Chat],
102 |     ) -> ChatMember:
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
   --> pyrogram/types/user_and_chats/chat_member_updated.py:128:17
    |
126 |                 update.new_participant,
127 |                 users,
128 |                 chats,
    |                 ^^^^^ Expected `dict[int, pyrogram.raw.base.chat.Chat]`, found `dict[int, pyrogram.raw.types.chat.Chat]`
129 |             )
    |
info: Function defined here
   --> pyrogram/types/user_and_chats/chat_member.py:97:9
    |
 96 |     @staticmethod
 97 |     def _parse(
    |         ^^^^^^
 98 |         client: pyrogram.Client,
 99 |         member: raw.base.ChatParticipant | raw.base.ChannelParticipant,
100 |         users: dict[int, raw.base.User],
101 |         chats: dict[int, raw.base.Chat],
    |         ------------------------------- Parameter declared here
102 |     ) -> ChatMember:
103 |         if isinstance(member, raw.types.ChatParticipant):
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/user_and_chats/chat_member_updated.py:138:13
    |
136 |         return ChatMemberUpdated(
137 |             chat=types.Chat._parse_chat(client, chats[chat_id]),
138 |             from_user=types.User._parse(client, users[update.actor_id]),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `User`, found `User | None`
139 |             date=utils.timestamp_to_datetime(update.date),
140 |             old_chat_member=old_chat_member,
    |
info: Element `None` of this union is not assignable to `User`
info: Method defined here
  --> pyrogram/types/user_and_chats/chat_member_updated.py:43:9
   |
41 |     """
42 |
43 |     def __init__(
   |         ^^^^^^^^
44 |         self,
45 |         *,
46 |         client: pyrogram.Client  | None = None,
47 |         chat: types.Chat,
48 |         from_user: types.User,
   |         --------------------- Parameter declared here
49 |         date: datetime,
50 |         old_chat_member: types.ChatMember,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/user_and_chats/chat_member_updated.py:139:13
    |
137 |             chat=types.Chat._parse_chat(client, chats[chat_id]),
138 |             from_user=types.User._parse(client, users[update.actor_id]),
139 |             date=utils.timestamp_to_datetime(update.date),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `datetime`, found `datetime | None`
140 |             old_chat_member=old_chat_member,
141 |             new_chat_member=new_chat_member,
    |
info: Element `None` of this union is not assignable to `datetime`
info: Method defined here
  --> pyrogram/types/user_and_chats/chat_member_updated.py:43:9
   |
41 |     """
42 |
43 |     def __init__(
   |         ^^^^^^^^
44 |         self,
45 |         *,
   |
  ::: pyrogram/types/user_and_chats/chat_member_updated.py:49:9
   |
47 |         chat: types.Chat,
48 |         from_user: types.User,
49 |         date: datetime,
   |         -------------- Parameter declared here
50 |         old_chat_member: types.ChatMember,
51 |         new_chat_member: types.ChatMember,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/user_and_chats/chat_member_updated.py:140:13
    |
138 |             from_user=types.User._parse(client, users[update.actor_id]),
139 |             date=utils.timestamp_to_datetime(update.date),
140 |             old_chat_member=old_chat_member,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `ChatMember`, found `None | ChatMember`
141 |             new_chat_member=new_chat_member,
142 |             invite_link=invite_link,
    |
info: Element `None` of this union is not assignable to `ChatMember`
info: Method defined here
  --> pyrogram/types/user_and_chats/chat_member_updated.py:43:9
   |
41 |     """
42 |
43 |     def __init__(
   |         ^^^^^^^^
44 |         self,
45 |         *,
   |
  ::: pyrogram/types/user_and_chats/chat_member_updated.py:50:9
   |
48 |         from_user: types.User,
49 |         date: datetime,
50 |         old_chat_member: types.ChatMember,
   |         --------------------------------- Parameter declared here
51 |         new_chat_member: types.ChatMember,
52 |         invite_link: types.ChatInviteLink  | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/user_and_chats/chat_member_updated.py:141:13
    |
139 |             date=utils.timestamp_to_datetime(update.date),
140 |             old_chat_member=old_chat_member,
141 |             new_chat_member=new_chat_member,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `ChatMember`, found `None | ChatMember`
142 |             invite_link=invite_link,
143 |             via_join_request=via_join_request,
    |
info: Element `None` of this union is not assignable to `ChatMember`
info: Method defined here
  --> pyrogram/types/user_and_chats/chat_member_updated.py:43:9
   |
41 |     """
42 |
43 |     def __init__(
   |         ^^^^^^^^
44 |         self,
45 |         *,
   |
  ::: pyrogram/types/user_and_chats/chat_member_updated.py:51:9
   |
49 |         date: datetime,
50 |         old_chat_member: types.ChatMember,
51 |         new_chat_member: types.ChatMember,
   |         --------------------------------- Parameter declared here
52 |         invite_link: types.ChatInviteLink  | None = None,
53 |         via_join_request: bool | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-return-type]: Return type does not match returned value
   --> pyrogram/types/user_and_chats/chat_permissions.py:220:16
    |
218 |                 can_send_voices=not denied_permissions.send_voices,
219 |             )
220 |         return None
    |                ^^^^ expected `ChatPermissions`, found `None`
    |
   ::: pyrogram/types/user_and_chats/chat_permissions.py:151:10
    |
149 |     def _parse(
150 |         denied_permissions: raw.base.ChatBannedRights,
151 |     ) -> ChatPermissions:
    |          --------------- Expected `ChatPermissions` because of return type
152 |         if isinstance(denied_permissions, raw.types.ChatBannedRights):
153 |             all_permissions = None
    |
info: rule `invalid-return-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/user_and_chats/chat_photo.py:112:13
    |
110 |                 media_id=chat_photo.photo_id,
111 |             ).encode(),
112 |             has_animation=chat_photo.has_video,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `bool`, found `Unknown | bool | None`
113 |             is_personal=getattr(chat_photo, "personal", False),
114 |             minithumbnail=types.StrippedThumbnail(data=chat_photo.stripped_thumb)
    |
info: Element `None` of this union is not assignable to `bool`
info: Method defined here
  --> pyrogram/types/user_and_chats/chat_photo.py:46:9
   |
44 |     """
45 |
46 |     def __init__(
   |         ^^^^^^^^
47 |         self,
48 |         *,
   |
  ::: pyrogram/types/user_and_chats/chat_photo.py:54:9
   |
52 |         big_file_id: str,
53 |         big_photo_unique_id: str,
54 |         has_animation: bool,
   |         ------------------- Parameter declared here
55 |         is_personal: bool,
56 |         minithumbnail: types.StrippedThumbnail  | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/types/user_and_chats/chat_preview.py:58:46
   |
56 |             ),
57 |             members_count=chat_invite.participants_count,
58 |             photo=types.Photo._parse(client, chat_invite.photo),
   |                                              ^^^^^^^^^^^^^^^^^ Expected `pyrogram.raw.types.photo.Photo`, found `Unknown | pyrogram.raw.base.photo.Photo`
59 |             members=[
60 |                 types.User._parse(client, user) for user in chat_invite.participants
   |
info: Element `Photo` of this union is not assignable to `pyrogram.raw.types.photo.Photo`
info: Function defined here
  --> pyrogram/types/messages_and_media/photo.py:75:9
   |
74 |     @staticmethod
75 |     def _parse(
   |         ^^^^^^
76 |         client,
77 |         photo: raw.types.Photo,
   |         ---------------------- Parameter declared here
78 |         ttl_seconds: int | None = None,
79 |     ) -> Photo:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/user_and_chats/chat_preview.py:59:13
   |
57 |               members_count=chat_invite.participants_count,
58 |               photo=types.Photo._parse(client, chat_invite.photo),
59 | /             members=[
60 | |                 types.User._parse(client, user) for user in chat_invite.participants
61 | |             ]
62 | |             or None,
   | |___________________^ Expected `list[User] | None`, found `(list[Unknown | User | None] & ~AlwaysFalsy) | None`
63 |               client=client,
64 |           )
   |
info: Element `list[Unknown | User | None] & ~AlwaysFalsy` of this union is not assignable to `list[User] | None`
info: Method defined here
  --> pyrogram/types/user_and_chats/chat_preview.py:28:9
   |
26 |     """
27 |
28 |     def __init__(
   |         ^^^^^^^^
29 |         self,
30 |         *,
   |
  ::: pyrogram/types/user_and_chats/chat_preview.py:36:9
   |
34 |         members_count: int,
35 |         photo: types.Photo  | None = None,
36 |         members: list[types.User] | None = None,
   |         --------------------------------------- Parameter declared here
37 |     ) -> None:
38 |         super().__init__(client)
   |
info: rule `invalid-argument-type` is enabled by default

error[not-iterable]: Object of type `Unknown | list[User] | None` may not be iterable
  --> pyrogram/types/user_and_chats/chat_preview.py:60:61
   |
58 |             photo=types.Photo._parse(client, chat_invite.photo),
59 |             members=[
60 |                 types.User._parse(client, user) for user in chat_invite.participants
   |                                                             ^^^^^^^^^^^^^^^^^^^^^^^^
61 |             ]
62 |             or None,
   |
info: It may not have an `__iter__` method or a `__getitem__` method
info: rule `not-iterable` is enabled by default

error[unresolved-attribute]: Object of type `ChatAdminRights` has no attribute `other`
   --> pyrogram/types/user_and_chats/chat_privileges.py:120:29
    |
118 |     ) -> ChatPrivileges:
119 |         return ChatPrivileges(
120 |             can_manage_chat=admin_rights.other,
    |                             ^^^^^^^^^^^^^^^^^^
121 |             can_delete_messages=admin_rights.delete_messages,
122 |             can_manage_video_chats=admin_rights.manage_call,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ChatAdminRights` has no attribute `delete_messages`
   --> pyrogram/types/user_and_chats/chat_privileges.py:121:33
    |
119 |         return ChatPrivileges(
120 |             can_manage_chat=admin_rights.other,
121 |             can_delete_messages=admin_rights.delete_messages,
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
122 |             can_manage_video_chats=admin_rights.manage_call,
123 |             can_restrict_members=admin_rights.ban_users,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ChatAdminRights` has no attribute `manage_call`
   --> pyrogram/types/user_and_chats/chat_privileges.py:122:36
    |
120 |             can_manage_chat=admin_rights.other,
121 |             can_delete_messages=admin_rights.delete_messages,
122 |             can_manage_video_chats=admin_rights.manage_call,
    |                                    ^^^^^^^^^^^^^^^^^^^^^^^^
123 |             can_restrict_members=admin_rights.ban_users,
124 |             can_promote_members=admin_rights.add_admins,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ChatAdminRights` has no attribute `ban_users`
   --> pyrogram/types/user_and_chats/chat_privileges.py:123:34
    |
121 |             can_delete_messages=admin_rights.delete_messages,
122 |             can_manage_video_chats=admin_rights.manage_call,
123 |             can_restrict_members=admin_rights.ban_users,
    |                                  ^^^^^^^^^^^^^^^^^^^^^^
124 |             can_promote_members=admin_rights.add_admins,
125 |             can_change_info=admin_rights.change_info,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ChatAdminRights` has no attribute `add_admins`
   --> pyrogram/types/user_and_chats/chat_privileges.py:124:33
    |
122 |             can_manage_video_chats=admin_rights.manage_call,
123 |             can_restrict_members=admin_rights.ban_users,
124 |             can_promote_members=admin_rights.add_admins,
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^
125 |             can_change_info=admin_rights.change_info,
126 |             can_post_messages=admin_rights.post_messages,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ChatAdminRights` has no attribute `change_info`
   --> pyrogram/types/user_and_chats/chat_privileges.py:125:29
    |
123 |             can_restrict_members=admin_rights.ban_users,
124 |             can_promote_members=admin_rights.add_admins,
125 |             can_change_info=admin_rights.change_info,
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^
126 |             can_post_messages=admin_rights.post_messages,
127 |             can_edit_messages=admin_rights.edit_messages,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ChatAdminRights` has no attribute `post_messages`
   --> pyrogram/types/user_and_chats/chat_privileges.py:126:31
    |
124 |             can_promote_members=admin_rights.add_admins,
125 |             can_change_info=admin_rights.change_info,
126 |             can_post_messages=admin_rights.post_messages,
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^
127 |             can_edit_messages=admin_rights.edit_messages,
128 |             can_invite_users=admin_rights.invite_users,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ChatAdminRights` has no attribute `edit_messages`
   --> pyrogram/types/user_and_chats/chat_privileges.py:127:31
    |
125 |             can_change_info=admin_rights.change_info,
126 |             can_post_messages=admin_rights.post_messages,
127 |             can_edit_messages=admin_rights.edit_messages,
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^
128 |             can_invite_users=admin_rights.invite_users,
129 |             can_pin_messages=admin_rights.pin_messages,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ChatAdminRights` has no attribute `invite_users`
   --> pyrogram/types/user_and_chats/chat_privileges.py:128:30
    |
126 |             can_post_messages=admin_rights.post_messages,
127 |             can_edit_messages=admin_rights.edit_messages,
128 |             can_invite_users=admin_rights.invite_users,
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^
129 |             can_pin_messages=admin_rights.pin_messages,
130 |             can_manage_topics=admin_rights.manage_topics,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ChatAdminRights` has no attribute `pin_messages`
   --> pyrogram/types/user_and_chats/chat_privileges.py:129:30
    |
127 |             can_edit_messages=admin_rights.edit_messages,
128 |             can_invite_users=admin_rights.invite_users,
129 |             can_pin_messages=admin_rights.pin_messages,
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^
130 |             can_manage_topics=admin_rights.manage_topics,
131 |             can_post_stories=admin_rights.post_stories,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ChatAdminRights` has no attribute `manage_topics`
   --> pyrogram/types/user_and_chats/chat_privileges.py:130:31
    |
128 |             can_invite_users=admin_rights.invite_users,
129 |             can_pin_messages=admin_rights.pin_messages,
130 |             can_manage_topics=admin_rights.manage_topics,
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^
131 |             can_post_stories=admin_rights.post_stories,
132 |             can_edit_stories=admin_rights.edit_stories,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ChatAdminRights` has no attribute `post_stories`
   --> pyrogram/types/user_and_chats/chat_privileges.py:131:30
    |
129 |             can_pin_messages=admin_rights.pin_messages,
130 |             can_manage_topics=admin_rights.manage_topics,
131 |             can_post_stories=admin_rights.post_stories,
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^
132 |             can_edit_stories=admin_rights.edit_stories,
133 |             can_delete_stories=admin_rights.delete_stories,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ChatAdminRights` has no attribute `edit_stories`
   --> pyrogram/types/user_and_chats/chat_privileges.py:132:30
    |
130 |             can_manage_topics=admin_rights.manage_topics,
131 |             can_post_stories=admin_rights.post_stories,
132 |             can_edit_stories=admin_rights.edit_stories,
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^
133 |             can_delete_stories=admin_rights.delete_stories,
134 |             can_manage_direct_messages=admin_rights.manage_direct_messages,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ChatAdminRights` has no attribute `delete_stories`
   --> pyrogram/types/user_and_chats/chat_privileges.py:133:32
    |
131 |             can_post_stories=admin_rights.post_stories,
132 |             can_edit_stories=admin_rights.edit_stories,
133 |             can_delete_stories=admin_rights.delete_stories,
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
134 |             can_manage_direct_messages=admin_rights.manage_direct_messages,
135 |             is_anonymous=admin_rights.anonymous,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ChatAdminRights` has no attribute `manage_direct_messages`
   --> pyrogram/types/user_and_chats/chat_privileges.py:134:40
    |
132 |             can_edit_stories=admin_rights.edit_stories,
133 |             can_delete_stories=admin_rights.delete_stories,
134 |             can_manage_direct_messages=admin_rights.manage_direct_messages,
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
135 |             is_anonymous=admin_rights.anonymous,
136 |         )
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `ChatAdminRights` has no attribute `anonymous`
   --> pyrogram/types/user_and_chats/chat_privileges.py:135:26
    |
133 |             can_delete_stories=admin_rights.delete_stories,
134 |             can_manage_direct_messages=admin_rights.manage_direct_messages,
135 |             is_anonymous=admin_rights.anonymous,
    |                          ^^^^^^^^^^^^^^^^^^^^^^
136 |         )
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/user_and_chats/chat_reactions.py:57:17
   |
55 |               return ChatReactions(
56 |                   client=client,
57 | /                 reactions=[
58 | |                     types.ReactionType._parse(client, reaction)
59 | |                     for reaction in chat_reactions.reactions
60 | |                 ],
   | |_________________^ Expected `list[Reaction] | None`, found `list[Reaction | ReactionType | None]`
61 |                   max_reaction_count=reactions_limit,
62 |               )
   |
info: Method defined here
  --> pyrogram/types/user_and_chats/chat_reactions.py:24:9
   |
22 |     """
23 |
24 |     def __init__(
   |         ^^^^^^^^
25 |         self,
26 |         *,
   |
  ::: pyrogram/types/user_and_chats/chat_reactions.py:30:9
   |
28 |         all_are_enabled: bool | None = None,
29 |         allow_custom_emoji: bool | None = None,
30 |         reactions: list[types.Reaction] | None = None,
   |         --------------------------------------------- Parameter declared here
31 |         max_reaction_count: int = 11,
32 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/user_and_chats/dialog.py:89:13
   |
87 |             unread_mentions_count=dialog.unread_mentions_count,
88 |             unread_reactions_count=dialog.unread_reactions_count,
89 |             unread_mark=dialog.unread_mark,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `bool`, found `Unknown | bool | None`
90 |             is_pinned=dialog.pinned,
91 |             chat_list=getattr(dialog, "folder_id", None),
   |
info: Element `None` of this union is not assignable to `bool`
info: Method defined here
  --> pyrogram/types/user_and_chats/dialog.py:49:9
   |
47 |     """
48 |
49 |     def __init__(
   |         ^^^^^^^^
50 |         self,
51 |         *,
   |
  ::: pyrogram/types/user_and_chats/dialog.py:58:9
   |
56 |         unread_mentions_count: int,
57 |         unread_reactions_count: int,
58 |         unread_mark: bool,
   |         ----------------- Parameter declared here
59 |         is_pinned: bool,
60 |         chat_list: int,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/user_and_chats/dialog.py:90:13
   |
88 |             unread_reactions_count=dialog.unread_reactions_count,
89 |             unread_mark=dialog.unread_mark,
90 |             is_pinned=dialog.pinned,
   |             ^^^^^^^^^^^^^^^^^^^^^^^ Expected `bool`, found `Unknown | bool | None`
91 |             chat_list=getattr(dialog, "folder_id", None),
92 |             message_auto_delete_time=getattr(dialog, "ttl_period", 0),
   |
info: Element `None` of this union is not assignable to `bool`
info: Method defined here
  --> pyrogram/types/user_and_chats/dialog.py:49:9
   |
47 |     """
48 |
49 |     def __init__(
   |         ^^^^^^^^
50 |         self,
51 |         *,
   |
  ::: pyrogram/types/user_and_chats/dialog.py:59:9
   |
57 |         unread_reactions_count: int,
58 |         unread_mark: bool,
59 |         is_pinned: bool,
   |         --------------- Parameter declared here
60 |         chat_list: int,
61 |         message_auto_delete_time: int,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/user_and_chats/dialog.py:91:13
   |
89 |             unread_mark=dialog.unread_mark,
90 |             is_pinned=dialog.pinned,
91 |             chat_list=getattr(dialog, "folder_id", None),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Any | None`
92 |             message_auto_delete_time=getattr(dialog, "ttl_period", 0),
93 |             view_as_topics=not dialog.view_forum_as_messages,
   |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/types/user_and_chats/dialog.py:49:9
   |
47 |     """
48 |
49 |     def __init__(
   |         ^^^^^^^^
50 |         self,
51 |         *,
   |
  ::: pyrogram/types/user_and_chats/dialog.py:60:9
   |
58 |         unread_mark: bool,
59 |         is_pinned: bool,
60 |         chat_list: int,
   |         -------------- Parameter declared here
61 |         message_auto_delete_time: int,
62 |         view_as_topics: bool,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse` is incorrect
  --> pyrogram/types/user_and_chats/dialog.py:95:53
   |
93 |             view_as_topics=not dialog.view_forum_as_messages,
94 |             client=client,
95 |             draft=types.DraftMessage._parse(client, dialog.draft, users, chats),
   |                                                     ^^^^^^^^^^^^ Expected `pyrogram.raw.types.draft_message.DraftMessage | DraftMessageEmpty`, found `Unknown | pyrogram.raw.base.draft_message.DraftMessage`
96 |             _raw=dialog,
97 |         )
   |
info: Element `DraftMessage` of this union is not assignable to `pyrogram.raw.types.draft_message.DraftMessage | DraftMessageEmpty`
info: Function defined here
   --> pyrogram/types/messages_and_media/draft_message.py:102:9
    |
101 |     @staticmethod
102 |     def _parse(
    |         ^^^^^^
103 |         client: pyrogram.Client,
104 |         raw_draft_message: raw.types.DraftMessage | raw.types.DraftMessageEmpty,
    |         ----------------------------------------------------------------------- Parameter declared here
105 |         users: dict,
106 |     ) -> DraftMessage:
    |
info: rule `invalid-argument-type` is enabled by default

error[too-many-positional-arguments]: Too many positional arguments to function `_parse`: expected 3, got 4
  --> pyrogram/types/user_and_chats/dialog.py:95:74
   |
93 |             view_as_topics=not dialog.view_forum_as_messages,
94 |             client=client,
95 |             draft=types.DraftMessage._parse(client, dialog.draft, users, chats),
   |                                                                          ^^^^^
96 |             _raw=dialog,
97 |         )
   |
info: Function signature here
   --> pyrogram/types/messages_and_media/draft_message.py:102:9
    |
101 |       @staticmethod
102 |       def _parse(
    |  _________^
103 | |         client: pyrogram.Client,
104 | |         raw_draft_message: raw.types.DraftMessage | raw.types.DraftMessageEmpty,
105 | |         users: dict,
106 | |     ) -> DraftMessage:
    | |_____________________^
107 |           if not raw_draft_message:
108 |               return None
    |
info: rule `too-many-positional-arguments` is enabled by default

error[unresolved-attribute]: Module `pyrogram.raw.types` has no member `EmojiStatusUntil`
  --> pyrogram/types/user_and_chats/emoji_status.py:63:20
   |
61 |     def write(self):
62 |         if self.until_date:
63 |             return raw.types.EmojiStatusUntil(
   |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^
64 |                 document_id=self.custom_emoji_id,
65 |                 until=utils.datetime_to_timestamp(self.until_date),
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/user_and_chats/folder.py:127:13
    |
125 |         return Folder(
126 |             id=folder.id,
127 |             title=folder.title,
    |             ^^^^^^^^^^^^^^^^^^ Expected `str`, found `Unknown | TextWithEntities`
128 |             included_chats=types.List(included_chats) or None,
129 |             excluded_chats=types.List(excluded_chats) or None,
    |
info: Element `TextWithEntities` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/user_and_chats/folder.py:60:9
   |
58 |     """
59 |
60 |     def __init__(
   |         ^^^^^^^^
61 |         self,
62 |         *,
63 |         client: pyrogram.Client  | None = None,
64 |         id: int,
65 |         title: str,
   |         ---------- Parameter declared here
66 |         included_chats: list[types.Chat] | None = None,
67 |         excluded_chats: list[types.Chat] | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `get_peer_id` is incorrect
   --> pyrogram/types/user_and_chats/folder.py:440:37
    |
438 |         """
439 |         peer = await self._client.resolve_peer(chat_id)
440 |         peer_id = utils.get_peer_id(peer)
    |                                     ^^^^ Expected `Peer`, found `InputPeer | InputUser | InputChannel`
441 |
442 |         return await self.update(
    |
info: Function defined here
   --> pyrogram/utils.py:250:5
    |
250 | def get_peer_id(peer: raw.base.Peer) -> int:
    |     ^^^^^^^^^^^ ------------------- Parameter declared here
251 |     """Get the non-raw peer id from a Peer object"""
252 |     if isinstance(peer, raw.types.PeerUser):
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-type-form]: Module `pyrogram.raw.types.forum_topic` is not valid in a type expression
   --> pyrogram/types/user_and_chats/forum_topic.py:102:29
    |
101 |     @staticmethod
102 |     def _parse(forum_topic: raw.types.forum_topic) -> ForumTopic:
    |                             ^^^^^^^^^^^^^^^^^^^^^
103 |         from_id = forum_topic.from_id
104 |         if isinstance(from_id, raw.types.PeerChannel):
    |
info: rule `invalid-type-form` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/user_and_chats/forum_topic.py:110:13
    |
109 |         return ForumTopic(
110 |             id=getattr(forum_topic, "id", None),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Any | None`
111 |             date=getattr(forum_topic, "date", None),
112 |             title=getattr(forum_topic, "title", None),
    |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/types/user_and_chats/forum_topic.py:62:9
   |
60 |     """
61 |
62 |     def __init__(
   |         ^^^^^^^^
63 |         self,
64 |         *,
65 |         id: int,
   |         ------- Parameter declared here
66 |         date: int,
67 |         title: str,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/user_and_chats/forum_topic.py:111:13
    |
109 |         return ForumTopic(
110 |             id=getattr(forum_topic, "id", None),
111 |             date=getattr(forum_topic, "date", None),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Any | None`
112 |             title=getattr(forum_topic, "title", None),
113 |             icon_color=getattr(forum_topic, "icon_color", None),
    |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/types/user_and_chats/forum_topic.py:62:9
   |
60 |     """
61 |
62 |     def __init__(
   |         ^^^^^^^^
63 |         self,
64 |         *,
65 |         id: int,
66 |         date: int,
   |         --------- Parameter declared here
67 |         title: str,
68 |         icon_color: int,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/user_and_chats/forum_topic.py:112:13
    |
110 |             id=getattr(forum_topic, "id", None),
111 |             date=getattr(forum_topic, "date", None),
112 |             title=getattr(forum_topic, "title", None),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `str`, found `Any | None`
113 |             icon_color=getattr(forum_topic, "icon_color", None),
114 |             top_message=getattr(forum_topic, "top_message", None),
    |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/user_and_chats/forum_topic.py:62:9
   |
60 |     """
61 |
62 |     def __init__(
   |         ^^^^^^^^
63 |         self,
64 |         *,
65 |         id: int,
66 |         date: int,
67 |         title: str,
   |         ---------- Parameter declared here
68 |         icon_color: int,
69 |         top_message: int,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/user_and_chats/forum_topic.py:113:13
    |
111 |             date=getattr(forum_topic, "date", None),
112 |             title=getattr(forum_topic, "title", None),
113 |             icon_color=getattr(forum_topic, "icon_color", None),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Any | None`
114 |             top_message=getattr(forum_topic, "top_message", None),
115 |             read_inbox_max_id=getattr(forum_topic, "read_inbox_max_id", None),
    |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/types/user_and_chats/forum_topic.py:62:9
   |
60 |     """
61 |
62 |     def __init__(
   |         ^^^^^^^^
63 |         self,
64 |         *,
   |
  ::: pyrogram/types/user_and_chats/forum_topic.py:68:9
   |
66 |         date: int,
67 |         title: str,
68 |         icon_color: int,
   |         --------------- Parameter declared here
69 |         top_message: int,
70 |         read_inbox_max_id: int,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/user_and_chats/forum_topic.py:114:13
    |
112 |             title=getattr(forum_topic, "title", None),
113 |             icon_color=getattr(forum_topic, "icon_color", None),
114 |             top_message=getattr(forum_topic, "top_message", None),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Any | None`
115 |             read_inbox_max_id=getattr(forum_topic, "read_inbox_max_id", None),
116 |             read_outbox_max_id=getattr(forum_topic, "read_outbox_max_id", None),
    |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/types/user_and_chats/forum_topic.py:62:9
   |
60 |     """
61 |
62 |     def __init__(
   |         ^^^^^^^^
63 |         self,
64 |         *,
   |
  ::: pyrogram/types/user_and_chats/forum_topic.py:69:9
   |
67 |         title: str,
68 |         icon_color: int,
69 |         top_message: int,
   |         ---------------- Parameter declared here
70 |         read_inbox_max_id: int,
71 |         read_outbox_max_id: int,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/user_and_chats/forum_topic.py:115:13
    |
113 |             icon_color=getattr(forum_topic, "icon_color", None),
114 |             top_message=getattr(forum_topic, "top_message", None),
115 |             read_inbox_max_id=getattr(forum_topic, "read_inbox_max_id", None),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Any | None`
116 |             read_outbox_max_id=getattr(forum_topic, "read_outbox_max_id", None),
117 |             unread_count=getattr(forum_topic, "unread_count", None),
    |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/types/user_and_chats/forum_topic.py:62:9
   |
60 |     """
61 |
62 |     def __init__(
   |         ^^^^^^^^
63 |         self,
64 |         *,
   |
  ::: pyrogram/types/user_and_chats/forum_topic.py:70:9
   |
68 |         icon_color: int,
69 |         top_message: int,
70 |         read_inbox_max_id: int,
   |         ---------------------- Parameter declared here
71 |         read_outbox_max_id: int,
72 |         unread_count: int,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/user_and_chats/forum_topic.py:116:13
    |
114 |             top_message=getattr(forum_topic, "top_message", None),
115 |             read_inbox_max_id=getattr(forum_topic, "read_inbox_max_id", None),
116 |             read_outbox_max_id=getattr(forum_topic, "read_outbox_max_id", None),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Any | None`
117 |             unread_count=getattr(forum_topic, "unread_count", None),
118 |             unread_mentions_count=getattr(
    |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/types/user_and_chats/forum_topic.py:62:9
   |
60 |     """
61 |
62 |     def __init__(
   |         ^^^^^^^^
63 |         self,
64 |         *,
   |
  ::: pyrogram/types/user_and_chats/forum_topic.py:71:9
   |
69 |         top_message: int,
70 |         read_inbox_max_id: int,
71 |         read_outbox_max_id: int,
   |         ----------------------- Parameter declared here
72 |         unread_count: int,
73 |         unread_mentions_count: int,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/user_and_chats/forum_topic.py:117:13
    |
115 |             read_inbox_max_id=getattr(forum_topic, "read_inbox_max_id", None),
116 |             read_outbox_max_id=getattr(forum_topic, "read_outbox_max_id", None),
117 |             unread_count=getattr(forum_topic, "unread_count", None),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Any | None`
118 |             unread_mentions_count=getattr(
119 |                 forum_topic,
    |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/types/user_and_chats/forum_topic.py:62:9
   |
60 |     """
61 |
62 |     def __init__(
   |         ^^^^^^^^
63 |         self,
64 |         *,
   |
  ::: pyrogram/types/user_and_chats/forum_topic.py:72:9
   |
70 |         read_inbox_max_id: int,
71 |         read_outbox_max_id: int,
72 |         unread_count: int,
   |         ----------------- Parameter declared here
73 |         unread_mentions_count: int,
74 |         unread_reactions_count: int,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/user_and_chats/forum_topic.py:118:13
    |
116 |               read_outbox_max_id=getattr(forum_topic, "read_outbox_max_id", None),
117 |               unread_count=getattr(forum_topic, "unread_count", None),
118 | /             unread_mentions_count=getattr(
119 | |                 forum_topic,
120 | |                 "unread_mentions_count",
121 | |                 None,
122 | |             ),
    | |_____________^ Expected `int`, found `Any | None`
123 |               unread_reactions_count=getattr(
124 |                   forum_topic,
    |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/types/user_and_chats/forum_topic.py:62:9
   |
60 |     """
61 |
62 |     def __init__(
   |         ^^^^^^^^
63 |         self,
64 |         *,
   |
  ::: pyrogram/types/user_and_chats/forum_topic.py:73:9
   |
71 |         read_outbox_max_id: int,
72 |         unread_count: int,
73 |         unread_mentions_count: int,
   |         -------------------------- Parameter declared here
74 |         unread_reactions_count: int,
75 |         from_id: types.PeerChannel | types.PeerUser,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/user_and_chats/forum_topic.py:123:13
    |
121 |                   None,
122 |               ),
123 | /             unread_reactions_count=getattr(
124 | |                 forum_topic,
125 | |                 "unread_reactions_count",
126 | |                 None,
127 | |             ),
    | |_____________^ Expected `int`, found `Any | None`
128 |               from_id=peer,
129 |               my=getattr(forum_topic, "my", None),
    |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/types/user_and_chats/forum_topic.py:62:9
   |
60 |     """
61 |
62 |     def __init__(
   |         ^^^^^^^^
63 |         self,
64 |         *,
   |
  ::: pyrogram/types/user_and_chats/forum_topic.py:74:9
   |
72 |         unread_count: int,
73 |         unread_mentions_count: int,
74 |         unread_reactions_count: int,
   |         --------------------------- Parameter declared here
75 |         from_id: types.PeerChannel | types.PeerUser,
76 |         my: bool | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/user_and_chats/forum_topic_created.py:47:13
   |
45 |     def _parse(message: raw.base.Message) -> ForumTopicCreated:
46 |         return ForumTopicCreated(
47 |             id=getattr(message, "id", None),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Any | None`
48 |             title=getattr(message.action, "title", None),
49 |             icon_color=getattr(message.action, "icon_color", None),
   |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/types/user_and_chats/forum_topic_created.py:29:9
   |
27 |     """
28 |
29 |     def __init__(
   |         ^^^^^^^^
30 |         self,
31 |         *,
32 |         id: int,
   |         ------- Parameter declared here
33 |         title: str,
34 |         icon_color: int,
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/user_and_chats/forum_topic_created.py:48:13
   |
46 |         return ForumTopicCreated(
47 |             id=getattr(message, "id", None),
48 |             title=getattr(message.action, "title", None),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `str`, found `Any | None`
49 |             icon_color=getattr(message.action, "icon_color", None),
50 |             icon_emoji_id=getattr(message.action, "icon_emoji_id", None),
   |
info: Element `None` of this union is not assignable to `str`
info: Method defined here
  --> pyrogram/types/user_and_chats/forum_topic_created.py:29:9
   |
27 |     """
28 |
29 |     def __init__(
   |         ^^^^^^^^
30 |         self,
31 |         *,
32 |         id: int,
33 |         title: str,
   |         ---------- Parameter declared here
34 |         icon_color: int,
35 |         icon_emoji_id: int | None = None,
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `Message` has no attribute `action`
  --> pyrogram/types/user_and_chats/forum_topic_created.py:48:27
   |
46 |         return ForumTopicCreated(
47 |             id=getattr(message, "id", None),
48 |             title=getattr(message.action, "title", None),
   |                           ^^^^^^^^^^^^^^
49 |             icon_color=getattr(message.action, "icon_color", None),
50 |             icon_emoji_id=getattr(message.action, "icon_emoji_id", None),
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/user_and_chats/forum_topic_created.py:49:13
   |
47 |             id=getattr(message, "id", None),
48 |             title=getattr(message.action, "title", None),
49 |             icon_color=getattr(message.action, "icon_color", None),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Any | None`
50 |             icon_emoji_id=getattr(message.action, "icon_emoji_id", None),
51 |         )
   |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/types/user_and_chats/forum_topic_created.py:29:9
   |
27 |     """
28 |
29 |     def __init__(
   |         ^^^^^^^^
30 |         self,
31 |         *,
32 |         id: int,
33 |         title: str,
34 |         icon_color: int,
   |         --------------- Parameter declared here
35 |         icon_emoji_id: int | None = None,
36 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `Message` has no attribute `action`
  --> pyrogram/types/user_and_chats/forum_topic_created.py:49:32
   |
47 |             id=getattr(message, "id", None),
48 |             title=getattr(message.action, "title", None),
49 |             icon_color=getattr(message.action, "icon_color", None),
   |                                ^^^^^^^^^^^^^^
50 |             icon_emoji_id=getattr(message.action, "icon_emoji_id", None),
51 |         )
   |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `Message` has no attribute `action`
  --> pyrogram/types/user_and_chats/forum_topic_created.py:50:35
   |
48 |             title=getattr(message.action, "title", None),
49 |             icon_color=getattr(message.action, "icon_color", None),
50 |             icon_emoji_id=getattr(message.action, "icon_emoji_id", None),
   |                                   ^^^^^^^^^^^^^^
51 |         )
   |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to function `_parse_chat` is incorrect
  --> pyrogram/types/user_and_chats/found_contacts.py:42:62
   |
40 |             peer = users.get(peer_id) or chats.get(peer_id)
41 |
42 |             my_results.append(types.Chat._parse_chat(client, peer))
   |                                                              ^^^^ Expected `Chat | User | Channel`, found `Unknown | None`
43 |
44 |         for result in found.results:
   |
info: Element `None` of this union is not assignable to `Chat | User | Channel`
info: Function defined here
   --> pyrogram/types/user_and_chats/chat.py:718:9
    |
717 |     @staticmethod
718 |     def _parse_chat(
    |         ^^^^^^^^^^^
719 |         client,
720 |         chat: raw.types.Chat | raw.types.User | raw.types.Channel,
    |         --------------------------------------------------------- Parameter declared here
721 |     ) -> Chat:
722 |         if isinstance(chat, raw.types.Chat | raw.types.ChatForbidden):
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to function `_parse_chat` is incorrect
  --> pyrogram/types/user_and_chats/found_contacts.py:48:66
   |
46 |             peer = users.get(peer_id) or chats.get(peer_id)
47 |
48 |             global_results.append(types.Chat._parse_chat(client, peer))
   |                                                                  ^^^^ Expected `Chat | User | Channel`, found `Unknown | None`
49 |
50 |         return FoundContacts(
   |
info: Element `None` of this union is not assignable to `Chat | User | Channel`
info: Function defined here
   --> pyrogram/types/user_and_chats/chat.py:718:9
    |
717 |     @staticmethod
718 |     def _parse_chat(
    |         ^^^^^^^^^^^
719 |         client,
720 |         chat: raw.types.Chat | raw.types.User | raw.types.Channel,
    |         --------------------------------------------------------- Parameter declared here
721 |     ) -> Chat:
722 |         if isinstance(chat, raw.types.Chat | raw.types.ChatForbidden):
    |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/user_and_chats/found_contacts.py:51:13
   |
50 |         return FoundContacts(
51 |             my_results=types.List(my_results) or None,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `Chat | None`, found `(List & ~AlwaysFalsy) | None`
52 |             global_results=types.List(global_results) or None,
53 |             client=client,
   |
info: Element `List & ~AlwaysFalsy` of this union is not assignable to `Chat | None`
info: Method defined here
  --> pyrogram/types/user_and_chats/found_contacts.py:18:9
   |
16 |     """
17 |
18 |     def __init__(
   |         ^^^^^^^^
19 |         self,
20 |         *,
21 |         client: pyrogram.Client  | None = None,
22 |         my_results: types.Chat | None = None,
   |         ------------------------------------ Parameter declared here
23 |         global_results: types.Chat | None = None,
24 |     ) -> None:
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/user_and_chats/found_contacts.py:52:13
   |
50 |         return FoundContacts(
51 |             my_results=types.List(my_results) or None,
52 |             global_results=types.List(global_results) or None,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `Chat | None`, found `(List & ~AlwaysFalsy) | None`
53 |             client=client,
54 |         )
   |
info: Element `List & ~AlwaysFalsy` of this union is not assignable to `Chat | None`
info: Method defined here
  --> pyrogram/types/user_and_chats/found_contacts.py:18:9
   |
16 |     """
17 |
18 |     def __init__(
   |         ^^^^^^^^
19 |         self,
20 |         *,
21 |         client: pyrogram.Client  | None = None,
22 |         my_results: types.Chat | None = None,
23 |         global_results: types.Chat | None = None,
   |         ---------------------------------------- Parameter declared here
24 |     ) -> None:
25 |         super().__init__(client)
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/user_and_chats/invite_link_importer.py:41:21
   |
39 |             importers.append(
40 |                 InviteLinkImporter(
41 |                     date=utils.timestamp_to_datetime(j.date),
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `datetime`, found `datetime | None`
42 |                     user=types.User._parse(client=None, user=d[j.user_id]),
43 |                 ),
   |
info: Element `None` of this union is not assignable to `datetime`
info: Method defined here
  --> pyrogram/types/user_and_chats/invite_link_importer.py:23:9
   |
21 |     """
22 |
23 |     def __init__(self, *, date: datetime, user: types.User) -> None:
   |         ^^^^^^^^          -------------- Parameter declared here
24 |         super().__init__(None)
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/user_and_chats/invite_link_importer.py:42:21
   |
40 |                 InviteLinkImporter(
41 |                     date=utils.timestamp_to_datetime(j.date),
42 |                     user=types.User._parse(client=None, user=d[j.user_id]),
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `User`, found `User | None`
43 |                 ),
44 |             )
   |
info: Element `None` of this union is not assignable to `User`
info: Method defined here
  --> pyrogram/types/user_and_chats/invite_link_importer.py:23:9
   |
21 |     """
22 |
23 |     def __init__(self, *, date: datetime, user: types.User) -> None:
   |         ^^^^^^^^                          ---------------- Parameter declared here
24 |         super().__init__(None)
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/user_and_chats/peer_channel.py:27:28
   |
25 |     @staticmethod
26 |     def _parse(action: raw.types.PeerChannel) -> PeerChannel:
27 |         return PeerChannel(channel_id=getattr(action, "channel_id", None))
   |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Any | None`
   |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/types/user_and_chats/peer_channel.py:20:9
   |
18 |     """
19 |
20 |     def __init__(self, *, channel_id: int) -> None:
   |         ^^^^^^^^          --------------- Parameter declared here
21 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/user_and_chats/peer_user.py:27:25
   |
25 |     @staticmethod
26 |     def _parse(action: raw.types.PeerUser) -> PeerUser:
27 |         return PeerUser(user_id=getattr(action, "user_id", None))
   |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `int`, found `Any | None`
   |
info: Element `None` of this union is not assignable to `int`
info: Method defined here
  --> pyrogram/types/user_and_chats/peer_user.py:20:9
   |
18 |     """
19 |
20 |     def __init__(self, *, user_id: int) -> None:
   |         ^^^^^^^^          ------------ Parameter declared here
21 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-method-override]: Invalid override of method `format`
    --> pyrogram/types/user_and_chats/user.py:27:9
     |
  26 |     @staticmethod
  27 |     def format(url: str, text: str, style: enums.ParseMode):
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Definition is incompatible with `str.format`
  28 |         fmt = Link.MARKDOWN if style == enums.ParseMode.MARKDOWN else Link.HTML
     |
    ::: stdlib/builtins.pyi:1012:9
     |
1011 |     @overload
1012 |     def format(self, *args: object, **kwargs: object) -> str: ...
     |         ---------------------------------------------------- `str.format` defined here
1013 |     def format_map(self, mapping: _FormatMapMapping, /) -> str:
1014 |         """Return a formatted version of the string, using substitutions from mapping.
     |
info: `Link.format` is a staticmethod but `str.format` is an instance method
info: This violates the Liskov Substitution Principle
info: rule `invalid-method-override` is enabled by default

error[invalid-argument-type]: Argument to function `format` is incorrect
  --> pyrogram/types/user_and_chats/user.py:36:58
   |
35 |     def __call__(self, other: str | None = None, *, style: str | None = None):
36 |         return Link.format(self.url, other or self.text, style or self.style)
   |                                                          ^^^^^^^^^^^^^^^^^^^ Expected `ParseMode`, found `(str & ~AlwaysFalsy) | Unknown | ParseMode`
37 |
38 |     def __str__(self) -> str:
   |
info: Element `str & ~AlwaysFalsy` of this union is not assignable to `ParseMode`
info: Function defined here
  --> pyrogram/types/user_and_chats/user.py:27:9
   |
26 |     @staticmethod
27 |     def format(url: str, text: str, style: enums.ParseMode):
   |         ^^^^^^                      ---------------------- Parameter declared here
28 |         fmt = Link.MARKDOWN if style == enums.ParseMode.MARKDOWN else Link.HTML
   |
info: rule `invalid-argument-type` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
   --> pyrogram/types/user_and_chats/user.py:274:13
    |
272 |             f"tg://user?id={self.id}",
273 |             self.first_name or "Deleted Account",
274 |             self._client.parse_mode,
    |             ^^^^^^^^^^^^^^^^^^^^^^^ Expected `ParseMode`, found `Unknown | ParseMode | None`
275 |         )
    |
info: Element `None` of this union is not assignable to `ParseMode`
info: Method defined here
  --> pyrogram/types/user_and_chats/user.py:19:9
   |
17 |     MARKDOWN = "[{text}]({url})"
18 |
19 |     def __init__(self, url: str, text: str, style: enums.ParseMode) -> None:
   |         ^^^^^^^^                            ---------------------- Parameter declared here
20 |         super().__init__()
   |
info: Union variant `bound method Link.__init__(url: str, text: str, style: ParseMode) -> None` is incompatible with this call site
info: Attempted to call union type `(def __new__(cls, url, text, style) -> Unknown) | (bound method Link.__init__(url: str, text: str, style: ParseMode) -> None)`
info: rule `invalid-argument-type` is enabled by default

error[unresolved-attribute]: Object of type `User & ~UserEmpty` has no attribute `username`
   --> pyrogram/types/user_and_chats/user.py:281:21
    |
279 |         if user is None or isinstance(user, raw.types.UserEmpty):
280 |             return None
281 |         user_name = user.username
    |                     ^^^^^^^^^^^^^
282 |         active_usernames = getattr(user, "usernames", [])
283 |         active_users = getattr(user, "bot_active_users", None)
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `User & ~UserEmpty` has no attribute `id`
   --> pyrogram/types/user_and_chats/user.py:297:16
    |
296 |         return User(
297 |             id=user.id,
    |                ^^^^^^^
298 |             is_self=user.is_self,
299 |             is_contact=user.contact,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `User & ~UserEmpty` has no attribute `is_self`
   --> pyrogram/types/user_and_chats/user.py:298:21
    |
296 |         return User(
297 |             id=user.id,
298 |             is_self=user.is_self,
    |                     ^^^^^^^^^^^^
299 |             is_contact=user.contact,
300 |             is_mutual_contact=user.mutual_contact,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `User & ~UserEmpty` has no attribute `contact`
   --> pyrogram/types/user_and_chats/user.py:299:24
    |
297 |             id=user.id,
298 |             is_self=user.is_self,
299 |             is_contact=user.contact,
    |                        ^^^^^^^^^^^^
300 |             is_mutual_contact=user.mutual_contact,
301 |             is_deleted=user.deleted,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `User & ~UserEmpty` has no attribute `mutual_contact`
   --> pyrogram/types/user_and_chats/user.py:300:31
    |
298 |             is_self=user.is_self,
299 |             is_contact=user.contact,
300 |             is_mutual_contact=user.mutual_contact,
    |                               ^^^^^^^^^^^^^^^^^^^
301 |             is_deleted=user.deleted,
302 |             is_bot=user.bot,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `User & ~UserEmpty` has no attribute `deleted`
   --> pyrogram/types/user_and_chats/user.py:301:24
    |
299 |             is_contact=user.contact,
300 |             is_mutual_contact=user.mutual_contact,
301 |             is_deleted=user.deleted,
    |                        ^^^^^^^^^^^^
302 |             is_bot=user.bot,
303 |             is_verified=user.verified,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `User & ~UserEmpty` has no attribute `bot`
   --> pyrogram/types/user_and_chats/user.py:302:20
    |
300 |             is_mutual_contact=user.mutual_contact,
301 |             is_deleted=user.deleted,
302 |             is_bot=user.bot,
    |                    ^^^^^^^^
303 |             is_verified=user.verified,
304 |             is_restricted=user.restricted,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `User & ~UserEmpty` has no attribute `verified`
   --> pyrogram/types/user_and_chats/user.py:303:25
    |
301 |             is_deleted=user.deleted,
302 |             is_bot=user.bot,
303 |             is_verified=user.verified,
    |                         ^^^^^^^^^^^^^
304 |             is_restricted=user.restricted,
305 |             is_scam=user.scam,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `User & ~UserEmpty` has no attribute `restricted`
   --> pyrogram/types/user_and_chats/user.py:304:27
    |
302 |             is_bot=user.bot,
303 |             is_verified=user.verified,
304 |             is_restricted=user.restricted,
    |                           ^^^^^^^^^^^^^^^
305 |             is_scam=user.scam,
306 |             is_fake=user.fake,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `User & ~UserEmpty` has no attribute `scam`
   --> pyrogram/types/user_and_chats/user.py:305:21
    |
303 |             is_verified=user.verified,
304 |             is_restricted=user.restricted,
305 |             is_scam=user.scam,
    |                     ^^^^^^^^^
306 |             is_fake=user.fake,
307 |             is_support=user.support,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `User & ~UserEmpty` has no attribute `fake`
   --> pyrogram/types/user_and_chats/user.py:306:21
    |
304 |             is_restricted=user.restricted,
305 |             is_scam=user.scam,
306 |             is_fake=user.fake,
    |                     ^^^^^^^^^
307 |             is_support=user.support,
308 |             is_premium=user.premium,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `User & ~UserEmpty` has no attribute `support`
   --> pyrogram/types/user_and_chats/user.py:307:24
    |
305 |             is_scam=user.scam,
306 |             is_fake=user.fake,
307 |             is_support=user.support,
    |                        ^^^^^^^^^^^^
308 |             is_premium=user.premium,
309 |             is_contacts_only=user.contact_require_premium,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `User & ~UserEmpty` has no attribute `premium`
   --> pyrogram/types/user_and_chats/user.py:308:24
    |
306 |             is_fake=user.fake,
307 |             is_support=user.support,
308 |             is_premium=user.premium,
    |                        ^^^^^^^^^^^^
309 |             is_contacts_only=user.contact_require_premium,
310 |             is_bot_business=user.bot_business,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `User & ~UserEmpty` has no attribute `contact_require_premium`
   --> pyrogram/types/user_and_chats/user.py:309:30
    |
307 |             is_support=user.support,
308 |             is_premium=user.premium,
309 |             is_contacts_only=user.contact_require_premium,
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
310 |             is_bot_business=user.bot_business,
311 |             is_bot_can_edit=getattr(user, "bot_can_edit", None),
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `User & ~UserEmpty` has no attribute `bot_business`
   --> pyrogram/types/user_and_chats/user.py:310:29
    |
308 |             is_premium=user.premium,
309 |             is_contacts_only=user.contact_require_premium,
310 |             is_bot_business=user.bot_business,
    |                             ^^^^^^^^^^^^^^^^^
311 |             is_bot_can_edit=getattr(user, "bot_can_edit", None),
312 |             is_close_friend=getattr(user, "close_friend", None),
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `User & ~UserEmpty` has no attribute `first_name`
   --> pyrogram/types/user_and_chats/user.py:322:24
    |
320 |                 None,
321 |             ),
322 |             first_name=user.first_name,
    |                        ^^^^^^^^^^^^^^^
323 |             last_name=user.last_name,
324 |             **User._parse_status(user.status, user.bot),
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `User & ~UserEmpty` has no attribute `last_name`
   --> pyrogram/types/user_and_chats/user.py:323:23
    |
321 |             ),
322 |             first_name=user.first_name,
323 |             last_name=user.last_name,
    |                       ^^^^^^^^^^^^^^
324 |             **User._parse_status(user.status, user.bot),
325 |             username=user_name,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `User & ~UserEmpty` has no attribute `status`
   --> pyrogram/types/user_and_chats/user.py:324:34
    |
322 |             first_name=user.first_name,
323 |             last_name=user.last_name,
324 |             **User._parse_status(user.status, user.bot),
    |                                  ^^^^^^^^^^^
325 |             username=user_name,
326 |             usernames=usernames,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `User & ~UserEmpty` has no attribute `bot`
   --> pyrogram/types/user_and_chats/user.py:324:47
    |
322 |             first_name=user.first_name,
323 |             last_name=user.last_name,
324 |             **User._parse_status(user.status, user.bot),
    |                                               ^^^^^^^^
325 |             username=user_name,
326 |             usernames=usernames,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `User & ~UserEmpty` has no attribute `lang_code`
   --> pyrogram/types/user_and_chats/user.py:327:27
    |
325 |             username=user_name,
326 |             usernames=usernames,
327 |             language_code=user.lang_code,
    |                           ^^^^^^^^^^^^^^
328 |             emoji_status=types.EmojiStatus._parse(client, user.emoji_status),
329 |             dc_id=getattr(user.photo, "dc_id", None),
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `User & ~UserEmpty` has no attribute `emoji_status`
   --> pyrogram/types/user_and_chats/user.py:328:59
    |
326 |             usernames=usernames,
327 |             language_code=user.lang_code,
328 |             emoji_status=types.EmojiStatus._parse(client, user.emoji_status),
    |                                                           ^^^^^^^^^^^^^^^^^
329 |             dc_id=getattr(user.photo, "dc_id", None),
330 |             phone_number=user.phone,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `User & ~UserEmpty` has no attribute `photo`
   --> pyrogram/types/user_and_chats/user.py:329:27
    |
327 |             language_code=user.lang_code,
328 |             emoji_status=types.EmojiStatus._parse(client, user.emoji_status),
329 |             dc_id=getattr(user.photo, "dc_id", None),
    |                           ^^^^^^^^^^
330 |             phone_number=user.phone,
331 |             photo=types.ChatPhoto._parse(
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `User & ~UserEmpty` has no attribute `phone`
   --> pyrogram/types/user_and_chats/user.py:330:26
    |
328 |             emoji_status=types.EmojiStatus._parse(client, user.emoji_status),
329 |             dc_id=getattr(user.photo, "dc_id", None),
330 |             phone_number=user.phone,
    |                          ^^^^^^^^^^
331 |             photo=types.ChatPhoto._parse(
332 |                 client,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `User & ~UserEmpty` has no attribute `photo`
   --> pyrogram/types/user_and_chats/user.py:333:17
    |
331 |             photo=types.ChatPhoto._parse(
332 |                 client,
333 |                 user.photo,
    |                 ^^^^^^^^^^
334 |                 user.id,
335 |                 user.access_hash,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `User & ~UserEmpty` has no attribute `id`
   --> pyrogram/types/user_and_chats/user.py:334:17
    |
332 |                 client,
333 |                 user.photo,
334 |                 user.id,
    |                 ^^^^^^^
335 |                 user.access_hash,
336 |             ),
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `User & ~UserEmpty` has no attribute `access_hash`
   --> pyrogram/types/user_and_chats/user.py:335:17
    |
333 |                 user.photo,
334 |                 user.id,
335 |                 user.access_hash,
    |                 ^^^^^^^^^^^^^^^^
336 |             ),
337 |             restrictions=types.List(
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `User & ~UserEmpty` has no attribute `restriction_reason`
   --> pyrogram/types/user_and_chats/user.py:338:55
    |
336 |             ),
337 |             restrictions=types.List(
338 |                 [types.Restriction._parse(r) for r in user.restriction_reason],
    |                                                       ^^^^^^^^^^^^^^^^^^^^^^^
339 |             )
340 |             or None,
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `Client` has no attribute `listen`
   --> pyrogram/types/user_and_chats/user.py:425:16
    |
423 |             asyncio.TimeoutError: In case reply not received within the timeout.
424 |         """
425 |         return self._client.listen(*args, user_id=self.id, **kwargs)
    |                ^^^^^^^^^^^^^^^^^^^
426 |
427 |     def ask(self, text, *args, **kwargs):
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `Client` has no attribute `ask`
   --> pyrogram/types/user_and_chats/user.py:459:16
    |
457 |             asyncio.TimeoutError: In case reply not received within the timeout.
458 |         """
459 |         return self._client.ask(self.id, text, *args, user_id=self.id, **kwargs)
    |                ^^^^^^^^^^^^^^^^
460 |
461 |     def stop_listening(self, *args, **kwargs):
    |
info: rule `unresolved-attribute` is enabled by default

error[unresolved-attribute]: Object of type `Client` has no attribute `stop_listening`
   --> pyrogram/types/user_and_chats/user.py:482:16
    |
480 |                 user.stop_listen()
481 |         """
482 |         return self._client.stop_listening(*args, user_id=self.id, **kwargs)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
483 |
484 |     async def archive(self):
    |
info: rule `unresolved-attribute` is enabled by default

error[invalid-argument-type]: Argument to bound method `__init__` is incorrect
  --> pyrogram/types/user_and_chats/video_chat_members_invited.py:29:40
   |
27 |         parsed_users = [types.User._parse(client, users[i]) for i in action.users]
28 |
29 |         return VideoChatMembersInvited(users=parsed_users)
   |                                        ^^^^^^^^^^^^^^^^^^ Expected `list[User]`, found `list[Unknown | User | None]`
   |
info: Method defined here
  --> pyrogram/types/user_and_chats/video_chat_members_invited.py:16:9
   |
14 |     """
15 |
16 |     def __init__(self, *, users: list[types.User]) -> None:
   |         ^^^^^^^^          ----------------------- Parameter declared here
17 |         super().__init__()
   |
info: rule `invalid-argument-type` is enabled by default

Found 1690 diagnostics
